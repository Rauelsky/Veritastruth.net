(window.webpackJsonp=window.webpackJsonp||[]).push([[51],{267:function(t,e,i){"use strict";var a=function(){function Menu(t,e,i,a,n){var o=this;this.container=t,this.selector=e,this.menuLink=i,this.doi=a,this.trackArticleMetrics=n,this.viewport=1025,this.handler=function(t){if(!o.menuLink.isSameNode(t.target)&&null===t.target.closest(o.menuLink.className)){var e=o.container.querySelector(".toolbar-metric__menu");if(e&&o.menuLink!==t.currentTarget&&"true"===o.menuLink.getAttribute("aria-expanded")){var i=e.closest(".toolbar-metric-container");if(i){var a=i.querySelector(".toolbar-metric__data"),n=a?JSON.parse(a.value).data.doi:o.doi;o.trackArticleMetrics.init("close",null,n)}}o.dropMenu.classList.remove("js--metrics-open"),o.setA11y("hide",o.menuLink,o.dropMenu)}}}return Menu.prototype.init=function(){var t,e=this,i=this.menuLink.getAttribute("data-metrics-target-for");this.dropMenu=null===(t=this.menuLink.closest(".metrics-menu"))||void 0===t?void 0:t.querySelector("[data-metrics-target-of='"+i+"']"),this.dropMenu?(this.setA11y("hide",this.menuLink,this.dropMenu),window.addEventListener("click",this.handler),window.addEventListener("keydown",(function(t){return e.handleEscKeydown(t)})),this.menuLink.addEventListener("click",(function(t){e.menuLinkClickHandler(t)}))):console.error("Drop menu element not found.")},Menu.prototype.menuLinkClickHandler=function(t){t.preventDefault();var e=this.menuLink.classList.contains("toolbar-metric__link");""!==this.dropMenu.childNodes[0].innerHTML&&(this.dropMenu.classList.toggle("js--metrics-open"),"false"===this.menuLink.getAttribute("aria-expanded")?(this.setA11y("show",this.menuLink,this.dropMenu),e&&this.trackArticleMetrics.toolbarCaptureEvents("open",null)):(this.setA11y("hide",this.menuLink,this.dropMenu),e&&this.trackArticleMetrics.toolbarCaptureEvents("close",null)))},Menu.prototype.setA11y=function(t,e,i){var hideAttrs=function(){i.setAttribute("aria-hidden","true"),i.setAttribute("tabindex","-1"),i.querySelectorAll("a, button").forEach((function(t){return t.setAttribute("tabindex","-1")})),e.setAttribute("aria-expanded","false")};"hide"===t?i.classList.contains("metrics-tabs__list-container")?window.innerWidth<this.viewport&&hideAttrs():hideAttrs():(i.removeAttribute("aria-hidden"),i.setAttribute("tabindex","0"),i.querySelectorAll("a, button").forEach((function(t){return t.removeAttribute("tabindex")})),e.setAttribute("aria-expanded","true"))},Menu.prototype.handleEscKeydown=function(t){if(27===t.keyCode){var e=document.querySelector(".js--metrics-open");if(e){var i=e.previousElementSibling;i&&i.click()}}},Menu}();e.a=a},321:function(t,e,i){"use strict";var a=i(267),n=i(268),o=i(291),r=function(){function ToolbarMetrics(t){this.container=t,this.selector="toolbar-metric",this.toolbarLinkSelector="toolbar-metric__link"}return ToolbarMetrics.prototype.init=function(t){var e=this,i=t.data;this.trackArticleMetrics=new n.a(this.container,this.selector,i),this.initMenu(i);var a=this.container.querySelector(".toolbar-metric__metrics-link");a&&a.addEventListener("click",(function(){return e.trackArticleMetricsController()})),this.totalTextsCounter()},ToolbarMetrics.prototype.initMenu=function(t){new a.a(this.container,this.selector,this.container.querySelector(".toolbar-metric__link"),null==t?void 0:t.doi,this.trackArticleMetrics).init()},ToolbarMetrics.prototype.trackArticleMetricsController=function(){this.trackArticleMetrics.toolbarCaptureEvents("full-page",null)},ToolbarMetrics.prototype.totalTextsCounter=function(){this.container.querySelectorAll(".toolbar-metric__total .total-text").forEach((function(t){return Object(o.b)(t)}))},ToolbarMetrics}();e.a=r},481:function(t,e,i){var a=i(42);t.exports=function template(t){var e,i="",n=t||{};return function(t,n,o,r,s){var c={download:'<svg aria-hidden="true" viewBox="-2 0 14 14" class="metrics-icon metrics-icon--download"><path d="M10 5.5H7v-4H3v4H0l5 5zm-10 6v1h10v-1z"/></svg>',downloads:'<svg aria-hidden="true" viewBox="-2 0 14 14" class="metrics-icon metrics-icon--downloads"><path d="M10 5.5H7v-4H3v4H0l5 5zm-10 6v1h10v-1z"/></svg>',citation:'<svg aria-hidden="true" viewBox="0 0 14 14" class="metrics-icon metrics-icon--citation"><path d="M2.3 11h2l2-3V3h-5v5h3zm6.4 0h2l2-3V3h-5v5h3z"/></svg>',citations:'<svg aria-hidden="true" viewBox="0 0 14 14" class="metrics-icon metrics-icon--citations"><path d="M2.3 11h2l2-3V3h-5v5h3zm6.4 0h2l2-3V3h-5v5h3z"/></svg>',views:'<svg aria-hidden="true" viewBox="0 0 14 14" class="metrics-icon metrics-icon--views"><path d="M7 2.27a7.56 7.56 0 00-7 4.76 7.56 7.56 0 0014 0 7.56 7.56 0 00-7-4.76zm0 7.93a3.17 3.17 0 110-6.35 3.17 3.17 0 010 6.35zm0-5.04A1.87 1.87 0 107 8.9a1.87 1.87 0 000-3.73z"/></svg>',facebook:'<svg aria-hidden="true" viewBox="0 0 14 14" class="metrics-icon metrics-icon--facebook"><path d="M.84 0a.8.8 0 00-.8.8v12.4c0 .44.36.8.8.8h6.78V8.61H5.68v-2.1h1.76v-1.6c0-1.75 1.14-2.89 2.82-2.89l1.58.1v1.93H10.7c-.88 0-.97.35-.97.96v1.41h2.1l-.43 2.11H9.64V14h3.52a.8.8 0 00.8-.8V.8a.8.8 0 00-.8-.8z"/></svg>',twitter:'<svg aria-hidden="true" viewBox="0 0 14 14" class="metrics-icon metrics-icon--twitter""><path d="M12.28 4.57v.35a10.3 10.3 0 01-2 5.67 6.2 6.2 0 01-2.45 2c-1.05.62-2.1.7-3.32.7A6.98 6.98 0 01.5 12.08h.7c1.22 0 2.35-.52 3.4-1.4a2.62 2.62 0 01-2.53-2h.52c.27 0 .53 0 .7-.17-.7 0-1.22-.35-1.66-.88a3.07 3.07 0 01-.6-1.83c.34.18.78.26 1.21.26A2.97 2.97 0 01.94 3.7c0-.61.08-1.05.35-1.49.7.88 1.48 1.66 2.53 2.19a6.1 6.1 0 003.14.87v-.7c0-.87.26-1.48.78-2.1.53-.52 1.05-.87 1.75-.87s1.4.35 1.92.88c.7-.1 1.13-.35 1.74-.7a2.62 2.62 0 01-1.22 1.74l1.57-.43a5.34 5.34 0 01-1.3 1.48z"/></svg>',stackexchange:'<svg aria-hidden="true" viewBox="0 0 14 14" class="metrics-icon metrics-icon--stackexchange"><path d="M1.8 9.4h10.4v.6c0 1-.7 1.7-1.6 1.7H10L7.9 14v-2.3H3.4c-.9 0-1.6-.7-1.6-1.7zm0-.6h10.4V6.7H1.8zm0-2.7h10.4V3.9H1.8zM10.6 1H3.4c-.9 0-1.6.8-1.6 1.7v.6h10.4v-.6c0-1-.7-1.7-1.6-1.7z"/></svg>',blog:'<svg aria-hidden="true" viewBox="0 0 14 14" class="metrics-icon metrics-icon--blog"><path d="M11.8 1.4H2.2c-.7 0-1.2.5-1.2 1.1v10.9L3.4 11h8.4c.7 0 1.2-.5 1.2-1.3V2.5c0-.6-.5-1.1-1.2-1.1zm-1.2 7.2H3.4V7.4h7.2zm0-1.8H3.4V5.5h7.2zm0-1.8H3.4V3.7h7.2z"/></svg>',default:'<svg aria-hidden="true" viewBox="0 0 14 14" class="metrics-icon metrics-icon--default"><path d="M2.3 3.5h10.5V2.3H2.3c-.6 0-1.1.6-1.1 1.2v6.4H0v1.8h8.2V9.9H2.3zm11.1 1.2H10c-.3 0-.6.2-.6.5v5.9c0 .3.3.6.6.6h3.5c.3 0 .6-.3.6-.6V5.3c0-.4-.3-.6-.6-.6zm-.6 5.2h-2.3V6h2.3z"/></svg>',newsfeed:'<svg aria-hidden="true" viewBox="0 0 14 14" class="metrics-icon metrics-icon--newsfeed"><path d="M9.8 0H2.2C1.5 0 1 .6 1 1.3v8.9h1.2v-9h7.6zm2 2.6h-7c-.8 0-1.3.5-1.3 1.2v9c0 .7.5 1.2 1.3 1.2h7c.7 0 1.2-.6 1.2-1.3V3.8c0-.7-.5-1.2-1.3-1.2zm0 10.1h-7V3.8h7z"/></svg>',wikipedia:'<svg aria-hidden="true" viewBox="0 0 14 14" class="metrics-icon metrics-icon--wikipedia"><path d="M7 0a7 7 0 100 14A7 7 0 007 0zm4.9 4.2H9.8c-.3-.8-.5-1.7-1-2.5 1.3.4 2.4 1.3 3 2.5zM7 1.4c.6.9 1 1.7 1.3 2.8H5.7c.3-1 .7-2 1.3-2.8zm-5.5 7a5.7 5.7 0 010-2.8H4a11.6 11.6 0 000 2.8zm.6 1.4h2.1c.3.8.5 1.7 1 2.5a5.7 5.7 0 01-3-2.5zm2.1-5.6h-2a5.6 5.6 0 013-2.5c-.5.8-.7 1.7-1 2.5zM7 12.7c-.6-.9-1-1.9-1.3-3h2.6c-.3 1.1-.8 2-1.3 2.9zm1.7-4.3H5.3a9.8 9.8 0 010-2.8h3.4a9.8 9.8 0 010 2.8zm.2 4l.9-2.6h2a5.6 5.6 0 01-3 2.5zm1.1-4a11.6 11.6 0 000-2.8h2.4a5.7 5.7 0 010 2.8z"/></svg>',wordpressdotcom:'<svg aria-hidden="true" viewBox="0 0 14 14" class="metrics-icon metrics-icon--wordpressdotcom"><path d="M1 7c0 2.4 1.3 4.5 3.4 5.5l-3-8A6 6 0 001 6.9zm6 6c.7 0 1.4 0 2-.3L7 7.5l-1.8 5.3c.5.2 1 .3 1.7.3zm.9-8.9l2.1 6.6.7-2 .4-2c0-.6-.2-1.2-.5-1.6-.3-.6-.6-1-.6-1.5s.4-1 1-1a6 6 0 00-9 1H3.8c.4 0 .4.4 0 .5h-.6l2.2 6.7 1.3-4-1-2.6h-.6c-.3 0-.2-.5 0-.5h3.3c.3 0 .4.4 0 .4l-.6.1zm2.1 8.1c1.9-1 3-3 3-5.2 0-1-.2-2-.7-3 .1 1 0 2-.4 2.9l-1.8 5.4zM7 14A7 7 0 117 0a7 7 0 010 14z"/></svg>',reddit:'<svg aria-hidden="true" viewBox="0 0 14 14" class="metrics-icon metrics-icon--reddit"><path d="M13.8 6c0-.8-.7-1.4-1.6-1.4-.3 0-.7.2-1 .4-1-.8-2.5-1.2-3.8-1.2L8 .7l2.1.4c0 .6.5 1 1.1 1 .5 0 1-.7.9-1.2 0-.6-.5-.9-1.1-.8a1 1 0 00-.8.4L8 0l-.4.3L7 3.7c-1.5 0-2.9.5-4 1.2-.6-.5-1.6-.5-2.1 0a1.4 1.4 0 00.4 2.5v.5c0 2.2 2.7 4 5.8 4 3.3 0 6-1.8 6-4v-.7c.4-.2.8-.7.8-1.3zM3.7 7c0-.5.4-1 1-1s1 .5 1 1-.4 1-1 1a1 1 0 01-1-1zm5.9 2.7c-.8.5-1.7.9-2.6.9-.8 0-1.7-.4-2.5-.9a.3.3 0 010-.4H5a3.4 3.4 0 002 .7 3.4 3.4 0 002.1-.6c.1-.2.4-.2.5 0v.3zM9.4 8a1 1 0 01-1-1c0-.5.4-1 1-1 .5 0 1 .5 1 1s-.4 1-1 1z"/></svg>',redditlinks:'<svg aria-hidden="true" viewBox="0 0 14 14" class="metrics-icon metrics-icon--redditlinks"><path d="M13.8 6c0-.8-.7-1.4-1.6-1.4-.3 0-.7.2-1 .4-1-.8-2.5-1.2-3.8-1.2L8 .7l2.1.4c0 .6.5 1 1.1 1 .5 0 1-.7.9-1.2 0-.6-.5-.9-1.1-.8a1 1 0 00-.8.4L8 0l-.4.3L7 3.7c-1.5 0-2.9.5-4 1.2-.6-.5-1.6-.5-2.1 0a1.4 1.4 0 00.4 2.5v.5c0 2.2 2.7 4 5.8 4 3.3 0 6-1.8 6-4v-.7c.4-.2.8-.7.8-1.3zM3.7 7c0-.5.4-1 1-1s1 .5 1 1-.4 1-1 1a1 1 0 01-1-1zm5.9 2.7c-.8.5-1.7.9-2.6.9-.8 0-1.7-.4-2.5-.9a.3.3 0 010-.4H5a3.4 3.4 0 002 .7 3.4 3.4 0 002.1-.6c.1-.2.4-.2.5 0v.3zM9.4 8a1 1 0 01-1-1c0-.5.4-1 1-1 .5 0 1 .5 1 1s-.4 1-1 1z"/></svg>'},l="toolbar-metric",u='<svg aria-hidden="true" viewBox="0 0 20 12" width="20" height="12" class="metrics-icon chart-icon"><path d="M14 0l2.3 2.3-4.9 4.9-4-4L0 10.6 1.4 12l6-6 4 4 6.3-6.3L20 6V0h-6z"/></svg>';t={title:""},i=i+"<div"+a.attr("class",a.classes(["metrics-menu",l],[!1,!0]),!1,!0)+">";var d=!1;(function(){var t=n.menuSections;if("number"==typeof t.length)for(var e=0,i=t.length;e<i;e++){(a=t[e]).id&&a.total&&a.total>0&&(d=!0)}else{i=0;for(var e in t){var a;i++,(a=t[e]).id&&a.total&&a.total>0&&(d=!0)}}}).call(this),i=i+"<a"+a.attrs(a.merge([{class:a.classes(["metrics-menu__link","toolbar-metric__link","".concat(d?"":"toolbar-metric__link--no-metrics")],[!1,!1,!0]),href:"#","data-metrics-target-for":a.escape("toolbar-metric--menu"),"aria-expanded":"false","aria-haspopup":"true",title:"Metrics"},t]),!0)+">"+(null==(e=u)?"":e)+'<div class="toolbar-metric__link-metrics"></div>',d?function(){var t=n.menuSections;if("number"==typeof t.length)for(var r=0,s=t.length;r<s;r++){(l=t[r]).id&&l.total&&l.total>0&&(i=i+"<span"+a.attr("class",a.classes(["toolbar-metric__total","toolbar-metric__total--".concat(l.id," ").concat(l.color?"toolbar-metric__total--".concat(l.color):"")],[!1,!0]),!1,!0)+">"+(null==(e=c[l.id]?c[l.id]:c.default)?"":e)+'<span class="total-text"'+a.attr("data-count",l.total,!0,!0)+">"+(null==(e=l.total.toLocaleString(o.language))?"":e)+"</span></span>")}else{s=0;for(var r in t){var l;s++,(l=t[r]).id&&l.total&&l.total>0&&(i=i+"<span"+a.attr("class",a.classes(["toolbar-metric__total","toolbar-metric__total--".concat(l.id," ").concat(l.color?"toolbar-metric__total--".concat(l.color):"")],[!1,!0]),!1,!0)+">"+(null==(e=c[l.id]?c[l.id]:c.default)?"":e)+'<span class="total-text"'+a.attr("data-count",l.total,!0,!0)+">"+(null==(e=l.total.toLocaleString(o.language))?"":e)+"</span></span>")}}}.call(this):i+='<span class="toolbar-metric__total toolbar-metric__total--empty">No metrics to display.</span>',i=i+'</a><div class="metrics-menu__dropdown-container toolbar-metric__menu"'+a.attr("data-metrics-target-of","toolbar-metric--menu",!0,!0)+' aria-hidden="true"><div class="metrics-rlist metrics-menu__dropdown">',d&&(i=i+'<h3 class="toolbar-metric__menu-title">'+(null==(e=s.toolbar.title)?"":e)+"</h3>"),function(){var t=n.menuSections;if("number"==typeof t.length)for(var l=0,u=t.length;l<u;l++){(d=t[l]).id&&d.total&&d.total>0&&(i=i+"<section"+a.attr("class",a.classes(["".concat("toolbar-metric__menu-section"," ").concat(d.color?"toolbar-metric__menu-section--".concat(d.color):"")],[!0]),!1,!0)+">"+(null==(e=c[d.id]?c[d.id]:c.default)?"":e)+'<div class="toolbar-metric__menu-section-counts"><h4'+a.attr("class",a.classes(["menu-title","menu-title--".concat(d.id," ").concat(d.color?"menu-title--".concat(d.color):"")],[!1,!0]),!1,!0)+'><span class="menu-title-text">'+(null==(e=d.title)?"":e)+'</span><span class="menu-total-value">'+(null==(e=r(d.total,10).toLocaleString(o.language))?"":e)+"</span></h4><ul"+a.attr("class",a.classes(["menu-list metrics-rlist"],[!0]),!1,!0)+">",d.last6&&(i=i+'<li><span class="menu-item-text">'+(null==(e=s.periods.last6)?"":e)+'</span><span class="menu-item-value">'+(null==(e=r(d.last6,10).toLocaleString(o.language))?"":e)+"</span></li>"),d.last12&&(i=i+'<li><span class="menu-item-text">'+(null==(e=s.periods.last12)?"":e)+'</span><span class="menu-item-value">'+(null==(e=r(d.last12,10).toLocaleString(o.language))?"":e)+"</span></li>"),i+="</ul></div></section>")}else{u=0;for(var l in t){var d;u++,(d=t[l]).id&&d.total&&d.total>0&&(i=i+"<section"+a.attr("class",a.classes(["".concat("toolbar-metric__menu-section"," ").concat(d.color?"toolbar-metric__menu-section--".concat(d.color):"")],[!0]),!1,!0)+">"+(null==(e=c[d.id]?c[d.id]:c.default)?"":e)+'<div class="toolbar-metric__menu-section-counts"><h4'+a.attr("class",a.classes(["menu-title","menu-title--".concat(d.id," ").concat(d.color?"menu-title--".concat(d.color):"")],[!1,!0]),!1,!0)+'><span class="menu-title-text">'+(null==(e=d.title)?"":e)+'</span><span class="menu-total-value">'+(null==(e=r(d.total,10).toLocaleString(o.language))?"":e)+"</span></h4><ul"+a.attr("class",a.classes(["menu-list metrics-rlist"],[!0]),!1,!0)+">",d.last6&&(i=i+'<li><span class="menu-item-text">'+(null==(e=s.periods.last6)?"":e)+'</span><span class="menu-item-value">'+(null==(e=r(d.last6,10).toLocaleString(o.language))?"":e)+"</span></li>"),d.last12&&(i=i+'<li><span class="menu-item-text">'+(null==(e=s.periods.last12)?"":e)+'</span><span class="menu-item-value">'+(null==(e=r(d.last12,10).toLocaleString(o.language))?"":e)+"</span></li>"),i+="</ul></div></section>")}}}.call(this),i+="</div>",n.linkToFullPageWithDoi&&(i=i+'<a class="toolbar-metric__metrics-link"'+a.attr("href",n.linkToFullPageWithDoi,!0,!0)+' title="Go to metrics page"><span>'+(null==(e=s.viewAll)?"":e)+"</span>"+(null==(e='<svg aria-hidden="true" viewBox="0 0 12 12" width="12" height="12" class="metrics-icon link-icon"><path d="M10.7 10.7H1.3V1.3H6V0H1.3C.6 0 0 .6 0 1.3v9.4c0 .7.6 1.3 1.3 1.3h9.4c.7 0 1.3-.6 1.3-1.3V6h-1.3v4.7zM7.3 0v1.3h2.4L3.2 8l1 1 6.5-6.6v2.4H12V0H7.3z"/></svg>')?"":e)+"</a>"),i+="</div></div>"}.call(this,"additionalMetricLinksAttr"in n?n.additionalMetricLinksAttr:"undefined"!=typeof additionalMetricLinksAttr?additionalMetricLinksAttr:void 0,"data"in n?n.data:"undefined"!=typeof data?data:void 0,"navigator"in n?n.navigator:"undefined"!=typeof navigator?navigator:void 0,"parseInt"in n?n.parseInt:"undefined"!=typeof parseInt?parseInt:void 0,"translations"in n?n.translations:"undefined"!=typeof translations?translations:void 0),i}},838:function(t,e,i){"use strict";i.r(e);var a,n=i(481),o=i.n(n),r=i(321),s=i(269),c=i(12),l=(a=function(t,e){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])})(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function __(){this.constructor=t}a(t,e),t.prototype=null===e?Object.create(e):(__.prototype=e.prototype,new __)}),u=function(t){function ToolbarMetric(e,i){var a=t.call(this,o.a,new r.a(e),e,i,new c.f(".toolbar-metric__data"))||this;return a.wrapper=e,a.index=i,a}return l(ToolbarMetric,t),ToolbarMetric.prototype.initializeSidebarMetrics=function(t){var e=this;this.widgetClass.init(t),document.addEventListener("toolbarMetric:re-init",(function(t){return e.widgetClass.init()}))},ToolbarMetric}(s.a);e.default=u}}]);
//# sourceMappingURL=51-95f086bcc4ba72c765dc.js.map