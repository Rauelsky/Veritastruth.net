(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{266:function(n,r,a){"use strict";function none(){}a.d(r,"m",(function(){return src_select})),a.d(r,"e",(function(){return h})),a.d(r,"k",(function(){return linear})),a.d(r,"l",(function(){return src_time})),a.d(r,"p",(function(){return Ft})),a.d(r,"o",(function(){return formatLocale})),a.d(r,"n",(function(){return At})),a.d(r,"a",(function(){return axisBottom})),a.d(r,"b",(function(){return axisLeft})),a.d(r,"f",(function(){return Y})),a.d(r,"g",(function(){return equirectangular})),a.d(r,"h",(function(){return src_path})),a.d(r,"j",(function(){return src_max})),a.d(r,"r",(function(){return d3_zoom_src_zoom})),a.d(r,"q",(function(){return src_transition_transition})),a.d(r,"d",(function(){return ye})),a.d(r,"i",(function(){return src_line})),a.d(r,"c",(function(){return monotoneX}));var src_selector=function(n){return null==n?none:function(){return this.querySelector(n)}};function selectorAll_empty(){return[]}var selectorAll=function(n){return null==n?selectorAll_empty:function(){return this.querySelectorAll(n)}},matcher=function(n){return function(){return this.matches(n)}},sparse=function(n){return new Array(n.length)};function EnterNode(n,r){this.ownerDocument=n.ownerDocument,this.namespaceURI=n.namespaceURI,this._next=null,this._parent=n,this.__data__=r}EnterNode.prototype={constructor:EnterNode,appendChild:function appendChild(n){return this._parent.insertBefore(n,this._next)},insertBefore:function insertBefore(n,r){return this._parent.insertBefore(n,r)},querySelector:function querySelector(n){return this._parent.querySelector(n)},querySelectorAll:function querySelectorAll(n){return this._parent.querySelectorAll(n)}};function bindIndex(n,r,a,u,s,l){for(var h,d=0,m=r.length,v=l.length;d<v;++d)(h=r[d])?(h.__data__=l[d],u[d]=h):a[d]=new EnterNode(n,l[d]);for(;d<m;++d)(h=r[d])&&(s[d]=h)}function bindKey(n,r,a,u,s,l,h){var d,m,v,y={},w=r.length,M=l.length,T=new Array(w);for(d=0;d<w;++d)(m=r[d])&&(T[d]=v="$"+h.call(m,m.__data__,d,r),v in y?s[d]=m:y[v]=m);for(d=0;d<M;++d)(m=y[v="$"+h.call(n,l[d],d,l)])?(u[d]=m,m.__data__=l[d],y[v]=null):a[d]=new EnterNode(n,l[d]);for(d=0;d<w;++d)(m=r[d])&&y[T[d]]===m&&(s[d]=m)}function ascending(n,r){return n<r?-1:n>r?1:n>=r?0:NaN}var u="http://www.w3.org/1999/xhtml",s={svg:"http://www.w3.org/2000/svg",xhtml:u,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},namespace=function(n){var r=n+="",a=r.indexOf(":");return a>=0&&"xmlns"!==(r=n.slice(0,a))&&(n=n.slice(a+1)),s.hasOwnProperty(r)?{space:s[r],local:n}:n};function attrRemove(n){return function(){this.removeAttribute(n)}}function attrRemoveNS(n){return function(){this.removeAttributeNS(n.space,n.local)}}function attrConstant(n,r){return function(){this.setAttribute(n,r)}}function attrConstantNS(n,r){return function(){this.setAttributeNS(n.space,n.local,r)}}function attrFunction(n,r){return function(){var a=r.apply(this,arguments);null==a?this.removeAttribute(n):this.setAttribute(n,a)}}function attrFunctionNS(n,r){return function(){var a=r.apply(this,arguments);null==a?this.removeAttributeNS(n.space,n.local):this.setAttributeNS(n.space,n.local,a)}}var src_window=function(n){return n.ownerDocument&&n.ownerDocument.defaultView||n.document&&n||n.defaultView};function styleRemove(n){return function(){this.style.removeProperty(n)}}function styleConstant(n,r,a){return function(){this.style.setProperty(n,r,a)}}function styleFunction(n,r,a){return function(){var u=r.apply(this,arguments);null==u?this.style.removeProperty(n):this.style.setProperty(n,u,a)}}function styleValue(n,r){return n.style.getPropertyValue(r)||src_window(n).getComputedStyle(n,null).getPropertyValue(r)}function propertyRemove(n){return function(){delete this[n]}}function propertyConstant(n,r){return function(){this[n]=r}}function propertyFunction(n,r){return function(){var a=r.apply(this,arguments);null==a?delete this[n]:this[n]=a}}function classArray(n){return n.trim().split(/^|\s+/)}function classList(n){return n.classList||new ClassList(n)}function ClassList(n){this._node=n,this._names=classArray(n.getAttribute("class")||"")}function classedAdd(n,r){for(var a=classList(n),u=-1,s=r.length;++u<s;)a.add(r[u])}function classedRemove(n,r){for(var a=classList(n),u=-1,s=r.length;++u<s;)a.remove(r[u])}function classedTrue(n){return function(){classedAdd(this,n)}}function classedFalse(n){return function(){classedRemove(this,n)}}function classedFunction(n,r){return function(){(r.apply(this,arguments)?classedAdd:classedRemove)(this,n)}}ClassList.prototype={add:function add(n){this._names.indexOf(n)<0&&(this._names.push(n),this._node.setAttribute("class",this._names.join(" ")))},remove:function remove(n){var r=this._names.indexOf(n);r>=0&&(this._names.splice(r,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function contains(n){return this._names.indexOf(n)>=0}};function textRemove(){this.textContent=""}function textConstant(n){return function(){this.textContent=n}}function textFunction(n){return function(){var r=n.apply(this,arguments);this.textContent=null==r?"":r}}function htmlRemove(){this.innerHTML=""}function htmlConstant(n){return function(){this.innerHTML=n}}function htmlFunction(n){return function(){var r=n.apply(this,arguments);this.innerHTML=null==r?"":r}}function raise(){this.nextSibling&&this.parentNode.appendChild(this)}function lower(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function creatorInherit(n){return function(){var r=this.ownerDocument,a=this.namespaceURI;return a===u&&r.documentElement.namespaceURI===u?r.createElement(n):r.createElementNS(a,n)}}function creatorFixed(n){return function(){return this.ownerDocument.createElementNS(n.space,n.local)}}var creator=function(n){var r=namespace(n);return(r.local?creatorFixed:creatorInherit)(r)};function constantNull(){return null}function remove_remove(){var n=this.parentNode;n&&n.removeChild(this)}function selection_cloneShallow(){var n=this.cloneNode(!1),r=this.parentNode;return r?r.insertBefore(n,this.nextSibling):n}function selection_cloneDeep(){var n=this.cloneNode(!0),r=this.parentNode;return r?r.insertBefore(n,this.nextSibling):n}var l={},h=null;"undefined"!=typeof document&&("onmouseenter"in document.documentElement||(l={mouseenter:"mouseover",mouseleave:"mouseout"}));function filterContextListener(n,r,a){return n=contextListener(n,r,a),function(r){var a=r.relatedTarget;a&&(a===this||8&a.compareDocumentPosition(this))||n.call(this,r)}}function contextListener(n,r,a){return function(u){var s=h;h=u;try{n.call(this,this.__data__,r,a)}finally{h=s}}}function parseTypenames(n){return n.trim().split(/^|\s+/).map((function(n){var r="",a=n.indexOf(".");return a>=0&&(r=n.slice(a+1),n=n.slice(0,a)),{type:n,name:r}}))}function onRemove(n){return function(){var r=this.__on;if(r){for(var a,u=0,s=-1,l=r.length;u<l;++u)a=r[u],n.type&&a.type!==n.type||a.name!==n.name?r[++s]=a:this.removeEventListener(a.type,a.listener,a.capture);++s?r.length=s:delete this.__on}}}function onAdd(n,r,a){var u=l.hasOwnProperty(n.type)?filterContextListener:contextListener;return function(s,l,h){var d,m=this.__on,v=u(r,l,h);if(m)for(var y=0,w=m.length;y<w;++y)if((d=m[y]).type===n.type&&d.name===n.name)return this.removeEventListener(d.type,d.listener,d.capture),this.addEventListener(d.type,d.listener=v,d.capture=a),void(d.value=r);this.addEventListener(n.type,v,a),d={type:n.type,name:n.name,value:r,listener:v,capture:a},m?m.push(d):this.__on=[d]}}function dispatchEvent(n,r,a){var u=src_window(n),s=u.CustomEvent;"function"==typeof s?s=new s(r,a):(s=u.document.createEvent("Event"),a?(s.initEvent(r,a.bubbles,a.cancelable),s.detail=a.detail):s.initEvent(r,!1,!1)),n.dispatchEvent(s)}function dispatchConstant(n,r){return function(){return dispatchEvent(this,n,r)}}function dispatchFunction(n,r){return function(){return dispatchEvent(this,n,r.apply(this,arguments))}}var d=[null];function Selection(n,r){this._groups=n,this._parents=r}function selection_selection(){return new Selection([[document.documentElement]],d)}Selection.prototype=selection_selection.prototype={constructor:Selection,select:function(n){"function"!=typeof n&&(n=src_selector(n));for(var r=this._groups,a=r.length,u=new Array(a),s=0;s<a;++s)for(var l,h,d=r[s],m=d.length,v=u[s]=new Array(m),y=0;y<m;++y)(l=d[y])&&(h=n.call(l,l.__data__,y,d))&&("__data__"in l&&(h.__data__=l.__data__),v[y]=h);return new Selection(u,this._parents)},selectAll:function(n){"function"!=typeof n&&(n=selectorAll(n));for(var r=this._groups,a=r.length,u=[],s=[],l=0;l<a;++l)for(var h,d=r[l],m=d.length,v=0;v<m;++v)(h=d[v])&&(u.push(n.call(h,h.__data__,v,d)),s.push(h));return new Selection(u,s)},filter:function(n){"function"!=typeof n&&(n=matcher(n));for(var r=this._groups,a=r.length,u=new Array(a),s=0;s<a;++s)for(var l,h=r[s],d=h.length,m=u[s]=[],v=0;v<d;++v)(l=h[v])&&n.call(l,l.__data__,v,h)&&m.push(l);return new Selection(u,this._parents)},data:function(n,r){if(!n)return S=new Array(this.size()),y=-1,this.each((function(n){S[++y]=n})),S;var a,u=r?bindKey:bindIndex,s=this._parents,l=this._groups;"function"!=typeof n&&(a=n,n=function(){return a});for(var h=l.length,d=new Array(h),m=new Array(h),v=new Array(h),y=0;y<h;++y){var w=s[y],M=l[y],T=M.length,S=n.call(w,w&&w.__data__,y,s),E=S.length,C=m[y]=new Array(E),N=d[y]=new Array(E);u(w,M,C,N,v[y]=new Array(T),S,r);for(var k,A,F=0,D=0;F<E;++F)if(k=C[F]){for(F>=D&&(D=F+1);!(A=N[D])&&++D<E;);k._next=A||null}}return(d=new Selection(d,s))._enter=m,d._exit=v,d},enter:function(){return new Selection(this._enter||this._groups.map(sparse),this._parents)},exit:function(){return new Selection(this._exit||this._groups.map(sparse),this._parents)},join:function(n,r,a){var u=this.enter(),s=this,l=this.exit();return u="function"==typeof n?n(u):u.append(n+""),null!=r&&(s=r(s)),null==a?l.remove():a(l),u&&s?u.merge(s).order():s},merge:function(n){for(var r=this._groups,a=n._groups,u=r.length,s=a.length,l=Math.min(u,s),h=new Array(u),d=0;d<l;++d)for(var m,v=r[d],y=a[d],w=v.length,M=h[d]=new Array(w),T=0;T<w;++T)(m=v[T]||y[T])&&(M[T]=m);for(;d<u;++d)h[d]=r[d];return new Selection(h,this._parents)},order:function(){for(var n=this._groups,r=-1,a=n.length;++r<a;)for(var u,s=n[r],l=s.length-1,h=s[l];--l>=0;)(u=s[l])&&(h&&4^u.compareDocumentPosition(h)&&h.parentNode.insertBefore(u,h),h=u);return this},sort:function(n){function compareNode(r,a){return r&&a?n(r.__data__,a.__data__):!r-!a}n||(n=ascending);for(var r=this._groups,a=r.length,u=new Array(a),s=0;s<a;++s){for(var l,h=r[s],d=h.length,m=u[s]=new Array(d),v=0;v<d;++v)(l=h[v])&&(m[v]=l);m.sort(compareNode)}return new Selection(u,this._parents).order()},call:function(){var n=arguments[0];return arguments[0]=this,n.apply(null,arguments),this},nodes:function(){var n=new Array(this.size()),r=-1;return this.each((function(){n[++r]=this})),n},node:function(){for(var n=this._groups,r=0,a=n.length;r<a;++r)for(var u=n[r],s=0,l=u.length;s<l;++s){var h=u[s];if(h)return h}return null},size:function(){var n=0;return this.each((function(){++n})),n},empty:function(){return!this.node()},each:function(n){for(var r=this._groups,a=0,u=r.length;a<u;++a)for(var s,l=r[a],h=0,d=l.length;h<d;++h)(s=l[h])&&n.call(s,s.__data__,h,l);return this},attr:function(n,r){var a=namespace(n);if(arguments.length<2){var u=this.node();return a.local?u.getAttributeNS(a.space,a.local):u.getAttribute(a)}return this.each((null==r?a.local?attrRemoveNS:attrRemove:"function"==typeof r?a.local?attrFunctionNS:attrFunction:a.local?attrConstantNS:attrConstant)(a,r))},style:function(n,r,a){return arguments.length>1?this.each((null==r?styleRemove:"function"==typeof r?styleFunction:styleConstant)(n,r,null==a?"":a)):styleValue(this.node(),n)},property:function(n,r){return arguments.length>1?this.each((null==r?propertyRemove:"function"==typeof r?propertyFunction:propertyConstant)(n,r)):this.node()[n]},classed:function(n,r){var a=classArray(n+"");if(arguments.length<2){for(var u=classList(this.node()),s=-1,l=a.length;++s<l;)if(!u.contains(a[s]))return!1;return!0}return this.each(("function"==typeof r?classedFunction:r?classedTrue:classedFalse)(a,r))},text:function(n){return arguments.length?this.each(null==n?textRemove:("function"==typeof n?textFunction:textConstant)(n)):this.node().textContent},html:function(n){return arguments.length?this.each(null==n?htmlRemove:("function"==typeof n?htmlFunction:htmlConstant)(n)):this.node().innerHTML},raise:function(){return this.each(raise)},lower:function(){return this.each(lower)},append:function(n){var r="function"==typeof n?n:creator(n);return this.select((function(){return this.appendChild(r.apply(this,arguments))}))},insert:function(n,r){var a="function"==typeof n?n:creator(n),u=null==r?constantNull:"function"==typeof r?r:src_selector(r);return this.select((function(){return this.insertBefore(a.apply(this,arguments),u.apply(this,arguments)||null)}))},remove:function(){return this.each(remove_remove)},clone:function(n){return this.select(n?selection_cloneDeep:selection_cloneShallow)},datum:function(n){return arguments.length?this.property("__data__",n):this.node().__data__},on:function(n,r,a){var u,s,l=parseTypenames(n+""),h=l.length;if(!(arguments.length<2)){for(d=r?onAdd:onRemove,null==a&&(a=!1),u=0;u<h;++u)this.each(d(l[u],r,a));return this}var d=this.node().__on;if(d)for(var m,v=0,y=d.length;v<y;++v)for(u=0,m=d[v];u<h;++u)if((s=l[u]).type===m.type&&s.name===m.name)return m.value},dispatch:function(n,r){return this.each(("function"==typeof r?dispatchFunction:dispatchConstant)(n,r))}};var m=selection_selection,src_select=function(n){return"string"==typeof n?new Selection([[document.querySelector(n)]],[document.documentElement]):new Selection([[n]],d)},src_ascending=function(n,r){return n<r?-1:n>r?1:n>=r?0:NaN},bisector=function(n){return 1===n.length&&(n=function ascendingComparator(n){return function(r,a){return src_ascending(n(r),a)}}(n)),{left:function left(r,a,u,s){for(null==u&&(u=0),null==s&&(s=r.length);u<s;){var l=u+s>>>1;n(r[l],a)<0?u=l+1:s=l}return u},right:function right(r,a,u,s){for(null==u&&(u=0),null==s&&(s=r.length);u<s;){var l=u+s>>>1;n(r[l],a)>0?s=l:u=l+1}return u}}};var v=bisector(src_ascending),y=v.right,w=(v.left,y);var M=Array.prototype,T=(M.slice,M.map,Math.sqrt(50)),S=Math.sqrt(10),E=Math.sqrt(2),ticks=function(n,r,a){var u,s,l,h,d=-1;if(a=+a,(n=+n)===(r=+r)&&a>0)return[n];if((u=r<n)&&(s=n,n=r,r=s),0===(h=tickIncrement(n,r,a))||!isFinite(h))return[];if(h>0)for(n=Math.ceil(n/h),r=Math.floor(r/h),l=new Array(s=Math.ceil(r-n+1));++d<s;)l[d]=(n+d)*h;else for(n=Math.floor(n*h),r=Math.ceil(r*h),l=new Array(s=Math.ceil(n-r+1));++d<s;)l[d]=(n-d)/h;return u&&l.reverse(),l};function tickIncrement(n,r,a){var u=(r-n)/Math.max(0,a),s=Math.floor(Math.log(u)/Math.LN10),l=u/Math.pow(10,s);return s>=0?(l>=T?10:l>=S?5:l>=E?2:1)*Math.pow(10,s):-Math.pow(10,-s)/(l>=T?10:l>=S?5:l>=E?2:1)}function tickStep(n,r,a){var u=Math.abs(r-n)/Math.max(0,a),s=Math.pow(10,Math.floor(Math.log(u)/Math.LN10)),l=u/s;return l>=T?s*=10:l>=S?s*=5:l>=E&&(s*=2),r<n?-s:s}var src_max=function(n,r){var a,u,s=n.length,l=-1;if(null==r){for(;++l<s;)if(null!=(a=n[l])&&a>=a)for(u=a;++l<s;)null!=(a=n[l])&&a>u&&(u=a)}else for(;++l<s;)if(null!=(a=r(n[l],l,n))&&a>=a)for(u=a;++l<s;)null!=(a=r(n[l],l,n))&&a>u&&(u=a);return u},src_merge=function(n){for(var r,a,u,s=n.length,l=-1,h=0;++l<s;)h+=n[l].length;for(a=new Array(h);--s>=0;)for(r=(u=n[s]).length;--r>=0;)a[--h]=u[r];return a};function initRange(n,r){switch(arguments.length){case 0:break;case 1:this.range(n);break;default:this.range(r).domain(n)}return this}function Map(){}function map_map(n,r){var a=new Map;if(n instanceof Map)n.each((function(n,r){a.set(r,n)}));else if(Array.isArray(n)){var u,s=-1,l=n.length;if(null==r)for(;++s<l;)a.set(s,n[s]);else for(;++s<l;)a.set(r(u=n[s],s,n),u)}else if(n)for(var h in n)a.set(h,n[h]);return a}Map.prototype=map_map.prototype={constructor:Map,has:function has(n){return"$"+n in this},get:function get(n){return this["$"+n]},set:function set(n,r){return this["$"+n]=r,this},remove:function remove(n){var r="$"+n;return r in this&&delete this[r]},clear:function clear(){for(var n in this)"$"===n[0]&&delete this[n]},keys:function keys(){var keys=[];for(var n in this)"$"===n[0]&&keys.push(n.slice(1));return keys},values:function values(){var values=[];for(var n in this)"$"===n[0]&&values.push(this[n]);return values},entries:function entries(){var entries=[];for(var n in this)"$"===n[0]&&entries.push({key:n.slice(1),value:this[n]});return entries},size:function size(){var size=0;for(var n in this)"$"===n[0]&&++size;return size},empty:function empty(){for(var n in this)if("$"===n[0])return!1;return!0},each:function each(n){for(var r in this)"$"===r[0]&&n(this[r],r.slice(1),this)}};var C=map_map;function Set(){}var N=C.prototype;function set(n,r){var a=new Set;if(n instanceof Set)n.each((function(n){a.add(n)}));else if(n){var u=-1,s=n.length;if(null==r)for(;++u<s;)a.add(n[u]);else for(;++u<s;)a.add(r(n[u],u,n))}return a}Set.prototype=set.prototype={constructor:Set,has:N.has,add:function add(n){return this["$"+(n+="")]=n,this},remove:N.remove,clear:N.clear,values:N.keys,size:N.size,empty:N.empty,each:N.each};var k=Array.prototype,A=k.map,F=k.slice;var D=a(2),R=a.n(D),P=a(482),I=a(812),numberArray=function(n,r){r||(r=[]);var a,u=n?Math.min(r.length,n.length):0,s=r.slice();return function(l){for(a=0;a<u;++a)s[a]=n[a]*(1-l)+r[a]*l;return s}};function isNumberArray(n){return ArrayBuffer.isView(n)&&!(n instanceof DataView)}function genericArray(n,r){var a,u=r?r.length:0,s=n?Math.min(u,n.length):0,l=new Array(s),h=new Array(u);for(a=0;a<s;++a)l[a]=src_value(n[a],r[a]);for(;a<u;++a)h[a]=r[a];return function(n){for(a=0;a<s;++a)h[a]=l[a](n);return h}}var src_date=function(n,r){var a=new Date;return n=+n,r=+r,function(u){return a.setTime(n*(1-u)+r*u),a}},src_number=function(n,r){return n=+n,r=+r,function(a){return n*(1-a)+r*a}},src_object=function(n,r){var a,u={},s={};for(a in null!==n&&"object"===R()(n)||(n={}),null!==r&&"object"===R()(r)||(r={}),r)a in n?u[a]=src_value(n[a],r[a]):s[a]=r[a];return function(n){for(a in u)s[a]=u[a](n);return s}},U=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,z=new RegExp(U.source,"g");var src_string=function(n,r){var a,u,s,l=U.lastIndex=z.lastIndex=0,h=-1,d=[],m=[];for(n+="",r+="";(a=U.exec(n))&&(u=z.exec(r));)(s=u.index)>l&&(s=r.slice(l,s),d[h]?d[h]+=s:d[++h]=s),(a=a[0])===(u=u[0])?d[h]?d[h]+=u:d[++h]=u:(d[++h]=null,m.push({i:h,x:src_number(a,u)})),l=z.lastIndex;return l<r.length&&(s=r.slice(l),d[h]?d[h]+=s:d[++h]=s),d.length<2?m[0]?function one(n){return function(r){return n(r)+""}}(m[0].x):function string_zero(n){return function(){return n}}(r):(r=m.length,function(n){for(var a,u=0;u<r;++u)d[(a=m[u]).i]=a.x(n);return d.join("")})},O=a(391),src_value=function(n,r){var a,u=R()(r);return null==r||"boolean"===u?Object(O.a)(r):("number"===u?src_number:"string"===u?(a=Object(P.e)(r))?(r=a,I.a):src_string:r instanceof P.e?I.a:r instanceof Date?src_date:isNumberArray(r)?numberArray:Array.isArray(r)?genericArray:"function"!=typeof r.valueOf&&"function"!=typeof r.toString||isNaN(r)?src_object:src_number)(n,r)},src_round=function(n,r){return n=+n,r=+r,function(a){return Math.round(n*(1-a)+r*a)}},d3_scale_src_number=function(n){return+n},L=[0,1];function continuous_identity(n){return n}function normalize(n,r){return(r-=n=+n)?function(a){return(a-n)/r}:(a=isNaN(r)?NaN:.5,function(){return a});var a}function clamper(n){var r,a=n[0],u=n[n.length-1];return a>u&&(r=a,a=u,u=r),function(n){return Math.max(a,Math.min(u,n))}}function bimap(n,r,a){var u=n[0],s=n[1],l=r[0],h=r[1];return s<u?(u=normalize(s,u),l=a(h,l)):(u=normalize(u,s),l=a(l,h)),function(n){return l(u(n))}}function polymap(n,r,a){var u=Math.min(n.length,r.length)-1,s=new Array(u),l=new Array(u),h=-1;for(n[u]<n[0]&&(n=n.slice().reverse(),r=r.slice().reverse());++h<u;)s[h]=normalize(n[h],n[h+1]),l[h]=a(r[h],r[h+1]);return function(r){var a=w(n,r,1,u)-1;return l[a](s[a](r))}}function copy(n,r){return r.domain(n.domain()).range(n.range()).interpolate(n.interpolate()).clamp(n.clamp()).unknown(n.unknown())}function transformer(){var n,r,a,u,s,l,h=L,d=L,m=src_value,v=continuous_identity;function rescale(){return u=Math.min(h.length,d.length)>2?polymap:bimap,s=l=null,scale}function scale(r){return isNaN(r=+r)?a:(s||(s=u(h.map(n),d,m)))(n(v(r)))}return scale.invert=function(a){return v(r((l||(l=u(d,h.map(n),src_number)))(a)))},scale.domain=function(n){return arguments.length?(h=A.call(n,d3_scale_src_number),v===continuous_identity||(v=clamper(h)),rescale()):h.slice()},scale.range=function(n){return arguments.length?(d=F.call(n),rescale()):d.slice()},scale.rangeRound=function(n){return d=F.call(n),m=src_round,rescale()},scale.clamp=function(n){return arguments.length?(v=n?clamper(h):continuous_identity,scale):v!==continuous_identity},scale.interpolate=function(n){return arguments.length?(m=n,rescale()):m},scale.unknown=function(n){return arguments.length?(a=n,scale):a},function(a,u){return n=a,r=u,rescale()}}function continuous(n,r){return transformer()(n,r)}var V=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function formatSpecifier(n){if(!(r=V.exec(n)))throw new Error("invalid format: "+n);var r;return new FormatSpecifier({fill:r[1],align:r[2],sign:r[3],symbol:r[4],zero:r[5],width:r[6],comma:r[7],precision:r[8]&&r[8].slice(1),trim:r[9],type:r[10]})}function FormatSpecifier(n){this.fill=void 0===n.fill?" ":n.fill+"",this.align=void 0===n.align?">":n.align+"",this.sign=void 0===n.sign?"-":n.sign+"",this.symbol=void 0===n.symbol?"":n.symbol+"",this.zero=!!n.zero,this.width=void 0===n.width?void 0:+n.width,this.comma=!!n.comma,this.precision=void 0===n.precision?void 0:+n.precision,this.trim=!!n.trim,this.type=void 0===n.type?"":n.type+""}formatSpecifier.prototype=FormatSpecifier.prototype,FormatSpecifier.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(void 0===this.width?"":Math.max(1,0|this.width))+(this.comma?",":"")+(void 0===this.precision?"":"."+Math.max(0,0|this.precision))+(this.trim?"~":"")+this.type};function formatDecimalParts(n,r){if((a=(n=r?n.toExponential(r-1):n.toExponential()).indexOf("e"))<0)return null;var a,u=n.slice(0,a);return[u.length>1?u[0]+u.slice(2):u,+n.slice(a+1)]}var H,j,Y,W,src_exponent=function(n){return(n=formatDecimalParts(Math.abs(n)))?n[1]:NaN},formatRounded=function(n,r){var a=formatDecimalParts(n,r);if(!a)return n+"";var u=a[0],s=a[1];return s<0?"0."+new Array(-s).join("0")+u:u.length>s+1?u.slice(0,s+1)+"."+u.slice(s+1):u+new Array(s-u.length+2).join("0")},q={"%":function _(n,r){return(100*n).toFixed(r)},b:function b(n){return Math.round(n).toString(2)},c:function c(n){return n+""},d:function(n){return Math.abs(n=Math.round(n))>=1e21?n.toLocaleString("en").replace(/,/g,""):n.toString(10)},e:function e(n,r){return n.toExponential(r)},f:function f(n,r){return n.toFixed(r)},g:function g(n,r){return n.toPrecision(r)},o:function o(n){return Math.round(n).toString(8)},p:function p(n,r){return formatRounded(100*n,r)},r:formatRounded,s:function(n,r){var a=formatDecimalParts(n,r);if(!a)return n+"";var u=a[0],s=a[1],l=s-(H=3*Math.max(-8,Math.min(8,Math.floor(s/3))))+1,h=u.length;return l===h?u:l>h?u+new Array(l-h+1).join("0"):l>0?u.slice(0,l)+"."+u.slice(l):"0."+new Array(1-l).join("0")+formatDecimalParts(n,Math.max(0,r+l-1))[0]},X:function X(n){return Math.round(n).toString(16).toUpperCase()},x:function x(n){return Math.round(n).toString(16)}},src_identity=function(n){return n},G=Array.prototype.map,B=["y","z","a","f","p","n","Âµ","m","","k","M","G","T","P","E","Z","Y"],src_locale=function(n){var r,a,u=void 0===n.grouping||void 0===n.thousands?src_identity:(r=G.call(n.grouping,Number),a=n.thousands+"",function(n,u){for(var s=n.length,l=[],h=0,d=r[0],m=0;s>0&&d>0&&(m+d+1>u&&(d=Math.max(1,u-m)),l.push(n.substring(s-=d,s+d)),!((m+=d+1)>u));)d=r[h=(h+1)%r.length];return l.reverse().join(a)}),s=void 0===n.currency?"":n.currency[0]+"",l=void 0===n.currency?"":n.currency[1]+"",h=void 0===n.decimal?".":n.decimal+"",d=void 0===n.numerals?src_identity:function(n){return function(r){return r.replace(/[0-9]/g,(function(r){return n[+r]}))}}(G.call(n.numerals,String)),m=void 0===n.percent?"%":n.percent+"",v=void 0===n.minus?"-":n.minus+"",y=void 0===n.nan?"NaN":n.nan+"";function newFormat(n){var r=(n=formatSpecifier(n)).fill,a=n.align,w=n.sign,M=n.symbol,T=n.zero,S=n.width,E=n.comma,C=n.precision,N=n.trim,k=n.type;"n"===k?(E=!0,k="g"):q[k]||(void 0===C&&(C=12),N=!0,k="g"),(T||"0"===r&&"="===a)&&(T=!0,r="0",a="=");var A="$"===M?s:"#"===M&&/[boxX]/.test(k)?"0"+k.toLowerCase():"",F="$"===M?l:/[%p]/.test(k)?m:"",D=q[k],R=/[defgprs%]/.test(k);function format(n){var s,l,m,M=A,P=F;if("c"===k)P=D(n)+P,n="";else{var I=(n=+n)<0||1/n<0;if(n=isNaN(n)?y:D(Math.abs(n),C),N&&(n=function(n){t:for(var r,a=n.length,u=1,s=-1;u<a;++u)switch(n[u]){case".":s=r=u;break;case"0":0===s&&(s=u),r=u;break;default:if(!+n[u])break t;s>0&&(s=0)}return s>0?n.slice(0,s)+n.slice(r+1):n}(n)),I&&0==+n&&"+"!==w&&(I=!1),M=(I?"("===w?w:v:"-"===w||"("===w?"":w)+M,P=("s"===k?B[8+H/3]:"")+P+(I&&"("===w?")":""),R)for(s=-1,l=n.length;++s<l;)if(48>(m=n.charCodeAt(s))||m>57){P=(46===m?h+n.slice(s+1):n.slice(s))+P,n=n.slice(0,s);break}}E&&!T&&(n=u(n,1/0));var U=M.length+n.length+P.length,z=U<S?new Array(S-U+1).join(r):"";switch(E&&T&&(n=u(z+n,z.length?S-P.length:1/0),z=""),a){case"<":n=M+n+P+z;break;case"=":n=M+z+n+P;break;case"^":n=z.slice(0,U=z.length>>1)+M+n+P+z.slice(U);break;default:n=z+M+n+P}return d(n)}return C=void 0===C?6:/[gprs]/.test(k)?Math.max(1,Math.min(21,C)):Math.max(0,Math.min(20,C)),format.toString=function(){return n+""},format}return{format:newFormat,formatPrefix:function formatPrefix(n,r){var a=newFormat(((n=formatSpecifier(n)).type="f",n)),u=3*Math.max(-8,Math.min(8,Math.floor(src_exponent(r)/3))),s=Math.pow(10,-u),l=B[8+u/3];return function(n){return a(s*n)+l}}}};!function defaultLocale(n){return j=src_locale(n),Y=j.format,W=j.formatPrefix,j}({decimal:".",thousands:",",grouping:[3],currency:["$",""],minus:"-"});var src_tickFormat=function(n,r,a,u){var s,l=tickStep(n,r,a);switch((u=formatSpecifier(null==u?",f":u)).type){case"s":var h=Math.max(Math.abs(n),Math.abs(r));return null!=u.precision||isNaN(s=function(n,r){return Math.max(0,3*Math.max(-8,Math.min(8,Math.floor(src_exponent(r)/3)))-src_exponent(Math.abs(n)))}(l,h))||(u.precision=s),W(u,h);case"":case"e":case"g":case"p":case"r":null!=u.precision||isNaN(s=function(n,r){return n=Math.abs(n),r=Math.abs(r)-n,Math.max(0,src_exponent(r)-src_exponent(n))+1}(l,Math.max(Math.abs(n),Math.abs(r))))||(u.precision=s-("e"===u.type));break;case"f":case"%":null!=u.precision||isNaN(s=function(n){return Math.max(0,-src_exponent(Math.abs(n)))}(l))||(u.precision=s-2*("%"===u.type))}return Y(u)};function linearish(n){var r=n.domain;return n.ticks=function(n){var a=r();return ticks(a[0],a[a.length-1],null==n?10:n)},n.tickFormat=function(n,a){var u=r();return src_tickFormat(u[0],u[u.length-1],null==n?10:n,a)},n.nice=function(a){null==a&&(a=10);var u,s=r(),l=0,h=s.length-1,d=s[l],m=s[h];return m<d&&(u=d,d=m,m=u,u=l,l=h,h=u),(u=tickIncrement(d,m,a))>0?u=tickIncrement(d=Math.floor(d/u)*u,m=Math.ceil(m/u)*u,a):u<0&&(u=tickIncrement(d=Math.ceil(d*u)/u,m=Math.floor(m*u)/u,a)),u>0?(s[l]=Math.floor(d/u)*u,s[h]=Math.ceil(m/u)*u,r(s)):u<0&&(s[l]=Math.ceil(d*u)/u,s[h]=Math.floor(m*u)/u,r(s)),n},n}function linear(){var n=continuous(continuous_identity,continuous_identity);return n.copy=function(){return copy(n,linear())},initRange.apply(n,arguments),linearish(n)}var nice=function(n,r){var a,u=0,s=(n=n.slice()).length-1,l=n[u],h=n[s];return h<l&&(a=u,u=s,s=a,a=l,l=h,h=a),n[u]=r.floor(l),n[s]=r.ceil(h),n};var Z=new Date,$=new Date;function newInterval(n,r,a,u){function interval(r){return n(r=0===arguments.length?new Date:new Date(+r)),r}return interval.floor=function(r){return n(r=new Date(+r)),r},interval.ceil=function(a){return n(a=new Date(a-1)),r(a,1),n(a),a},interval.round=function(n){var r=interval(n),a=interval.ceil(n);return n-r<a-n?r:a},interval.offset=function(n,a){return r(n=new Date(+n),null==a?1:Math.floor(a)),n},interval.range=function(a,u,s){var l,h=[];if(a=interval.ceil(a),s=null==s?1:Math.floor(s),!(a<u&&s>0))return h;do{h.push(l=new Date(+a)),r(a,s),n(a)}while(l<a&&a<u);return h},interval.filter=function(a){return newInterval((function(r){if(r>=r)for(;n(r),!a(r);)r.setTime(r-1)}),(function(n,u){if(n>=n)if(u<0)for(;++u<=0;)for(;r(n,-1),!a(n););else for(;--u>=0;)for(;r(n,1),!a(n););}))},a&&(interval.count=function(r,u){return Z.setTime(+r),$.setTime(+u),n(Z),n($),Math.floor(a(Z,$))},interval.every=function(n){return n=Math.floor(n),isFinite(n)&&n>0?n>1?interval.filter(u?function(r){return u(r)%n==0}:function(r){return interval.count(0,r)%n==0}):interval:null}),interval}var Q=newInterval((function(n){n.setMonth(0,1),n.setHours(0,0,0,0)}),(function(n,r){n.setFullYear(n.getFullYear()+r)}),(function(n,r){return r.getFullYear()-n.getFullYear()}),(function(n){return n.getFullYear()}));Q.every=function(n){return isFinite(n=Math.floor(n))&&n>0?newInterval((function(r){r.setFullYear(Math.floor(r.getFullYear()/n)*n),r.setMonth(0,1),r.setHours(0,0,0,0)}),(function(r,a){r.setFullYear(r.getFullYear()+a*n)})):null};var J=Q,K=(Q.range,newInterval((function(n){n.setDate(1),n.setHours(0,0,0,0)}),(function(n,r){n.setMonth(n.getMonth()+r)}),(function(n,r){return r.getMonth()-n.getMonth()+12*(r.getFullYear()-n.getFullYear())}),(function(n){return n.getMonth()}))),tt=K;K.range;function weekday(n){return newInterval((function(r){r.setDate(r.getDate()-(r.getDay()+7-n)%7),r.setHours(0,0,0,0)}),(function(n,r){n.setDate(n.getDate()+7*r)}),(function(n,r){return(r-n-6e4*(r.getTimezoneOffset()-n.getTimezoneOffset()))/6048e5}))}var nt=weekday(0),et=weekday(1),rt=weekday(2),it=weekday(3),ot=weekday(4),at=weekday(5),ut=weekday(6),st=(nt.range,et.range,rt.range,it.range,ot.range,at.range,ut.range,newInterval((function(n){n.setHours(0,0,0,0)}),(function(n,r){n.setDate(n.getDate()+r)}),(function(n,r){return(r-n-6e4*(r.getTimezoneOffset()-n.getTimezoneOffset()))/864e5}),(function(n){return n.getDate()-1}))),ct=st,lt=(st.range,newInterval((function(n){n.setTime(n-n.getMilliseconds()-1e3*n.getSeconds()-6e4*n.getMinutes())}),(function(n,r){n.setTime(+n+36e5*r)}),(function(n,r){return(r-n)/36e5}),(function(n){return n.getHours()}))),ft=lt,ht=(lt.range,newInterval((function(n){n.setTime(n-n.getMilliseconds()-1e3*n.getSeconds())}),(function(n,r){n.setTime(+n+6e4*r)}),(function(n,r){return(r-n)/6e4}),(function(n){return n.getMinutes()}))),pt=ht,dt=(ht.range,newInterval((function(n){n.setTime(n-n.getMilliseconds())}),(function(n,r){n.setTime(+n+1e3*r)}),(function(n,r){return(r-n)/1e3}),(function(n){return n.getUTCSeconds()}))),mt=dt,gt=(dt.range,newInterval((function(){}),(function(n,r){n.setTime(+n+r)}),(function(n,r){return r-n})));gt.every=function(n){return n=Math.floor(n),isFinite(n)&&n>0?n>1?newInterval((function(r){r.setTime(Math.floor(r/n)*n)}),(function(r,a){r.setTime(+r+a*n)}),(function(r,a){return(a-r)/n})):gt:null};var vt=gt;gt.range;function utcWeekday(n){return newInterval((function(r){r.setUTCDate(r.getUTCDate()-(r.getUTCDay()+7-n)%7),r.setUTCHours(0,0,0,0)}),(function(n,r){n.setUTCDate(n.getUTCDate()+7*r)}),(function(n,r){return(r-n)/6048e5}))}var yt=utcWeekday(0),_t=utcWeekday(1),wt=utcWeekday(2),bt=utcWeekday(3),xt=utcWeekday(4),Mt=utcWeekday(5),Tt=utcWeekday(6),St=(yt.range,_t.range,wt.range,bt.range,xt.range,Mt.range,Tt.range,newInterval((function(n){n.setUTCHours(0,0,0,0)}),(function(n,r){n.setUTCDate(n.getUTCDate()+r)}),(function(n,r){return(r-n)/864e5}),(function(n){return n.getUTCDate()-1}))),Et=St,Ct=(St.range,newInterval((function(n){n.setUTCMonth(0,1),n.setUTCHours(0,0,0,0)}),(function(n,r){n.setUTCFullYear(n.getUTCFullYear()+r)}),(function(n,r){return r.getUTCFullYear()-n.getUTCFullYear()}),(function(n){return n.getUTCFullYear()})));Ct.every=function(n){return isFinite(n=Math.floor(n))&&n>0?newInterval((function(r){r.setUTCFullYear(Math.floor(r.getUTCFullYear()/n)*n),r.setUTCMonth(0,1),r.setUTCHours(0,0,0,0)}),(function(r,a){r.setUTCFullYear(r.getUTCFullYear()+a*n)})):null};var Nt=Ct;Ct.range;function localDate(n){if(0<=n.y&&n.y<100){var r=new Date(-1,n.m,n.d,n.H,n.M,n.S,n.L);return r.setFullYear(n.y),r}return new Date(n.y,n.m,n.d,n.H,n.M,n.S,n.L)}function utcDate(n){if(0<=n.y&&n.y<100){var r=new Date(Date.UTC(-1,n.m,n.d,n.H,n.M,n.S,n.L));return r.setUTCFullYear(n.y),r}return new Date(Date.UTC(n.y,n.m,n.d,n.H,n.M,n.S,n.L))}function newDate(n,r,a){return{y:n,m:r,d:a,H:0,M:0,S:0,L:0}}function formatLocale(n){var r=n.dateTime,a=n.date,u=n.time,s=n.periods,l=n.days,h=n.shortDays,d=n.months,m=n.shortMonths,v=formatRe(s),y=formatLookup(s),w=formatRe(l),M=formatLookup(l),T=formatRe(h),S=formatLookup(h),E=formatRe(d),C=formatLookup(d),N=formatRe(m),k=formatLookup(m),A={a:function formatShortWeekday(n){return h[n.getDay()]},A:function formatWeekday(n){return l[n.getDay()]},b:function formatShortMonth(n){return m[n.getMonth()]},B:function formatMonth(n){return d[n.getMonth()]},c:null,d:formatDayOfMonth,e:formatDayOfMonth,f:formatMicroseconds,g:formatYearISO,G:formatFullYearISO,H:formatHour24,I:formatHour12,j:formatDayOfYear,L:formatMilliseconds,m:formatMonthNumber,M:formatMinutes,p:function formatPeriod(n){return s[+(n.getHours()>=12)]},q:function formatQuarter(n){return 1+~~(n.getMonth()/3)},Q:formatUnixTimestamp,s:formatUnixTimestampSeconds,S:formatSeconds,u:formatWeekdayNumberMonday,U:formatWeekNumberSunday,V:formatWeekNumberISO,w:formatWeekdayNumberSunday,W:formatWeekNumberMonday,x:null,X:null,y:locale_formatYear,Y:formatFullYear,Z:formatZone,"%":formatLiteralPercent},F={a:function formatUTCShortWeekday(n){return h[n.getUTCDay()]},A:function formatUTCWeekday(n){return l[n.getUTCDay()]},b:function formatUTCShortMonth(n){return m[n.getUTCMonth()]},B:function formatUTCMonth(n){return d[n.getUTCMonth()]},c:null,d:formatUTCDayOfMonth,e:formatUTCDayOfMonth,f:formatUTCMicroseconds,g:formatUTCYearISO,G:formatUTCFullYearISO,H:formatUTCHour24,I:formatUTCHour12,j:formatUTCDayOfYear,L:formatUTCMilliseconds,m:formatUTCMonthNumber,M:formatUTCMinutes,p:function formatUTCPeriod(n){return s[+(n.getUTCHours()>=12)]},q:function formatUTCQuarter(n){return 1+~~(n.getUTCMonth()/3)},Q:formatUnixTimestamp,s:formatUnixTimestampSeconds,S:formatUTCSeconds,u:formatUTCWeekdayNumberMonday,U:formatUTCWeekNumberSunday,V:formatUTCWeekNumberISO,w:formatUTCWeekdayNumberSunday,W:formatUTCWeekNumberMonday,x:null,X:null,y:formatUTCYear,Y:formatUTCFullYear,Z:formatUTCZone,"%":formatLiteralPercent},D={a:function parseShortWeekday(n,r,a){var u=T.exec(r.slice(a));return u?(n.w=S[u[0].toLowerCase()],a+u[0].length):-1},A:function parseWeekday(n,r,a){var u=w.exec(r.slice(a));return u?(n.w=M[u[0].toLowerCase()],a+u[0].length):-1},b:function parseShortMonth(n,r,a){var u=N.exec(r.slice(a));return u?(n.m=k[u[0].toLowerCase()],a+u[0].length):-1},B:function parseMonth(n,r,a){var u=E.exec(r.slice(a));return u?(n.m=C[u[0].toLowerCase()],a+u[0].length):-1},c:function parseLocaleDateTime(n,a,u){return parseSpecifier(n,r,a,u)},d:parseDayOfMonth,e:parseDayOfMonth,f:parseMicroseconds,g:parseYear,G:parseFullYear,H:parseHour24,I:parseHour24,j:parseDayOfYear,L:parseMilliseconds,m:parseMonthNumber,M:parseMinutes,p:function parsePeriod(n,r,a){var u=v.exec(r.slice(a));return u?(n.p=y[u[0].toLowerCase()],a+u[0].length):-1},q:parseQuarter,Q:parseUnixTimestamp,s:parseUnixTimestampSeconds,S:parseSeconds,u:parseWeekdayNumberMonday,U:parseWeekNumberSunday,V:parseWeekNumberISO,w:parseWeekdayNumberSunday,W:parseWeekNumberMonday,x:function parseLocaleDate(n,r,u){return parseSpecifier(n,a,r,u)},X:function parseLocaleTime(n,r,a){return parseSpecifier(n,u,r,a)},y:parseYear,Y:parseFullYear,Z:parseZone,"%":parseLiteralPercent};function newFormat(n,r){return function(a){var u,s,l,h=[],d=-1,m=0,v=n.length;for(a instanceof Date||(a=new Date(+a));++d<v;)37===n.charCodeAt(d)&&(h.push(n.slice(m,d)),null!=(s=Dt[u=n.charAt(++d)])?u=n.charAt(++d):s="e"===u?" ":"0",(l=r[u])&&(u=l(a,s)),h.push(u),m=d+1);return h.push(n.slice(m,d)),h.join("")}}function newParse(n,r){return function(a){var u,s,l=newDate(1900,void 0,1);if(parseSpecifier(l,n,a+="",0)!=a.length)return null;if("Q"in l)return new Date(l.Q);if("s"in l)return new Date(1e3*l.s+("L"in l?l.L:0));if(r&&!("Z"in l)&&(l.Z=0),"p"in l&&(l.H=l.H%12+12*l.p),void 0===l.m&&(l.m="q"in l?l.q:0),"V"in l){if(l.V<1||l.V>53)return null;"w"in l||(l.w=1),"Z"in l?(s=(u=utcDate(newDate(l.y,0,1))).getUTCDay(),u=s>4||0===s?_t.ceil(u):_t(u),u=Et.offset(u,7*(l.V-1)),l.y=u.getUTCFullYear(),l.m=u.getUTCMonth(),l.d=u.getUTCDate()+(l.w+6)%7):(s=(u=localDate(newDate(l.y,0,1))).getDay(),u=s>4||0===s?et.ceil(u):et(u),u=ct.offset(u,7*(l.V-1)),l.y=u.getFullYear(),l.m=u.getMonth(),l.d=u.getDate()+(l.w+6)%7)}else("W"in l||"U"in l)&&("w"in l||(l.w="u"in l?l.u%7:"W"in l?1:0),s="Z"in l?utcDate(newDate(l.y,0,1)).getUTCDay():localDate(newDate(l.y,0,1)).getDay(),l.m=0,l.d="W"in l?(l.w+6)%7+7*l.W-(s+5)%7:l.w+7*l.U-(s+6)%7);return"Z"in l?(l.H+=l.Z/100|0,l.M+=l.Z%100,utcDate(l)):localDate(l)}}function parseSpecifier(n,r,a,u){for(var s,l,h=0,d=r.length,m=a.length;h<d;){if(u>=m)return-1;if(37===(s=r.charCodeAt(h++))){if(s=r.charAt(h++),!(l=D[s in Dt?r.charAt(h++):s])||(u=l(n,a,u))<0)return-1}else if(s!=a.charCodeAt(u++))return-1}return u}return A.x=newFormat(a,A),A.X=newFormat(u,A),A.c=newFormat(r,A),F.x=newFormat(a,F),F.X=newFormat(u,F),F.c=newFormat(r,F),{format:function format(n){var r=newFormat(n+="",A);return r.toString=function(){return n},r},parse:function parse(n){var r=newParse(n+="",!1);return r.toString=function(){return n},r},utcFormat:function utcFormat(n){var r=newFormat(n+="",F);return r.toString=function(){return n},r},utcParse:function utcParse(n){var r=newParse(n+="",!0);return r.toString=function(){return n},r}}}var kt,At,Ft,Dt={"-":"",_:" ",0:"0"},Rt=/^\s*\d+/,Pt=/^%/,It=/[\\^$*+?|[\]().{}]/g;function pad(n,r,a){var u=n<0?"-":"",s=(u?-n:n)+"",l=s.length;return u+(l<a?new Array(a-l+1).join(r)+s:s)}function requote(n){return n.replace(It,"\\$&")}function formatRe(n){return new RegExp("^(?:"+n.map(requote).join("|")+")","i")}function formatLookup(n){for(var r={},a=-1,u=n.length;++a<u;)r[n[a].toLowerCase()]=a;return r}function parseWeekdayNumberSunday(n,r,a){var u=Rt.exec(r.slice(a,a+1));return u?(n.w=+u[0],a+u[0].length):-1}function parseWeekdayNumberMonday(n,r,a){var u=Rt.exec(r.slice(a,a+1));return u?(n.u=+u[0],a+u[0].length):-1}function parseWeekNumberSunday(n,r,a){var u=Rt.exec(r.slice(a,a+2));return u?(n.U=+u[0],a+u[0].length):-1}function parseWeekNumberISO(n,r,a){var u=Rt.exec(r.slice(a,a+2));return u?(n.V=+u[0],a+u[0].length):-1}function parseWeekNumberMonday(n,r,a){var u=Rt.exec(r.slice(a,a+2));return u?(n.W=+u[0],a+u[0].length):-1}function parseFullYear(n,r,a){var u=Rt.exec(r.slice(a,a+4));return u?(n.y=+u[0],a+u[0].length):-1}function parseYear(n,r,a){var u=Rt.exec(r.slice(a,a+2));return u?(n.y=+u[0]+(+u[0]>68?1900:2e3),a+u[0].length):-1}function parseZone(n,r,a){var u=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(r.slice(a,a+6));return u?(n.Z=u[1]?0:-(u[2]+(u[3]||"00")),a+u[0].length):-1}function parseQuarter(n,r,a){var u=Rt.exec(r.slice(a,a+1));return u?(n.q=3*u[0]-3,a+u[0].length):-1}function parseMonthNumber(n,r,a){var u=Rt.exec(r.slice(a,a+2));return u?(n.m=u[0]-1,a+u[0].length):-1}function parseDayOfMonth(n,r,a){var u=Rt.exec(r.slice(a,a+2));return u?(n.d=+u[0],a+u[0].length):-1}function parseDayOfYear(n,r,a){var u=Rt.exec(r.slice(a,a+3));return u?(n.m=0,n.d=+u[0],a+u[0].length):-1}function parseHour24(n,r,a){var u=Rt.exec(r.slice(a,a+2));return u?(n.H=+u[0],a+u[0].length):-1}function parseMinutes(n,r,a){var u=Rt.exec(r.slice(a,a+2));return u?(n.M=+u[0],a+u[0].length):-1}function parseSeconds(n,r,a){var u=Rt.exec(r.slice(a,a+2));return u?(n.S=+u[0],a+u[0].length):-1}function parseMilliseconds(n,r,a){var u=Rt.exec(r.slice(a,a+3));return u?(n.L=+u[0],a+u[0].length):-1}function parseMicroseconds(n,r,a){var u=Rt.exec(r.slice(a,a+6));return u?(n.L=Math.floor(u[0]/1e3),a+u[0].length):-1}function parseLiteralPercent(n,r,a){var u=Pt.exec(r.slice(a,a+1));return u?a+u[0].length:-1}function parseUnixTimestamp(n,r,a){var u=Rt.exec(r.slice(a));return u?(n.Q=+u[0],a+u[0].length):-1}function parseUnixTimestampSeconds(n,r,a){var u=Rt.exec(r.slice(a));return u?(n.s=+u[0],a+u[0].length):-1}function formatDayOfMonth(n,r){return pad(n.getDate(),r,2)}function formatHour24(n,r){return pad(n.getHours(),r,2)}function formatHour12(n,r){return pad(n.getHours()%12||12,r,2)}function formatDayOfYear(n,r){return pad(1+ct.count(J(n),n),r,3)}function formatMilliseconds(n,r){return pad(n.getMilliseconds(),r,3)}function formatMicroseconds(n,r){return formatMilliseconds(n,r)+"000"}function formatMonthNumber(n,r){return pad(n.getMonth()+1,r,2)}function formatMinutes(n,r){return pad(n.getMinutes(),r,2)}function formatSeconds(n,r){return pad(n.getSeconds(),r,2)}function formatWeekdayNumberMonday(n){var r=n.getDay();return 0===r?7:r}function formatWeekNumberSunday(n,r){return pad(nt.count(J(n)-1,n),r,2)}function dISO(n){var r=n.getDay();return r>=4||0===r?ot(n):ot.ceil(n)}function formatWeekNumberISO(n,r){return n=dISO(n),pad(ot.count(J(n),n)+(4===J(n).getDay()),r,2)}function formatWeekdayNumberSunday(n){return n.getDay()}function formatWeekNumberMonday(n,r){return pad(et.count(J(n)-1,n),r,2)}function locale_formatYear(n,r){return pad(n.getFullYear()%100,r,2)}function formatYearISO(n,r){return pad((n=dISO(n)).getFullYear()%100,r,2)}function formatFullYear(n,r){return pad(n.getFullYear()%1e4,r,4)}function formatFullYearISO(n,r){var a=n.getDay();return pad((n=a>=4||0===a?ot(n):ot.ceil(n)).getFullYear()%1e4,r,4)}function formatZone(n){var r=n.getTimezoneOffset();return(r>0?"-":(r*=-1,"+"))+pad(r/60|0,"0",2)+pad(r%60,"0",2)}function formatUTCDayOfMonth(n,r){return pad(n.getUTCDate(),r,2)}function formatUTCHour24(n,r){return pad(n.getUTCHours(),r,2)}function formatUTCHour12(n,r){return pad(n.getUTCHours()%12||12,r,2)}function formatUTCDayOfYear(n,r){return pad(1+Et.count(Nt(n),n),r,3)}function formatUTCMilliseconds(n,r){return pad(n.getUTCMilliseconds(),r,3)}function formatUTCMicroseconds(n,r){return formatUTCMilliseconds(n,r)+"000"}function formatUTCMonthNumber(n,r){return pad(n.getUTCMonth()+1,r,2)}function formatUTCMinutes(n,r){return pad(n.getUTCMinutes(),r,2)}function formatUTCSeconds(n,r){return pad(n.getUTCSeconds(),r,2)}function formatUTCWeekdayNumberMonday(n){var r=n.getUTCDay();return 0===r?7:r}function formatUTCWeekNumberSunday(n,r){return pad(yt.count(Nt(n)-1,n),r,2)}function UTCdISO(n){var r=n.getUTCDay();return r>=4||0===r?xt(n):xt.ceil(n)}function formatUTCWeekNumberISO(n,r){return n=UTCdISO(n),pad(xt.count(Nt(n),n)+(4===Nt(n).getUTCDay()),r,2)}function formatUTCWeekdayNumberSunday(n){return n.getUTCDay()}function formatUTCWeekNumberMonday(n,r){return pad(_t.count(Nt(n)-1,n),r,2)}function formatUTCYear(n,r){return pad(n.getUTCFullYear()%100,r,2)}function formatUTCYearISO(n,r){return pad((n=UTCdISO(n)).getUTCFullYear()%100,r,2)}function formatUTCFullYear(n,r){return pad(n.getUTCFullYear()%1e4,r,4)}function formatUTCFullYearISO(n,r){var a=n.getUTCDay();return pad((n=a>=4||0===a?xt(n):xt.ceil(n)).getUTCFullYear()%1e4,r,4)}function formatUTCZone(){return"+0000"}function formatLiteralPercent(){return"%"}function formatUnixTimestamp(n){return+n}function formatUnixTimestampSeconds(n){return Math.floor(+n/1e3)}!function defaultLocale_defaultLocale(n){return kt=formatLocale(n),At=kt.format,Ft=kt.parse,kt.utcFormat,kt.utcParse,kt}({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function time_date(n){return new Date(n)}function time_number(n){return n instanceof Date?+n:+new Date(+n)}function calendar(n,r,a,u,s,l,h,d,m){var v=continuous(continuous_identity,continuous_identity),y=v.invert,w=v.domain,M=m(".%L"),T=m(":%S"),S=m("%I:%M"),E=m("%I %p"),C=m("%a %d"),N=m("%b %d"),k=m("%B"),F=m("%Y"),D=[[h,1,1e3],[h,5,5e3],[h,15,15e3],[h,30,3e4],[l,1,6e4],[l,5,3e5],[l,15,9e5],[l,30,18e5],[s,1,36e5],[s,3,108e5],[s,6,216e5],[s,12,432e5],[u,1,864e5],[u,2,1728e5],[a,1,6048e5],[r,1,2592e6],[r,3,7776e6],[n,1,31536e6]];function tickFormat(d){return(h(d)<d?M:l(d)<d?T:s(d)<d?S:u(d)<d?E:r(d)<d?a(d)<d?C:N:n(d)<d?k:F)(d)}function tickInterval(r,a,u,s){if(null==r&&(r=10),"number"==typeof r){var l=Math.abs(u-a)/r,h=bisector((function(n){return n[2]})).right(D,l);h===D.length?(s=tickStep(a/31536e6,u/31536e6,r),r=n):h?(s=(h=D[l/D[h-1][2]<D[h][2]/l?h-1:h])[1],r=h[0]):(s=Math.max(tickStep(a,u,r),1),r=d)}return null==s?r:r.every(s)}return v.invert=function(n){return new Date(y(n))},v.domain=function(n){return arguments.length?w(A.call(n,time_number)):w().map(time_date)},v.ticks=function(n,r){var a,u=w(),s=u[0],l=u[u.length-1],h=l<s;return h&&(a=s,s=l,l=a),a=(a=tickInterval(n,s,l,r))?a.range(s,l+1):[],h?a.reverse():a},v.tickFormat=function(n,r){return null==r?tickFormat:m(r)},v.nice=function(n,r){var a=w();return(n=tickInterval(n,a[0],a[a.length-1],r))?w(nice(a,n)):v},v.copy=function(){return copy(v,calendar(n,r,a,u,s,l,h,d,m))},v}var src_time=function(){return initRange.apply(calendar(J,tt,nt,ct,ft,pt,mt,vt,At).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)},Ut=newInterval((function(n){n.setUTCDate(1),n.setUTCHours(0,0,0,0)}),(function(n,r){n.setUTCMonth(n.getUTCMonth()+r)}),(function(n,r){return r.getUTCMonth()-n.getUTCMonth()+12*(r.getUTCFullYear()-n.getUTCFullYear())}),(function(n){return n.getUTCMonth()})),zt=(Ut.range,newInterval((function(n){n.setUTCMinutes(0,0,0)}),(function(n,r){n.setTime(+n+36e5*r)}),(function(n,r){return(r-n)/36e5}),(function(n){return n.getUTCHours()}))),Ot=(zt.range,newInterval((function(n){n.setUTCSeconds(0,0)}),(function(n,r){n.setTime(+n+6e4*r)}),(function(n,r){return(r-n)/6e4}),(function(n){return n.getUTCMinutes()})));Ot.range;var Lt=Array.prototype.slice,d3_axis_src_identity=function(n){return n};function translateX(n){return"translate("+(n+.5)+",0)"}function translateY(n){return"translate(0,"+(n+.5)+")"}function axis_number(n){return function(r){return+n(r)}}function axis_center(n){var r=Math.max(0,n.bandwidth()-1)/2;return n.round()&&(r=Math.round(r)),function(a){return+n(a)+r}}function entering(){return!this.__axis}function axis_axis(n,r){var a=[],u=null,s=null,l=6,h=6,d=3,m=1===n||4===n?-1:1,v=4===n||2===n?"x":"y",y=1===n||3===n?translateX:translateY;function axis(w){var M=null==u?r.ticks?r.ticks.apply(r,a):r.domain():u,T=null==s?r.tickFormat?r.tickFormat.apply(r,a):d3_axis_src_identity:s,S=Math.max(l,0)+d,E=r.range(),C=+E[0]+.5,N=+E[E.length-1]+.5,k=(r.bandwidth?axis_center:axis_number)(r.copy()),A=w.selection?w.selection():w,F=A.selectAll(".domain").data([null]),D=A.selectAll(".tick").data(M,r).order(),R=D.exit(),P=D.enter().append("g").attr("class","tick"),I=D.select("line"),U=D.select("text");F=F.merge(F.enter().insert("path",".tick").attr("class","domain").attr("stroke","currentColor")),D=D.merge(P),I=I.merge(P.append("line").attr("stroke","currentColor").attr(v+"2",m*l)),U=U.merge(P.append("text").attr("fill","currentColor").attr(v,m*S).attr("dy",1===n?"0em":3===n?"0.71em":"0.32em")),w!==A&&(F=F.transition(w),D=D.transition(w),I=I.transition(w),U=U.transition(w),R=R.transition(w).attr("opacity",1e-6).attr("transform",(function(n){return isFinite(n=k(n))?y(n):this.getAttribute("transform")})),P.attr("opacity",1e-6).attr("transform",(function(n){var r=this.parentNode.__axis;return y(r&&isFinite(r=r(n))?r:k(n))}))),R.remove(),F.attr("d",4===n||2==n?h?"M"+m*h+","+C+"H0.5V"+N+"H"+m*h:"M0.5,"+C+"V"+N:h?"M"+C+","+m*h+"V0.5H"+N+"V"+m*h:"M"+C+",0.5H"+N),D.attr("opacity",1).attr("transform",(function(n){return y(k(n))})),I.attr(v+"2",m*l),U.attr(v,m*S).text(T),A.filter(entering).attr("fill","none").attr("font-size",10).attr("font-family","sans-serif").attr("text-anchor",2===n?"start":4===n?"end":"middle"),A.each((function(){this.__axis=k}))}return axis.scale=function(n){return arguments.length?(r=n,axis):r},axis.ticks=function(){return a=Lt.call(arguments),axis},axis.tickArguments=function(n){return arguments.length?(a=null==n?[]:Lt.call(n),axis):a.slice()},axis.tickValues=function(n){return arguments.length?(u=null==n?null:Lt.call(n),axis):u&&u.slice()},axis.tickFormat=function(n){return arguments.length?(s=n,axis):s},axis.tickSize=function(n){return arguments.length?(l=h=+n,axis):l},axis.tickSizeInner=function(n){return arguments.length?(l=+n,axis):l},axis.tickSizeOuter=function(n){return arguments.length?(h=+n,axis):h},axis.tickPadding=function(n){return arguments.length?(d=+n,axis):d},axis}function axisBottom(n){return axis_axis(3,n)}function axisLeft(n){return axis_axis(4,n)}function noop(){}var clip_buffer=function(){var n,r=[];return{point:function point(r,a,u){n.push([r,a,u])},lineStart:function lineStart(){r.push(n=[])},lineEnd:noop,rejoin:function rejoin(){r.length>1&&r.push(r.pop().concat(r.shift()))},result:function result(){var result=r;return r=[],n=null,result}}},Vt=Math.PI,Ht=Vt/2,jt=Vt/4,Yt=2*Vt,Wt=180/Vt,qt=Vt/180,Xt=Math.abs,Gt=Math.atan,Bt=Math.atan2,Zt=Math.cos,$t=(Math.ceil,Math.exp,Math.floor,Math.log,Math.pow,Math.sin),Qt=Math.sign||function(n){return n>0?1:n<0?-1:0},Jt=Math.sqrt;Math.tan;function asin(n){return n>1?Ht:n<-1?-Ht:Math.asin(n)}var pointEqual=function(n,r){return Xt(n[0]-r[0])<1e-6&&Xt(n[1]-r[1])<1e-6};function Intersection(n,r,a,u){this.x=n,this.z=r,this.o=a,this.e=u,this.v=!1,this.n=this.p=null}var rejoin=function(n,r,a,u,s){var l,h,d=[],m=[];if(n.forEach((function(n){if(!((r=n.length-1)<=0)){var r,a,u=n[0],h=n[r];if(pointEqual(u,h)){if(!u[2]&&!h[2]){for(s.lineStart(),l=0;l<r;++l)s.point((u=n[l])[0],u[1]);return void s.lineEnd()}h[0]+=2e-6}d.push(a=new Intersection(u,n,null,!0)),m.push(a.o=new Intersection(u,null,a,!1)),d.push(a=new Intersection(h,n,null,!1)),m.push(a.o=new Intersection(h,null,a,!0))}})),d.length){for(m.sort(r),rejoin_link(d),rejoin_link(m),l=0,h=m.length;l<h;++l)m[l].e=a=!a;for(var v,y,w=d[0];;){for(var M=w,T=!0;M.v;)if((M=M.n)===w)return;v=M.z,s.lineStart();do{if(M.v=M.o.v=!0,M.e){if(T)for(l=0,h=v.length;l<h;++l)s.point((y=v[l])[0],y[1]);else u(M.x,M.n.x,1,s);M=M.n}else{if(T)for(v=M.p.z,l=v.length-1;l>=0;--l)s.point((y=v[l])[0],y[1]);else u(M.x,M.p.x,-1,s);M=M.p}v=(M=M.o).z,T=!T}while(!M.v);s.lineEnd()}}};function rejoin_link(n){if(r=n.length){for(var r,a,u=0,s=n[0];++u<r;)s.n=a=n[u],a.p=s,s=a;s.n=a=n[0],a.p=s}}var adder=function(){return new Adder};function Adder(){this.reset()}Adder.prototype={constructor:Adder,reset:function reset(){this.s=this.t=0},add:function add(n){_add(Kt,n,this.t),_add(this,Kt.s,this.s),this.s?this.t+=Kt.t:this.s=Kt.t},valueOf:function valueOf(){return this.s}};var Kt=new Adder;function _add(n,r,a){var u=n.s=r+a,s=u-r,l=u-s;n.t=r-l+(a-s)}function cartesian_spherical(n){return[Bt(n[1],n[0]),asin(n[2])]}function cartesian_cartesian(n){var r=n[0],a=n[1],u=Zt(a);return[u*Zt(r),u*$t(r),$t(a)]}function cartesianDot(n,r){return n[0]*r[0]+n[1]*r[1]+n[2]*r[2]}function cartesianCross(n,r){return[n[1]*r[2]-n[2]*r[1],n[2]*r[0]-n[0]*r[2],n[0]*r[1]-n[1]*r[0]]}function cartesianAddInPlace(n,r){n[0]+=r[0],n[1]+=r[1],n[2]+=r[2]}function cartesianScale(n,r){return[n[0]*r,n[1]*r,n[2]*r]}function cartesianNormalizeInPlace(n){var r=Jt(n[0]*n[0]+n[1]*n[1]+n[2]*n[2]);n[0]/=r,n[1]/=r,n[2]/=r}var tn=adder();function longitude(n){return Xt(n[0])<=Vt?n[0]:Qt(n[0])*((Xt(n[0])+Vt)%Yt-Vt)}var src_clip=function(n,r,a,u){return function(s){var l,h,d,m=r(s),v=clip_buffer(),y=r(v),w=!1,M={point:point,lineStart:lineStart,lineEnd:lineEnd,polygonStart:function polygonStart(){M.point=pointRing,M.lineStart=ringStart,M.lineEnd=ringEnd,h=[],l=[]},polygonEnd:function polygonEnd(){M.point=point,M.lineStart=lineStart,M.lineEnd=lineEnd,h=src_merge(h);var n=function(n,r){var a=longitude(r),u=r[1],s=$t(u),l=[$t(a),-Zt(a),0],h=0,d=0;tn.reset(),1===s?u=Ht+1e-6:-1===s&&(u=-Ht-1e-6);for(var m=0,v=n.length;m<v;++m)if(w=(y=n[m]).length)for(var y,w,M=y[w-1],T=longitude(M),S=M[1]/2+jt,E=$t(S),C=Zt(S),N=0;N<w;++N,T=A,E=D,C=R,M=k){var k=y[N],A=longitude(k),F=k[1]/2+jt,D=$t(F),R=Zt(F),P=A-T,I=P>=0?1:-1,U=I*P,z=U>Vt,O=E*D;if(tn.add(Bt(O*I*$t(U),C*R+O*Zt(U))),h+=z?P+I*Yt:P,z^T>=a^A>=a){var L=cartesianCross(cartesian_cartesian(M),cartesian_cartesian(k));cartesianNormalizeInPlace(L);var V=cartesianCross(l,L);cartesianNormalizeInPlace(V);var H=(z^P>=0?-1:1)*asin(V[2]);(u>H||u===H&&(L[0]||L[1]))&&(d+=z^P>=0?1:-1)}}return(h<-1e-6||h<1e-6&&tn<-1e-6)^1&d}(l,u);h.length?(w||(s.polygonStart(),w=!0),rejoin(h,clip_compareIntersection,n,a,s)):n&&(w||(s.polygonStart(),w=!0),s.lineStart(),a(null,null,1,s),s.lineEnd()),w&&(s.polygonEnd(),w=!1),h=l=null},sphere:function sphere(){s.polygonStart(),s.lineStart(),a(null,null,1,s),s.lineEnd(),s.polygonEnd()}};function point(r,a){n(r,a)&&s.point(r,a)}function pointLine(n,r){m.point(n,r)}function lineStart(){M.point=pointLine,m.lineStart()}function lineEnd(){M.point=point,m.lineEnd()}function pointRing(n,r){d.push([n,r]),y.point(n,r)}function ringStart(){y.lineStart(),d=[]}function ringEnd(){pointRing(d[0][0],d[0][1]),y.lineEnd();var n,r,a,u,m=y.clean(),M=v.result(),T=M.length;if(d.pop(),l.push(d),d=null,T)if(1&m){if((r=(a=M[0]).length-1)>0){for(w||(s.polygonStart(),w=!0),s.lineStart(),n=0;n<r;++n)s.point((u=a[n])[0],u[1]);s.lineEnd()}}else T>1&&2&m&&M.push(M.pop().concat(M.shift())),h.push(M.filter(validSegment))}return M}};function validSegment(n){return n.length>1}function clip_compareIntersection(n,r){return((n=n.x)[0]<0?n[1]-Ht-1e-6:Ht-n[1])-((r=r.x)[0]<0?r[1]-Ht-1e-6:Ht-r[1])}var nn=src_clip((function(){return!0}),(function clipAntimeridianLine(n){var r,a=NaN,u=NaN,s=NaN;return{lineStart:function lineStart(){n.lineStart(),r=1},point:function point(l,h){var d=l>0?Vt:-Vt,m=Xt(l-a);Xt(m-Vt)<1e-6?(n.point(a,u=(u+h)/2>0?Ht:-Ht),n.point(s,u),n.lineEnd(),n.lineStart(),n.point(d,u),n.point(l,u),r=0):s!==d&&m>=Vt&&(Xt(a-s)<1e-6&&(a-=1e-6*s),Xt(l-d)<1e-6&&(l-=1e-6*d),u=function clipAntimeridianIntersect(n,r,a,u){var s,l,h=$t(n-a);return Xt(h)>1e-6?Gt(($t(r)*(l=Zt(u))*$t(a)-$t(u)*(s=Zt(r))*$t(n))/(s*l*h)):(r+u)/2}(a,u,l,h),n.point(s,u),n.lineEnd(),n.lineStart(),n.point(d,u),r=0),n.point(a=l,u=h),s=d},lineEnd:function lineEnd(){n.lineEnd(),a=u=NaN},clean:function clean(){return 2-r}}}),(function clipAntimeridianInterpolate(n,r,a,u){var s;if(null==n)s=a*Ht,u.point(-Vt,s),u.point(0,s),u.point(Vt,s),u.point(Vt,0),u.point(Vt,-s),u.point(0,-s),u.point(-Vt,-s),u.point(-Vt,0),u.point(-Vt,s);else if(Xt(n[0]-r[0])>1e-6){var l=n[0]<r[0]?Vt:-Vt;s=a*l/2,u.point(-l,s),u.point(0,s),u.point(l,s)}else u.point(r[0],r[1])}),[-Vt,-Ht]);var compose=function(n,r){function compose(a,u){return a=n(a,u),r(a[0],a[1])}return n.invert&&r.invert&&(compose.invert=function(a,u){return(a=r.invert(a,u))&&n.invert(a[0],a[1])}),compose};function rotationIdentity(n,r){return[Xt(n)>Vt?n+Math.round(-n/Yt)*Yt:n,r]}function rotateRadians(n,r,a){return(n%=Yt)?r||a?compose(rotationLambda(n),rotationPhiGamma(r,a)):rotationLambda(n):r||a?rotationPhiGamma(r,a):rotationIdentity}function forwardRotationLambda(n){return function(r,a){return[(r+=n)>Vt?r-Yt:r<-Vt?r+Yt:r,a]}}function rotationLambda(n){var r=forwardRotationLambda(n);return r.invert=forwardRotationLambda(-n),r}function rotationPhiGamma(n,r){var a=Zt(n),u=$t(n),s=Zt(r),l=$t(r);function rotation(n,r){var h=Zt(r),d=Zt(n)*h,m=$t(n)*h,v=$t(r),y=v*a+d*u;return[Bt(m*s-y*l,d*a-v*u),asin(y*s+m*l)]}return rotation.invert=function(n,r){var h=Zt(r),d=Zt(n)*h,m=$t(n)*h,v=$t(r),y=v*s-m*l;return[Bt(m*s+v*l,d*a+y*u),asin(y*a-d*u)]},rotation}rotationIdentity.invert=rotationIdentity;function circleStream(n,r,a,u,s,l){if(a){var h=Zt(r),d=$t(r),m=u*a;null==s?(s=r+u*Yt,l=r-m/2):(s=circleRadius(h,s),l=circleRadius(h,l),(u>0?s<l:s>l)&&(s+=u*Yt));for(var v,y=s;u>0?y>l:y<l;y-=m)v=cartesian_spherical([h,-d*Zt(y),-d*$t(y)]),n.point(v[0],v[1])}}function circleRadius(n,r){(r=cartesian_cartesian(r))[0]-=n,cartesianNormalizeInPlace(r);var a=function acos(n){return n>1?0:n<-1?Vt:Math.acos(n)}(-r[1]);return((-r[2]<0?-a:a)+Yt-1e-6)%Yt}var clip_circle=function(n){var r=Zt(n),a=6*qt,u=r>0,s=Xt(r)>1e-6;function visible(n,a){return Zt(n)*Zt(a)>r}function intersect(n,a,u){var s=[1,0,0],l=cartesianCross(cartesian_cartesian(n),cartesian_cartesian(a)),h=cartesianDot(l,l),d=l[0],m=h-d*d;if(!m)return!u&&n;var v=r*h/m,y=-r*d/m,w=cartesianCross(s,l),M=cartesianScale(s,v);cartesianAddInPlace(M,cartesianScale(l,y));var T=w,S=cartesianDot(M,T),E=cartesianDot(T,T),C=S*S-E*(cartesianDot(M,M)-1);if(!(C<0)){var N=Jt(C),k=cartesianScale(T,(-S-N)/E);if(cartesianAddInPlace(k,M),k=cartesian_spherical(k),!u)return k;var A,F=n[0],D=a[0],R=n[1],P=a[1];D<F&&(A=F,F=D,D=A);var I=D-F,U=Xt(I-Vt)<1e-6;if(!U&&P<R&&(A=R,R=P,P=A),U||I<1e-6?U?R+P>0^k[1]<(Xt(k[0]-F)<1e-6?R:P):R<=k[1]&&k[1]<=P:I>Vt^(F<=k[0]&&k[0]<=D)){var z=cartesianScale(T,(-S+N)/E);return cartesianAddInPlace(z,M),[k,cartesian_spherical(z)]}}}function code(r,a){var s=u?n:Vt-n,l=0;return r<-s?l|=1:r>s&&(l|=2),a<-s?l|=4:a>s&&(l|=8),l}return src_clip(visible,(function clipLine(n){var r,a,l,h,d;return{lineStart:function lineStart(){h=l=!1,d=1},point:function point(m,v){var y,w=[m,v],M=visible(m,v),T=u?M?0:code(m,v):M?code(m+(m<0?Vt:-Vt),v):0;if(!r&&(h=l=M)&&n.lineStart(),M!==l&&(!(y=intersect(r,w))||pointEqual(r,y)||pointEqual(w,y))&&(w[2]=1),M!==l)d=0,M?(n.lineStart(),y=intersect(w,r),n.point(y[0],y[1])):(y=intersect(r,w),n.point(y[0],y[1],2),n.lineEnd()),r=y;else if(s&&r&&u^M){var S;T&a||!(S=intersect(w,r,!0))||(d=0,u?(n.lineStart(),n.point(S[0][0],S[0][1]),n.point(S[1][0],S[1][1]),n.lineEnd()):(n.point(S[1][0],S[1][1]),n.lineEnd(),n.lineStart(),n.point(S[0][0],S[0][1],3)))}!M||r&&pointEqual(r,w)||n.point(w[0],w[1]),r=w,l=M,a=T},lineEnd:function lineEnd(){l&&n.lineEnd(),r=null},clean:function clean(){return d|(h&&l)<<1}}}),(function interpolate(r,u,s,l){circleStream(l,n,a,s,r,u)}),u?[0,-n]:[-Vt,n-Vt])};function clipRectangle(n,r,a,u){function visible(s,l){return n<=s&&s<=a&&r<=l&&l<=u}function interpolate(s,l,h,d){var m=0,v=0;if(null==s||(m=corner(s,h))!==(v=corner(l,h))||comparePoint(s,l)<0^h>0)do{d.point(0===m||3===m?n:a,m>1?u:r)}while((m=(m+h+4)%4)!==v);else d.point(l[0],l[1])}function corner(u,s){return Xt(u[0]-n)<1e-6?s>0?0:3:Xt(u[0]-a)<1e-6?s>0?2:1:Xt(u[1]-r)<1e-6?s>0?1:0:s>0?3:2}function compareIntersection(n,r){return comparePoint(n.x,r.x)}function comparePoint(n,r){var a=corner(n,1),u=corner(r,1);return a!==u?a-u:0===a?r[1]-n[1]:1===a?n[0]-r[0]:2===a?n[1]-r[1]:r[0]-n[0]}return function(s){var l,h,d,m,v,y,w,M,T,S,E,C=s,N=clip_buffer(),k={point:point,lineStart:function lineStart(){k.point=linePoint,h&&h.push(d=[]);S=!0,T=!1,w=M=NaN},lineEnd:function lineEnd(){l&&(linePoint(m,v),y&&T&&N.rejoin(),l.push(N.result()));k.point=point,T&&C.lineEnd()},polygonStart:function polygonStart(){C=N,l=[],h=[],E=!0},polygonEnd:function polygonEnd(){var r=function polygonInside(){for(var r=0,a=0,s=h.length;a<s;++a)for(var l,d,m=h[a],v=1,y=m.length,w=m[0],M=w[0],T=w[1];v<y;++v)l=M,d=T,w=m[v],M=w[0],T=w[1],d<=u?T>u&&(M-l)*(u-d)>(T-d)*(n-l)&&++r:T<=u&&(M-l)*(u-d)<(T-d)*(n-l)&&--r;return r}(),a=E&&r,m=(l=src_merge(l)).length;(a||m)&&(s.polygonStart(),a&&(s.lineStart(),interpolate(null,null,1,s),s.lineEnd()),m&&rejoin(l,compareIntersection,r,interpolate,s),s.polygonEnd());C=s,l=h=d=null}};function point(n,r){visible(n,r)&&C.point(n,r)}function linePoint(s,l){var N=visible(s,l);if(h&&d.push([s,l]),S)m=s,v=l,y=N,S=!1,N&&(C.lineStart(),C.point(s,l));else if(N&&T)C.point(s,l);else{var k=[w=Math.max(-1e9,Math.min(1e9,w)),M=Math.max(-1e9,Math.min(1e9,M))],A=[s=Math.max(-1e9,Math.min(1e9,s)),l=Math.max(-1e9,Math.min(1e9,l))];!function(n,r,a,u,s,l){var h,d=n[0],m=n[1],v=0,y=1,w=r[0]-d,M=r[1]-m;if(h=a-d,w||!(h>0)){if(h/=w,w<0){if(h<v)return;h<y&&(y=h)}else if(w>0){if(h>y)return;h>v&&(v=h)}if(h=s-d,w||!(h<0)){if(h/=w,w<0){if(h>y)return;h>v&&(v=h)}else if(w>0){if(h<v)return;h<y&&(y=h)}if(h=u-m,M||!(h>0)){if(h/=M,M<0){if(h<v)return;h<y&&(y=h)}else if(M>0){if(h>y)return;h>v&&(v=h)}if(h=l-m,M||!(h<0)){if(h/=M,M<0){if(h>y)return;h>v&&(v=h)}else if(M>0){if(h<v)return;h<y&&(y=h)}return v>0&&(n[0]=d+v*w,n[1]=m+v*M),y<1&&(r[0]=d+y*w,r[1]=m+y*M),!0}}}}}(k,A,n,r,a,u)?N&&(C.lineStart(),C.point(s,l),E=!1):(T||(C.lineStart(),C.point(k[0],k[1])),C.point(A[0],A[1]),N||C.lineEnd(),E=!1)}w=s,M=l,T=N}return k}}var d3_geo_src_identity=function(n){return n};function transform_transformer(n){return function(r){var a=new TransformStream;for(var u in n)a[u]=n[u];return a.stream=r,a}}function TransformStream(){}function streamGeometry(n,r){n&&rn.hasOwnProperty(n.type)&&rn[n.type](n,r)}TransformStream.prototype={constructor:TransformStream,point:function point(n,r){this.stream.point(n,r)},sphere:function sphere(){this.stream.sphere()},lineStart:function lineStart(){this.stream.lineStart()},lineEnd:function lineEnd(){this.stream.lineEnd()},polygonStart:function polygonStart(){this.stream.polygonStart()},polygonEnd:function polygonEnd(){this.stream.polygonEnd()}};var en={Feature:function Feature(n,r){streamGeometry(n.geometry,r)},FeatureCollection:function FeatureCollection(n,r){for(var a=n.features,u=-1,s=a.length;++u<s;)streamGeometry(a[u].geometry,r)}},rn={Sphere:function Sphere(n,r){r.sphere()},Point:function Point(n,r){n=n.coordinates,r.point(n[0],n[1],n[2])},MultiPoint:function MultiPoint(n,r){for(var a=n.coordinates,u=-1,s=a.length;++u<s;)n=a[u],r.point(n[0],n[1],n[2])},LineString:function LineString(n,r){streamLine(n.coordinates,r,0)},MultiLineString:function MultiLineString(n,r){for(var a=n.coordinates,u=-1,s=a.length;++u<s;)streamLine(a[u],r,0)},Polygon:function Polygon(n,r){streamPolygon(n.coordinates,r)},MultiPolygon:function MultiPolygon(n,r){for(var a=n.coordinates,u=-1,s=a.length;++u<s;)streamPolygon(a[u],r)},GeometryCollection:function GeometryCollection(n,r){for(var a=n.geometries,u=-1,s=a.length;++u<s;)streamGeometry(a[u],r)}};function streamLine(n,r,a){var u,s=-1,l=n.length-a;for(r.lineStart();++s<l;)u=n[s],r.point(u[0],u[1],u[2]);r.lineEnd()}function streamPolygon(n,r){var a=-1,u=n.length;for(r.polygonStart();++a<u;)streamLine(n[a],r,1);r.polygonEnd()}var src_stream=function(n,r){n&&en.hasOwnProperty(n.type)?en[n.type](n,r):streamGeometry(n,r)},an=1/0,un=an,sn=-an,cn=sn;var ln={point:function boundsPoint(n,r){n<an&&(an=n);n>sn&&(sn=n);r<un&&(un=r);r>cn&&(cn=r)},lineStart:noop,lineEnd:noop,polygonStart:noop,polygonEnd:noop,result:function result(){var n=[[an,un],[sn,cn]];return sn=cn=-(un=an=1/0),n}};function fit(n,r,a){var u=n.clipExtent&&n.clipExtent();return n.scale(150).translate([0,0]),null!=u&&n.clipExtent(null),src_stream(a,n.stream(ln)),r(ln.result()),null!=u&&n.clipExtent(u),n}function fitExtent(n,r,a){return fit(n,(function(a){var u=r[1][0]-r[0][0],s=r[1][1]-r[0][1],l=Math.min(u/(a[1][0]-a[0][0]),s/(a[1][1]-a[0][1])),h=+r[0][0]+(u-l*(a[1][0]+a[0][0]))/2,d=+r[0][1]+(s-l*(a[1][1]+a[0][1]))/2;n.scale(150*l).translate([h,d])}),a)}var fn=Zt(30*qt),resample=function(n,r){return+r?function resample_resample(n,r){function resampleLineTo(a,u,s,l,h,d,m,v,y,w,M,T,S,E){var C=m-a,N=v-u,k=C*C+N*N;if(k>4*r&&S--){var A=l+w,F=h+M,D=d+T,R=Jt(A*A+F*F+D*D),P=asin(D/=R),I=Xt(Xt(D)-1)<1e-6||Xt(s-y)<1e-6?(s+y)/2:Bt(F,A),U=n(I,P),z=U[0],O=U[1],L=z-a,V=O-u,H=N*L-C*V;(H*H/k>r||Xt((C*L+N*V)/k-.5)>.3||l*w+h*M+d*T<fn)&&(resampleLineTo(a,u,s,l,h,d,z,O,I,A/=R,F/=R,D,S,E),E.point(z,O),resampleLineTo(z,O,I,A,F,D,m,v,y,w,M,T,S,E))}}return function(r){var a,u,s,l,h,d,m,v,y,w,M,T,S={point:point,lineStart:lineStart,lineEnd:lineEnd,polygonStart:function polygonStart(){r.polygonStart(),S.lineStart=ringStart},polygonEnd:function polygonEnd(){r.polygonEnd(),S.lineStart=lineStart}};function point(a,u){a=n(a,u),r.point(a[0],a[1])}function lineStart(){v=NaN,S.point=linePoint,r.lineStart()}function linePoint(a,u){var s=cartesian_cartesian([a,u]),l=n(a,u);resampleLineTo(v,y,m,w,M,T,v=l[0],y=l[1],m=a,w=s[0],M=s[1],T=s[2],16,r),r.point(v,y)}function lineEnd(){S.point=point,r.lineEnd()}function ringStart(){lineStart(),S.point=ringPoint,S.lineEnd=ringEnd}function ringPoint(n,r){linePoint(a=n,r),u=v,s=y,l=w,h=M,d=T,S.point=linePoint}function ringEnd(){resampleLineTo(v,y,m,w,M,T,u,s,a,l,h,d,16,r),S.lineEnd=lineEnd,lineEnd()}return S}}(n,r):function resampleNone(n){return transform_transformer({point:function point(r,a){r=n(r,a),this.stream.point(r[0],r[1])}})}(n)};var hn=transform_transformer({point:function point(n,r){this.stream.point(n*qt,r*qt)}});function scaleTranslate(n,r,a,u,s){function transform(l,h){return[r+n*(l*=u),a-n*(h*=s)]}return transform.invert=function(l,h){return[(l-r)/n*u,(a-h)/n*s]},transform}function scaleTranslateRotate(n,r,a,u,s,l){var h=Zt(l),d=$t(l),m=h*n,v=d*n,y=h/n,w=d/n,M=(d*a-h*r)/n,T=(d*r+h*a)/n;function transform(n,l){return[m*(n*=u)-v*(l*=s)+r,a-v*n-m*l]}return transform.invert=function(n,r){return[u*(y*n-w*r+M),s*(T-w*n-y*r)]},transform}function projection_projection(n){return function projectionMutator(n){var r,a,u,s,l,h,d,m,v,y,w=150,M=480,T=250,S=0,E=0,C=0,N=0,k=0,A=0,F=1,D=1,R=null,P=nn,I=null,U=d3_geo_src_identity,z=.5;function projection(n){return m(n[0]*qt,n[1]*qt)}function invert(n){return(n=m.invert(n[0],n[1]))&&[n[0]*Wt,n[1]*Wt]}function recenter(){var n=scaleTranslateRotate(w,0,0,F,D,A).apply(null,r(S,E)),u=(A?scaleTranslateRotate:scaleTranslate)(w,M-n[0],T-n[1],F,D,A);return a=rotateRadians(C,N,k),d=compose(r,u),m=compose(a,d),h=resample(d,z),reset()}function reset(){return v=y=null,projection}return projection.stream=function(n){return v&&y===n?v:v=hn(function transformRotate(n){return transform_transformer({point:function point(r,a){var u=n(r,a);return this.stream.point(u[0],u[1])}})}(a)(P(h(U(y=n)))))},projection.preclip=function(n){return arguments.length?(P=n,R=void 0,reset()):P},projection.postclip=function(n){return arguments.length?(U=n,I=u=s=l=null,reset()):U},projection.clipAngle=function(n){return arguments.length?(P=+n?clip_circle(R=n*qt):(R=null,nn),reset()):R*Wt},projection.clipExtent=function(n){return arguments.length?(U=null==n?(I=u=s=l=null,d3_geo_src_identity):clipRectangle(I=+n[0][0],u=+n[0][1],s=+n[1][0],l=+n[1][1]),reset()):null==I?null:[[I,u],[s,l]]},projection.scale=function(n){return arguments.length?(w=+n,recenter()):w},projection.translate=function(n){return arguments.length?(M=+n[0],T=+n[1],recenter()):[M,T]},projection.center=function(n){return arguments.length?(S=n[0]%360*qt,E=n[1]%360*qt,recenter()):[S*Wt,E*Wt]},projection.rotate=function(n){return arguments.length?(C=n[0]%360*qt,N=n[1]%360*qt,k=n.length>2?n[2]%360*qt:0,recenter()):[C*Wt,N*Wt,k*Wt]},projection.angle=function(n){return arguments.length?(A=n%360*qt,recenter()):A*Wt},projection.reflectX=function(n){return arguments.length?(F=n?-1:1,recenter()):F<0},projection.reflectY=function(n){return arguments.length?(D=n?-1:1,recenter()):D<0},projection.precision=function(n){return arguments.length?(h=resample(d,z=n*n),reset()):Jt(z)},projection.fitExtent=function(n,r){return fitExtent(projection,n,r)},projection.fitSize=function(n,r){return function fitSize(n,r,a){return fitExtent(n,[[0,0],r],a)}(projection,n,r)},projection.fitWidth=function(n,r){return function fitWidth(n,r,a){return fit(n,(function(a){var u=+r,s=u/(a[1][0]-a[0][0]),l=(u-s*(a[1][0]+a[0][0]))/2,h=-s*a[0][1];n.scale(150*s).translate([l,h])}),a)}(projection,n,r)},projection.fitHeight=function(n,r){return function fitHeight(n,r,a){return fit(n,(function(a){var u=+r,s=u/(a[1][1]-a[0][1]),l=-s*a[0][0],h=(u-s*(a[1][1]+a[0][1]))/2;n.scale(150*s).translate([l,h])}),a)}(projection,n,r)},function(){return r=n.apply(this,arguments),projection.invert=r.invert&&invert,recenter()}}((function(){return n}))()}function equirectangularRaw(n,r){return[n,r]}equirectangularRaw.invert=equirectangularRaw;var pn,dn,mn,gn,equirectangular=function(){return projection_projection(equirectangularRaw).scale(152.63)},vn=adder(),yn=adder(),_n={point:noop,lineStart:noop,lineEnd:noop,polygonStart:function polygonStart(){_n.lineStart=areaRingStart,_n.lineEnd=areaRingEnd},polygonEnd:function polygonEnd(){_n.lineStart=_n.lineEnd=_n.point=noop,vn.add(Xt(yn)),yn.reset()},result:function result(){var n=vn/2;return vn.reset(),n}};function areaRingStart(){_n.point=areaPointFirst}function areaPointFirst(n,r){_n.point=areaPoint,pn=mn=n,dn=gn=r}function areaPoint(n,r){yn.add(gn*n-mn*r),mn=n,gn=r}function areaRingEnd(){areaPoint(pn,dn)}var wn,bn,xn,Mn,Tn=_n,Sn=0,En=0,Cn=0,Nn=0,kn=0,An=0,Fn=0,Dn=0,Rn=0,Pn={point:centroidPoint,lineStart:centroidLineStart,lineEnd:centroidLineEnd,polygonStart:function polygonStart(){Pn.lineStart=centroidRingStart,Pn.lineEnd=centroidRingEnd},polygonEnd:function polygonEnd(){Pn.point=centroidPoint,Pn.lineStart=centroidLineStart,Pn.lineEnd=centroidLineEnd},result:function result(){var n=Rn?[Fn/Rn,Dn/Rn]:An?[Nn/An,kn/An]:Cn?[Sn/Cn,En/Cn]:[NaN,NaN];return Sn=En=Cn=Nn=kn=An=Fn=Dn=Rn=0,n}};function centroidPoint(n,r){Sn+=n,En+=r,++Cn}function centroidLineStart(){Pn.point=centroidPointFirstLine}function centroidPointFirstLine(n,r){Pn.point=centroidPointLine,centroidPoint(xn=n,Mn=r)}function centroidPointLine(n,r){var a=n-xn,u=r-Mn,s=Jt(a*a+u*u);Nn+=s*(xn+n)/2,kn+=s*(Mn+r)/2,An+=s,centroidPoint(xn=n,Mn=r)}function centroidLineEnd(){Pn.point=centroidPoint}function centroidRingStart(){Pn.point=centroidPointFirstRing}function centroidRingEnd(){centroidPointRing(wn,bn)}function centroidPointFirstRing(n,r){Pn.point=centroidPointRing,centroidPoint(wn=xn=n,bn=Mn=r)}function centroidPointRing(n,r){var a=n-xn,u=r-Mn,s=Jt(a*a+u*u);Nn+=s*(xn+n)/2,kn+=s*(Mn+r)/2,An+=s,Fn+=(s=Mn*n-xn*r)*(xn+n),Dn+=s*(Mn+r),Rn+=3*s,centroidPoint(xn=n,Mn=r)}var In=Pn;function PathContext(n){this._context=n}PathContext.prototype={_radius:4.5,pointRadius:function pointRadius(n){return this._radius=n,this},polygonStart:function polygonStart(){this._line=0},polygonEnd:function polygonEnd(){this._line=NaN},lineStart:function lineStart(){this._point=0},lineEnd:function lineEnd(){0===this._line&&this._context.closePath(),this._point=NaN},point:function point(n,r){switch(this._point){case 0:this._context.moveTo(n,r),this._point=1;break;case 1:this._context.lineTo(n,r);break;default:this._context.moveTo(n+this._radius,r),this._context.arc(n,r,this._radius,0,Yt)}},result:noop};var Un,zn,On,Ln,Vn,Hn=adder(),jn={point:noop,lineStart:function lineStart(){jn.point=lengthPointFirst},lineEnd:function lineEnd(){Un&&lengthPoint(zn,On),jn.point=noop},polygonStart:function polygonStart(){Un=!0},polygonEnd:function polygonEnd(){Un=null},result:function result(){var n=+Hn;return Hn.reset(),n}};function lengthPointFirst(n,r){jn.point=lengthPoint,zn=Ln=n,On=Vn=r}function lengthPoint(n,r){Ln-=n,Vn-=r,Hn.add(Jt(Ln*Ln+Vn*Vn)),Ln=n,Vn=r}var Yn=jn;function PathString(){this._string=[]}function string_circle(n){return"m0,"+n+"a"+n+","+n+" 0 1,1 0,"+-2*n+"a"+n+","+n+" 0 1,1 0,"+2*n+"z"}PathString.prototype={_radius:4.5,_circle:string_circle(4.5),pointRadius:function pointRadius(n){return(n=+n)!==this._radius&&(this._radius=n,this._circle=null),this},polygonStart:function polygonStart(){this._line=0},polygonEnd:function polygonEnd(){this._line=NaN},lineStart:function lineStart(){this._point=0},lineEnd:function lineEnd(){0===this._line&&this._string.push("Z"),this._point=NaN},point:function point(n,r){switch(this._point){case 0:this._string.push("M",n,",",r),this._point=1;break;case 1:this._string.push("L",n,",",r);break;default:null==this._circle&&(this._circle=string_circle(this._radius)),this._string.push("M",n,",",r,this._circle)}},result:function result(){if(this._string.length){var result=this._string.join("");return this._string=[],result}return null}};var src_path=function(n,r){var a,u,s=4.5;function path(n){return n&&("function"==typeof s&&u.pointRadius(+s.apply(this,arguments)),src_stream(n,a(u))),u.result()}return path.area=function(n){return src_stream(n,a(Tn)),Tn.result()},path.measure=function(n){return src_stream(n,a(Yn)),Yn.result()},path.bounds=function(n){return src_stream(n,a(ln)),ln.result()},path.centroid=function(n){return src_stream(n,a(In)),In.result()},path.projection=function(r){return arguments.length?(a=null==r?(n=null,d3_geo_src_identity):(n=r).stream,path):n},path.context=function(n){return arguments.length?(u=null==n?(r=null,new PathString):new PathContext(r=n),"function"!=typeof s&&u.pointRadius(s),path):r},path.pointRadius=function(n){return arguments.length?(s="function"==typeof n?n:(u.pointRadius(+n),+n),path):s},path.projection(n).context(r)},Wn={value:function value(){}};function dispatch_dispatch(){for(var n,r=0,a=arguments.length,u={};r<a;++r){if(!(n=arguments[r]+"")||n in u||/[\s.]/.test(n))throw new Error("illegal type: "+n);u[n]=[]}return new Dispatch(u)}function Dispatch(n){this._=n}function dispatch_parseTypenames(n,r){return n.trim().split(/^|\s+/).map((function(n){var a="",u=n.indexOf(".");if(u>=0&&(a=n.slice(u+1),n=n.slice(0,u)),n&&!r.hasOwnProperty(n))throw new Error("unknown type: "+n);return{type:n,name:a}}))}function get(n,r){for(var a,u=0,s=n.length;u<s;++u)if((a=n[u]).name===r)return a.value}function dispatch_set(n,r,a){for(var u=0,s=n.length;u<s;++u)if(n[u].name===r){n[u]=Wn,n=n.slice(0,u).concat(n.slice(u+1));break}return null!=a&&n.push({name:r,value:a}),n}Dispatch.prototype=dispatch_dispatch.prototype={constructor:Dispatch,on:function on(n,r){var a,u=this._,s=dispatch_parseTypenames(n+"",u),l=-1,h=s.length;if(!(arguments.length<2)){if(null!=r&&"function"!=typeof r)throw new Error("invalid callback: "+r);for(;++l<h;)if(a=(n=s[l]).type)u[a]=dispatch_set(u[a],n.name,r);else if(null==r)for(a in u)u[a]=dispatch_set(u[a],n.name,null);return this}for(;++l<h;)if((a=(n=s[l]).type)&&(a=get(u[a],n.name)))return a},copy:function copy(){var copy={},n=this._;for(var r in n)copy[r]=n[r].slice();return new Dispatch(copy)},call:function call(n,r){if((a=arguments.length-2)>0)for(var a,u,s=new Array(a),l=0;l<a;++l)s[l]=arguments[l+2];if(!this._.hasOwnProperty(n))throw new Error("unknown type: "+n);for(l=0,a=(u=this._[n]).length;l<a;++l)u[l].value.apply(r,s)},apply:function apply(n,r,a){if(!this._.hasOwnProperty(n))throw new Error("unknown type: "+n);for(var u=this._[n],s=0,l=u.length;s<l;++s)u[s].value.apply(r,a)}};var qn=dispatch_dispatch;var noevent=function(){h.preventDefault(),h.stopImmediatePropagation()},nodrag=function(n){var r=n.document.documentElement,a=src_select(n).on("dragstart.drag",noevent,!0);"onselectstart"in r?a.on("selectstart.drag",noevent,!0):(r.__noselect=r.style.MozUserSelect,r.style.MozUserSelect="none")};function yesdrag(n,r){var a=n.document.documentElement,u=src_select(n).on("dragstart.drag",null);r&&(u.on("click.drag",noevent,!0),setTimeout((function(){u.on("click.drag",null)}),0)),"onselectstart"in a?u.on("selectstart.drag",null):(a.style.MozUserSelect=a.__noselect,delete a.__noselect)}var Xn=Math.SQRT2;function cosh(n){return((n=Math.exp(n))+1/n)/2}var Gn,Bn,src_zoom=function(n,r){var a,u,s=n[0],l=n[1],h=n[2],d=r[0],m=r[1],v=r[2],y=d-s,w=m-l,M=y*y+w*w;if(M<1e-12)u=Math.log(v/h)/Xn,a=function i(n){return[s+n*y,l+n*w,h*Math.exp(Xn*n*u)]};else{var T=Math.sqrt(M),S=(v*v-h*h+4*M)/(2*h*2*T),E=(v*v-h*h-4*M)/(2*v*2*T),C=Math.log(Math.sqrt(S*S+1)-S),N=Math.log(Math.sqrt(E*E+1)-E);u=(N-C)/Xn,a=function i(n){var r=n*u,a=cosh(C),d=h/(2*T)*(a*function tanh(n){return((n=Math.exp(2*n))-1)/(n+1)}(Xn*r+C)-function sinh(n){return((n=Math.exp(n))-1/n)/2}(C));return[s+d*y,l+d*w,h*a/cosh(Xn*r+C)]}}return a.duration=1e3*u,a},sourceEvent=function(){for(var n,r=h;n=r.sourceEvent;)r=n;return r},src_point=function(n,r){var a=n.ownerSVGElement||n;if(a.createSVGPoint){var u=a.createSVGPoint();return u.x=r.clientX,u.y=r.clientY,[(u=u.matrixTransform(n.getScreenCTM().inverse())).x,u.y]}var s=n.getBoundingClientRect();return[r.clientX-s.left-n.clientLeft,r.clientY-s.top-n.clientTop]},mouse=function(n){var r=sourceEvent();return r.changedTouches&&(r=r.changedTouches[0]),src_point(n,r)},src_touch=function(n,r,a){arguments.length<3&&(a=r,r=sourceEvent().changedTouches);for(var u,s=0,l=r?r.length:0;s<l;++s)if((u=r[s]).identifier===a)return src_point(n,u);return null},Zn=0,$n=0,Qn=0,Jn=0,Kn=0,te=0,ne="object"===("undefined"==typeof performance?"undefined":R()(performance))&&performance.now?performance:Date,ee="object"===("undefined"==typeof window?"undefined":R()(window))&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(n){setTimeout(n,17)};function now(){return Kn||(ee(clearNow),Kn=ne.now()+te)}function clearNow(){Kn=0}function Timer(){this._call=this._time=this._next=null}function timer(n,r,a){var u=new Timer;return u.restart(n,r,a),u}function wake(){Kn=(Jn=ne.now())+te,Zn=$n=0;try{!function timerFlush(){now(),++Zn;for(var n,r=Gn;r;)(n=Kn-r._time)>=0&&r._call.call(null,n),r=r._next;--Zn}()}finally{Zn=0,function nap(){var n,r,a=Gn,u=1/0;for(;a;)a._call?(u>a._time&&(u=a._time),n=a,a=a._next):(r=a._next,a._next=null,a=n?n._next=r:Gn=r);Bn=n,sleep(u)}(),Kn=0}}function poke(){var n=ne.now(),r=n-Jn;r>1e3&&(te-=r,Jn=n)}function sleep(n){Zn||($n&&($n=clearTimeout($n)),n-Kn>24?(n<1/0&&($n=setTimeout(wake,n-ne.now()-te)),Qn&&(Qn=clearInterval(Qn))):(Qn||(Jn=ne.now(),Qn=setInterval(poke,1e3)),Zn=1,ee(wake)))}Timer.prototype=timer.prototype={constructor:Timer,restart:function restart(n,r,a){if("function"!=typeof n)throw new TypeError("callback is not a function");a=(null==a?now():+a)+(null==r?0:+r),this._next||Bn===this||(Bn?Bn._next=this:Gn=this,Bn=this),this._call=n,this._time=a,sleep()},stop:function stop(){this._call&&(this._call=null,this._time=1/0,sleep())}};var src_timeout=function(n,r,a){var u=new Timer;return r=null==r?0:+r,u.restart((function(a){u.stop(),n(a+r)}),r,a),u},re=qn("start","end","cancel","interrupt"),ie=[],transition_schedule=function(n,r,a,u,s,l){var h=n.__transition;if(h){if(a in h)return}else n.__transition={};!function schedule_create(n,r,a){var u,s=n.__transition;function start(l){var h,d,m,v;if(1!==a.state)return stop();for(h in s)if((v=s[h]).name===a.name){if(3===v.state)return src_timeout(start);4===v.state?(v.state=6,v.timer.stop(),v.on.call("interrupt",n,n.__data__,v.index,v.group),delete s[h]):+h<r&&(v.state=6,v.timer.stop(),v.on.call("cancel",n,n.__data__,v.index,v.group),delete s[h])}if(src_timeout((function(){3===a.state&&(a.state=4,a.timer.restart(tick,a.delay,a.time),tick(l))})),a.state=2,a.on.call("start",n,n.__data__,a.index,a.group),2===a.state){for(a.state=3,u=new Array(m=a.tween.length),h=0,d=-1;h<m;++h)(v=a.tween[h].value.call(n,n.__data__,a.index,a.group))&&(u[++d]=v);u.length=d+1}}function tick(r){for(var s=r<a.duration?a.ease.call(null,r/a.duration):(a.timer.restart(stop),a.state=5,1),l=-1,h=u.length;++l<h;)u[l].call(n,s);5===a.state&&(a.on.call("end",n,n.__data__,a.index,a.group),stop())}function stop(){for(var u in a.state=6,a.timer.stop(),delete s[r],s)return;delete n.__transition}s[r]=a,a.timer=timer((function schedule(n){a.state=1,a.timer.restart(start,a.delay,a.time),a.delay<=n&&start(n-a.delay)}),0,a.time)}(n,a,{name:r,index:u,group:s,on:re,tween:ie,time:l.time,delay:l.delay,duration:l.duration,ease:l.ease,timer:null,state:0})};function init(n,r){var a=schedule_get(n,r);if(a.state>0)throw new Error("too late; already scheduled");return a}function schedule_set(n,r){var a=schedule_get(n,r);if(a.state>3)throw new Error("too late; already running");return a}function schedule_get(n,r){var a=n.__transition;if(!a||!(a=a[r]))throw new Error("transition not found");return a}var oe,ae,ue,se,interrupt=function(n,r){var a,u,s,l=n.__transition,h=!0;if(l){for(s in r=null==r?null:r+"",l)(a=l[s]).name===r?(u=a.state>2&&a.state<5,a.state=6,a.timer.stop(),a.on.call(u?"interrupt":"cancel",n,n.__data__,a.index,a.group),delete l[s]):h=!1;h&&delete n.__transition}},ce=180/Math.PI,le={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1},decompose=function(n,r,a,u,s,l){var h,d,m;return(h=Math.sqrt(n*n+r*r))&&(n/=h,r/=h),(m=n*a+r*u)&&(a-=n*m,u-=r*m),(d=Math.sqrt(a*a+u*u))&&(a/=d,u/=d,m/=d),n*u<r*a&&(n=-n,r=-r,m=-m,h=-h),{translateX:s,translateY:l,rotate:Math.atan2(r,n)*ce,skewX:Math.atan(m)*ce,scaleX:h,scaleY:d}};function interpolateTransform(n,r,a,u){function pop(n){return n.length?n.pop()+" ":""}return function(s,l){var h=[],d=[];return s=n(s),l=n(l),function translate(n,u,s,l,h,d){if(n!==s||u!==l){var m=h.push("translate(",null,r,null,a);d.push({i:m-4,x:src_number(n,s)},{i:m-2,x:src_number(u,l)})}else(s||l)&&h.push("translate("+s+r+l+a)}(s.translateX,s.translateY,l.translateX,l.translateY,h,d),function rotate(n,r,a,s){n!==r?(n-r>180?r+=360:r-n>180&&(n+=360),s.push({i:a.push(pop(a)+"rotate(",null,u)-2,x:src_number(n,r)})):r&&a.push(pop(a)+"rotate("+r+u)}(s.rotate,l.rotate,h,d),function skewX(n,r,a,s){n!==r?s.push({i:a.push(pop(a)+"skewX(",null,u)-2,x:src_number(n,r)}):r&&a.push(pop(a)+"skewX("+r+u)}(s.skewX,l.skewX,h,d),function scale(n,r,a,u,s,l){if(n!==a||r!==u){var h=s.push(pop(s)+"scale(",null,",",null,")");l.push({i:h-4,x:src_number(n,a)},{i:h-2,x:src_number(r,u)})}else 1===a&&1===u||s.push(pop(s)+"scale("+a+","+u+")")}(s.scaleX,s.scaleY,l.scaleX,l.scaleY,h,d),s=l=null,function(n){for(var r,a=-1,u=d.length;++a<u;)h[(r=d[a]).i]=r.x(n);return h.join("")}}}var fe=interpolateTransform((function parseCss(n){return"none"===n?le:(oe||(oe=document.createElement("DIV"),ae=document.documentElement,ue=document.defaultView),oe.style.transform=n,n=ue.getComputedStyle(ae.appendChild(oe),null).getPropertyValue("transform"),ae.removeChild(oe),n=n.slice(7,-1).split(","),decompose(+n[0],+n[1],+n[2],+n[3],+n[4],+n[5]))}),"px, ","px)","deg)"),he=interpolateTransform((function parseSvg(n){return null==n?le:(se||(se=document.createElementNS("http://www.w3.org/2000/svg","g")),se.setAttribute("transform",n),(n=se.transform.baseVal.consolidate())?(n=n.matrix,decompose(n.a,n.b,n.c,n.d,n.e,n.f)):le)}),", ",")",")");function tweenRemove(n,r){var a,u;return function(){var s=schedule_set(this,n),l=s.tween;if(l!==a)for(var h=0,d=(u=a=l).length;h<d;++h)if(u[h].name===r){(u=u.slice()).splice(h,1);break}s.tween=u}}function tweenFunction(n,r,a){var u,s;if("function"!=typeof a)throw new Error;return function(){var l=schedule_set(this,n),h=l.tween;if(h!==u){s=(u=h).slice();for(var d={name:r,value:a},m=0,v=s.length;m<v;++m)if(s[m].name===r){s[m]=d;break}m===v&&s.push(d)}l.tween=s}}function tweenValue(n,r,a){var u=n._id;return n.each((function(){var n=schedule_set(this,u);(n.value||(n.value={}))[r]=a.apply(this,arguments)})),function(n){return schedule_get(n,u).value[r]}}var transition_interpolate=function(n,r){var a;return("number"==typeof r?src_number:r instanceof P.e?I.a:(a=Object(P.e)(r))?(r=a,I.a):src_string)(n,r)};function attr_attrRemove(n){return function(){this.removeAttribute(n)}}function attr_attrRemoveNS(n){return function(){this.removeAttributeNS(n.space,n.local)}}function attr_attrConstant(n,r,a){var u,s,l=a+"";return function(){var h=this.getAttribute(n);return h===l?null:h===u?s:s=r(u=h,a)}}function attr_attrConstantNS(n,r,a){var u,s,l=a+"";return function(){var h=this.getAttributeNS(n.space,n.local);return h===l?null:h===u?s:s=r(u=h,a)}}function attr_attrFunction(n,r,a){var u,s,l;return function(){var h,d,m=a(this);if(null!=m)return(h=this.getAttribute(n))===(d=m+"")?null:h===u&&d===s?l:(s=d,l=r(u=h,m));this.removeAttribute(n)}}function attr_attrFunctionNS(n,r,a){var u,s,l;return function(){var h,d,m=a(this);if(null!=m)return(h=this.getAttributeNS(n.space,n.local))===(d=m+"")?null:h===u&&d===s?l:(s=d,l=r(u=h,m));this.removeAttributeNS(n.space,n.local)}}function attrInterpolate(n,r){return function(a){this.setAttribute(n,r.call(this,a))}}function attrInterpolateNS(n,r){return function(a){this.setAttributeNS(n.space,n.local,r.call(this,a))}}function attrTweenNS(n,r){var a,u;function tween(){var s=r.apply(this,arguments);return s!==u&&(a=(u=s)&&attrInterpolateNS(n,s)),a}return tween._value=r,tween}function attrTween(n,r){var a,u;function tween(){var s=r.apply(this,arguments);return s!==u&&(a=(u=s)&&attrInterpolate(n,s)),a}return tween._value=r,tween}function delayFunction(n,r){return function(){init(this,n).delay=+r.apply(this,arguments)}}function delayConstant(n,r){return r=+r,function(){init(this,n).delay=r}}function durationFunction(n,r){return function(){schedule_set(this,n).duration=+r.apply(this,arguments)}}function durationConstant(n,r){return r=+r,function(){schedule_set(this,n).duration=r}}function easeConstant(n,r){if("function"!=typeof r)throw new Error;return function(){schedule_set(this,n).ease=r}}function onFunction(n,r,a){var u,s,l=function on_start(n){return(n+"").trim().split(/^|\s+/).every((function(n){var r=n.indexOf(".");return r>=0&&(n=n.slice(0,r)),!n||"start"===n}))}(r)?init:schedule_set;return function(){var h=l(this,n),d=h.on;d!==u&&(s=(u=d).copy()).on(r,a),h.on=s}}var pe=m.prototype.constructor;function style_styleRemove(n){return function(){this.style.removeProperty(n)}}function styleInterpolate(n,r,a){return function(u){this.style.setProperty(n,r.call(this,u),a)}}function styleTween(n,r,a){var u,s;function tween(){var l=r.apply(this,arguments);return l!==s&&(u=(s=l)&&styleInterpolate(n,l,a)),u}return tween._value=r,tween}function textInterpolate(n){return function(r){this.textContent=n.call(this,r)}}function textTween(n){var r,a;function tween(){var u=n.apply(this,arguments);return u!==a&&(r=(a=u)&&textInterpolate(u)),r}return tween._value=n,tween}var de=0;function Transition(n,r,a,u){this._groups=n,this._parents=r,this._name=a,this._id=u}function src_transition_transition(n){return m().transition(n)}function newId(){return++de}var me=m.prototype;Transition.prototype=src_transition_transition.prototype={constructor:Transition,select:function(n){var r=this._name,a=this._id;"function"!=typeof n&&(n=src_selector(n));for(var u=this._groups,s=u.length,l=new Array(s),h=0;h<s;++h)for(var d,m,v=u[h],y=v.length,w=l[h]=new Array(y),M=0;M<y;++M)(d=v[M])&&(m=n.call(d,d.__data__,M,v))&&("__data__"in d&&(m.__data__=d.__data__),w[M]=m,transition_schedule(w[M],r,a,M,w,schedule_get(d,a)));return new Transition(l,this._parents,r,a)},selectAll:function(n){var r=this._name,a=this._id;"function"!=typeof n&&(n=selectorAll(n));for(var u=this._groups,s=u.length,l=[],h=[],d=0;d<s;++d)for(var m,v=u[d],y=v.length,w=0;w<y;++w)if(m=v[w]){for(var M,T=n.call(m,m.__data__,w,v),S=schedule_get(m,a),E=0,C=T.length;E<C;++E)(M=T[E])&&transition_schedule(M,r,a,E,T,S);l.push(T),h.push(m)}return new Transition(l,h,r,a)},filter:function(n){"function"!=typeof n&&(n=matcher(n));for(var r=this._groups,a=r.length,u=new Array(a),s=0;s<a;++s)for(var l,h=r[s],d=h.length,m=u[s]=[],v=0;v<d;++v)(l=h[v])&&n.call(l,l.__data__,v,h)&&m.push(l);return new Transition(u,this._parents,this._name,this._id)},merge:function(n){if(n._id!==this._id)throw new Error;for(var r=this._groups,a=n._groups,u=r.length,s=a.length,l=Math.min(u,s),h=new Array(u),d=0;d<l;++d)for(var m,v=r[d],y=a[d],w=v.length,M=h[d]=new Array(w),T=0;T<w;++T)(m=v[T]||y[T])&&(M[T]=m);for(;d<u;++d)h[d]=r[d];return new Transition(h,this._parents,this._name,this._id)},selection:function(){return new pe(this._groups,this._parents)},transition:function(){for(var n=this._name,r=this._id,a=newId(),u=this._groups,s=u.length,l=0;l<s;++l)for(var h,d=u[l],m=d.length,v=0;v<m;++v)if(h=d[v]){var y=schedule_get(h,r);transition_schedule(h,n,a,v,d,{time:y.time+y.delay+y.duration,delay:0,duration:y.duration,ease:y.ease})}return new Transition(u,this._parents,n,a)},call:me.call,nodes:me.nodes,node:me.node,size:me.size,empty:me.empty,each:me.each,on:function(n,r){var a=this._id;return arguments.length<2?schedule_get(this.node(),a).on.on(n):this.each(onFunction(a,n,r))},attr:function(n,r){var a=namespace(n),u="transform"===a?he:transition_interpolate;return this.attrTween(n,"function"==typeof r?(a.local?attr_attrFunctionNS:attr_attrFunction)(a,u,tweenValue(this,"attr."+n,r)):null==r?(a.local?attr_attrRemoveNS:attr_attrRemove)(a):(a.local?attr_attrConstantNS:attr_attrConstant)(a,u,r))},attrTween:function(n,r){var a="attr."+n;if(arguments.length<2)return(a=this.tween(a))&&a._value;if(null==r)return this.tween(a,null);if("function"!=typeof r)throw new Error;var u=namespace(n);return this.tween(a,(u.local?attrTweenNS:attrTween)(u,r))},style:function(n,r,a){var u="transform"==(n+="")?fe:transition_interpolate;return null==r?this.styleTween(n,function styleNull(n,r){var a,u,s;return function(){var l=styleValue(this,n),h=(this.style.removeProperty(n),styleValue(this,n));return l===h?null:l===a&&h===u?s:s=r(a=l,u=h)}}(n,u)).on("end.style."+n,style_styleRemove(n)):"function"==typeof r?this.styleTween(n,function style_styleFunction(n,r,a){var u,s,l;return function(){var h=styleValue(this,n),d=a(this),m=d+"";return null==d&&(this.style.removeProperty(n),m=d=styleValue(this,n)),h===m?null:h===u&&m===s?l:(s=m,l=r(u=h,d))}}(n,u,tweenValue(this,"style."+n,r))).each(function styleMaybeRemove(n,r){var a,u,s,l,h="style."+r,d="end."+h;return function(){var m=schedule_set(this,n),v=m.on,y=null==m.value[h]?l||(l=style_styleRemove(r)):void 0;v===a&&s===y||(u=(a=v).copy()).on(d,s=y),m.on=u}}(this._id,n)):this.styleTween(n,function style_styleConstant(n,r,a){var u,s,l=a+"";return function(){var h=styleValue(this,n);return h===l?null:h===u?s:s=r(u=h,a)}}(n,u,r),a).on("end.style."+n,null)},styleTween:function(n,r,a){var u="style."+(n+="");if(arguments.length<2)return(u=this.tween(u))&&u._value;if(null==r)return this.tween(u,null);if("function"!=typeof r)throw new Error;return this.tween(u,styleTween(n,r,null==a?"":a))},text:function(n){return this.tween("text","function"==typeof n?function text_textFunction(n){return function(){var r=n(this);this.textContent=null==r?"":r}}(tweenValue(this,"text",n)):function text_textConstant(n){return function(){this.textContent=n}}(null==n?"":n+""))},textTween:function(n){var r="text";if(arguments.length<1)return(r=this.tween(r))&&r._value;if(null==n)return this.tween(r,null);if("function"!=typeof n)throw new Error;return this.tween(r,textTween(n))},remove:function(){return this.on("end.remove",function removeFunction(n){return function(){var r=this.parentNode;for(var a in this.__transition)if(+a!==n)return;r&&r.removeChild(this)}}(this._id))},tween:function(n,r){var a=this._id;if(n+="",arguments.length<2){for(var u,s=schedule_get(this.node(),a).tween,l=0,h=s.length;l<h;++l)if((u=s[l]).name===n)return u.value;return null}return this.each((null==r?tweenRemove:tweenFunction)(a,n,r))},delay:function(n){var r=this._id;return arguments.length?this.each(("function"==typeof n?delayFunction:delayConstant)(r,n)):schedule_get(this.node(),r).delay},duration:function(n){var r=this._id;return arguments.length?this.each(("function"==typeof n?durationFunction:durationConstant)(r,n)):schedule_get(this.node(),r).duration},ease:function(n){var r=this._id;return arguments.length?this.each(easeConstant(r,n)):schedule_get(this.node(),r).ease},end:function(){var n,r,a=this,u=a._id,s=a.size();return new Promise((function(l,h){var d={value:h},m={value:function value(){0==--s&&l()}};a.each((function(){var a=schedule_set(this,u),s=a.on;s!==n&&((r=(n=s).copy())._.cancel.push(d),r._.interrupt.push(d),r._.end.push(m)),a.on=r}))}))}};var ge={time:null,delay:0,duration:250,ease:function cubicInOut(n){return((n*=2)<=1?n*n*n:(n-=2)*n*n+2)/2}};function transition_inherit(n,r){for(var a;!(a=n.__transition)||!(a=a[r]);)if(!(n=n.parentNode))return ge.time=now(),ge;return a}m.prototype.interrupt=function(n){return this.each((function(){interrupt(this,n)}))},m.prototype.transition=function(n){var r,a;n instanceof Transition?(r=n._id,n=n._name):(r=newId(),(a=ge).time=now(),n=null==n?null:n+"");for(var u=this._groups,s=u.length,l=0;l<s;++l)for(var h,d=u[l],m=d.length,v=0;v<m;++v)(h=d[v])&&transition_schedule(h,n,r,v,d,a||transition_inherit(h,r));return new Transition(u,this._parents,n,r)};var d3_zoom_src_constant=function(n){return function(){return n}};function ZoomEvent(n,r,a){this.target=n,this.type=r,this.transform=a}function Transform(n,r,a){this.k=n,this.x=r,this.y=a}Transform.prototype={constructor:Transform,scale:function scale(n){return 1===n?this:new Transform(this.k*n,this.x,this.y)},translate:function translate(n,r){return 0===n&0===r?this:new Transform(this.k,this.x+this.k*n,this.y+this.k*r)},apply:function apply(n){return[n[0]*this.k+this.x,n[1]*this.k+this.y]},applyX:function applyX(n){return n*this.k+this.x},applyY:function applyY(n){return n*this.k+this.y},invert:function invert(n){return[(n[0]-this.x)/this.k,(n[1]-this.y)/this.k]},invertX:function invertX(n){return(n-this.x)/this.k},invertY:function invertY(n){return(n-this.y)/this.k},rescaleX:function rescaleX(n){return n.copy().domain(n.range().map(this.invertX,this).map(n.invert,n))},rescaleY:function rescaleY(n){return n.copy().domain(n.range().map(this.invertY,this).map(n.invert,n))},toString:function toString(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var ve=new Transform(1,0,0);function noevent_nopropagation(){h.stopImmediatePropagation()}Transform.prototype;var src_noevent=function(){h.preventDefault(),h.stopImmediatePropagation()};function defaultFilter(){return!h.ctrlKey&&!h.button}function defaultExtent(){var n=this;return n instanceof SVGElement?(n=n.ownerSVGElement||n).hasAttribute("viewBox")?[[(n=n.viewBox.baseVal).x,n.y],[n.x+n.width,n.y+n.height]]:[[0,0],[n.width.baseVal.value,n.height.baseVal.value]]:[[0,0],[n.clientWidth,n.clientHeight]]}function defaultTransform(){return this.__zoom||ve}function defaultWheelDelta(){return-h.deltaY*(1===h.deltaMode?.05:h.deltaMode?1:.002)}function defaultTouchable(){return navigator.maxTouchPoints||"ontouchstart"in this}function defaultConstrain(n,r,a){var u=n.invertX(r[0][0])-a[0][0],s=n.invertX(r[1][0])-a[1][0],l=n.invertY(r[0][1])-a[0][1],h=n.invertY(r[1][1])-a[1][1];return n.translate(s>u?(u+s)/2:Math.min(0,u)||Math.max(0,s),h>l?(l+h)/2:Math.min(0,l)||Math.max(0,h))}var d3_zoom_src_zoom=function(){var n,r,a=defaultFilter,u=defaultExtent,s=defaultConstrain,l=defaultWheelDelta,d=defaultTouchable,m=[0,1/0],v=[[-1/0,-1/0],[1/0,1/0]],y=250,w=src_zoom,M=qn("start","zoom","end"),T=0;function zoom(n){n.property("__zoom",defaultTransform).on("wheel.zoom",wheeled).on("mousedown.zoom",mousedowned).on("dblclick.zoom",dblclicked).filter(d).on("touchstart.zoom",touchstarted).on("touchmove.zoom",touchmoved).on("touchend.zoom touchcancel.zoom",touchended).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function scale(n,r){return(r=Math.max(m[0],Math.min(m[1],r)))===n.k?n:new Transform(r,n.x,n.y)}function translate(n,r,a){var u=r[0]-a[0]*n.k,s=r[1]-a[1]*n.k;return u===n.x&&s===n.y?n:new Transform(n.k,u,s)}function centroid(n){return[(+n[0][0]+ +n[1][0])/2,(+n[0][1]+ +n[1][1])/2]}function schedule(n,r,a){n.on("start.zoom",(function(){gesture(this,arguments).start()})).on("interrupt.zoom end.zoom",(function(){gesture(this,arguments).end()})).tween("zoom",(function(){var n=this,s=arguments,l=gesture(n,s),h=u.apply(n,s),d=null==a?centroid(h):"function"==typeof a?a.apply(n,s):a,m=Math.max(h[1][0]-h[0][0],h[1][1]-h[0][1]),v=n.__zoom,y="function"==typeof r?r.apply(n,s):r,M=w(v.invert(d).concat(m/v.k),y.invert(d).concat(m/y.k));return function(n){if(1===n)n=y;else{var r=M(n),a=m/r[2];n=new Transform(a,d[0]-r[0]*a,d[1]-r[1]*a)}l.zoom(null,n)}}))}function gesture(n,r,a){return!a&&n.__zooming||new Gesture(n,r)}function Gesture(n,r){this.that=n,this.args=r,this.active=0,this.extent=u.apply(n,r),this.taps=0}function wheeled(){if(a.apply(this,arguments)){var n=gesture(this,arguments),r=this.__zoom,u=Math.max(m[0],Math.min(m[1],r.k*Math.pow(2,l.apply(this,arguments)))),h=mouse(this);if(n.wheel)n.mouse[0][0]===h[0]&&n.mouse[0][1]===h[1]||(n.mouse[1]=r.invert(n.mouse[0]=h)),clearTimeout(n.wheel);else{if(r.k===u)return;n.mouse=[h,r.invert(h)],interrupt(this),n.start()}src_noevent(),n.wheel=setTimeout(wheelidled,150),n.zoom("mouse",s(translate(scale(r,u),n.mouse[0],n.mouse[1]),n.extent,v))}function wheelidled(){n.wheel=null,n.end()}}function mousedowned(){if(!r&&a.apply(this,arguments)){var n=gesture(this,arguments,!0),u=src_select(h.view).on("mousemove.zoom",mousemoved,!0).on("mouseup.zoom",mouseupped,!0),l=mouse(this),d=h.clientX,m=h.clientY;nodrag(h.view),noevent_nopropagation(),n.mouse=[l,this.__zoom.invert(l)],interrupt(this),n.start()}function mousemoved(){if(src_noevent(),!n.moved){var r=h.clientX-d,a=h.clientY-m;n.moved=r*r+a*a>T}n.zoom("mouse",s(translate(n.that.__zoom,n.mouse[0]=mouse(n.that),n.mouse[1]),n.extent,v))}function mouseupped(){u.on("mousemove.zoom mouseup.zoom",null),yesdrag(h.view,n.moved),src_noevent(),n.end()}}function dblclicked(){if(a.apply(this,arguments)){var n=this.__zoom,r=mouse(this),l=n.invert(r),d=n.k*(h.shiftKey?.5:2),m=s(translate(scale(n,d),r,l),u.apply(this,arguments),v);src_noevent(),y>0?src_select(this).transition().duration(y).call(schedule,m,r):src_select(this).call(zoom.transform,m)}}function touchstarted(){if(a.apply(this,arguments)){var r,u,s,l,d=h.touches,m=d.length,v=gesture(this,arguments,h.changedTouches.length===m);for(noevent_nopropagation(),u=0;u<m;++u)s=d[u],l=[l=src_touch(this,d,s.identifier),this.__zoom.invert(l),s.identifier],v.touch0?v.touch1||v.touch0[2]===l[2]||(v.touch1=l,v.taps=0):(v.touch0=l,r=!0,v.taps=1+!!n);n&&(n=clearTimeout(n)),r&&(v.taps<2&&(n=setTimeout((function(){n=null}),500)),interrupt(this),v.start())}}function touchmoved(){if(this.__zooming){var r,a,u,l,d=gesture(this,arguments),m=h.changedTouches,y=m.length;for(src_noevent(),n&&(n=clearTimeout(n)),d.taps=0,r=0;r<y;++r)a=m[r],u=src_touch(this,m,a.identifier),d.touch0&&d.touch0[2]===a.identifier?d.touch0[0]=u:d.touch1&&d.touch1[2]===a.identifier&&(d.touch1[0]=u);if(a=d.that.__zoom,d.touch1){var w=d.touch0[0],M=d.touch0[1],T=d.touch1[0],S=d.touch1[1],E=(E=T[0]-w[0])*E+(E=T[1]-w[1])*E,C=(C=S[0]-M[0])*C+(C=S[1]-M[1])*C;a=scale(a,Math.sqrt(E/C)),u=[(w[0]+T[0])/2,(w[1]+T[1])/2],l=[(M[0]+S[0])/2,(M[1]+S[1])/2]}else{if(!d.touch0)return;u=d.touch0[0],l=d.touch0[1]}d.zoom("touch",s(translate(a,u,l),d.extent,v))}}function touchended(){if(this.__zooming){var n,a,u=gesture(this,arguments),s=h.changedTouches,l=s.length;for(noevent_nopropagation(),r&&clearTimeout(r),r=setTimeout((function(){r=null}),500),n=0;n<l;++n)a=s[n],u.touch0&&u.touch0[2]===a.identifier?delete u.touch0:u.touch1&&u.touch1[2]===a.identifier&&delete u.touch1;if(u.touch1&&!u.touch0&&(u.touch0=u.touch1,delete u.touch1),u.touch0)u.touch0[1]=this.__zoom.invert(u.touch0[0]);else if(u.end(),2===u.taps){var d=src_select(this).on("dblclick.zoom");d&&d.apply(this,arguments)}}}return zoom.transform=function(n,r,a){var u=n.selection?n.selection():n;u.property("__zoom",defaultTransform),n!==u?schedule(n,r,a):u.interrupt().each((function(){gesture(this,arguments).start().zoom(null,"function"==typeof r?r.apply(this,arguments):r).end()}))},zoom.scaleBy=function(n,r,a){zoom.scaleTo(n,(function(){var n=this.__zoom.k,a="function"==typeof r?r.apply(this,arguments):r;return n*a}),a)},zoom.scaleTo=function(n,r,a){zoom.transform(n,(function(){var n=u.apply(this,arguments),l=this.__zoom,h=null==a?centroid(n):"function"==typeof a?a.apply(this,arguments):a,d=l.invert(h),m="function"==typeof r?r.apply(this,arguments):r;return s(translate(scale(l,m),h,d),n,v)}),a)},zoom.translateBy=function(n,r,a){zoom.transform(n,(function(){return s(this.__zoom.translate("function"==typeof r?r.apply(this,arguments):r,"function"==typeof a?a.apply(this,arguments):a),u.apply(this,arguments),v)}))},zoom.translateTo=function(n,r,a,l){zoom.transform(n,(function(){var n=u.apply(this,arguments),h=this.__zoom,d=null==l?centroid(n):"function"==typeof l?l.apply(this,arguments):l;return s(ve.translate(d[0],d[1]).scale(h.k).translate("function"==typeof r?-r.apply(this,arguments):-r,"function"==typeof a?-a.apply(this,arguments):-a),n,v)}),l)},Gesture.prototype={start:function start(){return 1==++this.active&&(this.that.__zooming=this,this.emit("start")),this},zoom:function zoom(n,r){return this.mouse&&"mouse"!==n&&(this.mouse[1]=r.invert(this.mouse[0])),this.touch0&&"touch"!==n&&(this.touch0[1]=r.invert(this.touch0[0])),this.touch1&&"touch"!==n&&(this.touch1[1]=r.invert(this.touch1[0])),this.that.__zoom=r,this.emit("zoom"),this},end:function end(){return 0==--this.active&&(delete this.that.__zooming,this.emit("end")),this},emit:function emit(n){!function customEvent(n,r,a,u){var s=h;n.sourceEvent=h,h=n;try{return r.apply(a,u)}finally{h=s}}(new ZoomEvent(zoom,n,this.that.__zoom),M.apply,M,[n,this.that,this.args])}},zoom.wheelDelta=function(n){return arguments.length?(l="function"==typeof n?n:d3_zoom_src_constant(+n),zoom):l},zoom.filter=function(n){return arguments.length?(a="function"==typeof n?n:d3_zoom_src_constant(!!n),zoom):a},zoom.touchable=function(n){return arguments.length?(d="function"==typeof n?n:d3_zoom_src_constant(!!n),zoom):d},zoom.extent=function(n){return arguments.length?(u="function"==typeof n?n:d3_zoom_src_constant([[+n[0][0],+n[0][1]],[+n[1][0],+n[1][1]]]),zoom):u},zoom.scaleExtent=function(n){return arguments.length?(m[0]=+n[0],m[1]=+n[1],zoom):[m[0],m[1]]},zoom.translateExtent=function(n){return arguments.length?(v[0][0]=+n[0][0],v[1][0]=+n[1][0],v[0][1]=+n[0][1],v[1][1]=+n[1][1],zoom):[[v[0][0],v[0][1]],[v[1][0],v[1][1]]]},zoom.constrain=function(n){return arguments.length?(s=n,zoom):s},zoom.duration=function(n){return arguments.length?(y=+n,zoom):y},zoom.interpolate=function(n){return arguments.length?(w=n,zoom):w},zoom.on=function(){var n=M.on.apply(M,arguments);return n===M?zoom:n},zoom.clickDistance=function(n){return arguments.length?(T=(n=+n)*n,zoom):Math.sqrt(T)},zoom},ye=(function custom(n){function polyIn(r){return Math.pow(r,n)}return n=+n,polyIn.exponent=custom,polyIn}(3),function custom(n){function polyOut(r){return 1-Math.pow(1-r,n)}return n=+n,polyOut.exponent=custom,polyOut}(3)),_e=(function custom(n){function polyInOut(r){return((r*=2)<=1?Math.pow(r,n):2-Math.pow(2-r,n))/2}return n=+n,polyInOut.exponent=custom,polyInOut}(3),Math.PI),we=2*_e,be=we-1e-6;function Path(){this._x0=this._y0=this._x1=this._y1=null,this._=""}function path_path(){return new Path}Path.prototype=path_path.prototype={constructor:Path,moveTo:function moveTo(n,r){this._+="M"+(this._x0=this._x1=+n)+","+(this._y0=this._y1=+r)},closePath:function closePath(){null!==this._x1&&(this._x1=this._x0,this._y1=this._y0,this._+="Z")},lineTo:function lineTo(n,r){this._+="L"+(this._x1=+n)+","+(this._y1=+r)},quadraticCurveTo:function quadraticCurveTo(n,r,a,u){this._+="Q"+ +n+","+ +r+","+(this._x1=+a)+","+(this._y1=+u)},bezierCurveTo:function bezierCurveTo(n,r,a,u,s,l){this._+="C"+ +n+","+ +r+","+ +a+","+ +u+","+(this._x1=+s)+","+(this._y1=+l)},arcTo:function arcTo(n,r,a,u,s){n=+n,r=+r,a=+a,u=+u,s=+s;var l=this._x1,h=this._y1,d=a-n,m=u-r,v=l-n,y=h-r,w=v*v+y*y;if(s<0)throw new Error("negative radius: "+s);if(null===this._x1)this._+="M"+(this._x1=n)+","+(this._y1=r);else if(w>1e-6)if(Math.abs(y*d-m*v)>1e-6&&s){var M=a-l,T=u-h,S=d*d+m*m,E=M*M+T*T,C=Math.sqrt(S),N=Math.sqrt(w),k=s*Math.tan((_e-Math.acos((S+w-E)/(2*C*N)))/2),A=k/N,F=k/C;Math.abs(A-1)>1e-6&&(this._+="L"+(n+A*v)+","+(r+A*y)),this._+="A"+s+","+s+",0,0,"+ +(y*M>v*T)+","+(this._x1=n+F*d)+","+(this._y1=r+F*m)}else this._+="L"+(this._x1=n)+","+(this._y1=r);else;},arc:function arc(n,r,a,u,s,l){n=+n,r=+r,l=!!l;var h=(a=+a)*Math.cos(u),d=a*Math.sin(u),m=n+h,v=r+d,y=1^l,w=l?u-s:s-u;if(a<0)throw new Error("negative radius: "+a);null===this._x1?this._+="M"+m+","+v:(Math.abs(this._x1-m)>1e-6||Math.abs(this._y1-v)>1e-6)&&(this._+="L"+m+","+v),a&&(w<0&&(w=w%we+we),w>be?this._+="A"+a+","+a+",0,1,"+y+","+(n-h)+","+(r-d)+"A"+a+","+a+",0,1,"+y+","+(this._x1=m)+","+(this._y1=v):w>1e-6&&(this._+="A"+a+","+a+",0,"+ +(w>=_e)+","+y+","+(this._x1=n+a*Math.cos(s))+","+(this._y1=r+a*Math.sin(s))))},rect:function rect(n,r,a,u){this._+="M"+(this._x0=this._x1=+n)+","+(this._y0=this._y1=+r)+"h"+ +a+"v"+ +u+"h"+-a+"Z"},toString:function toString(){return this._}};var xe=path_path,d3_shape_src_constant=function(n){return function constant(){return n}};function Linear(n){this._context=n}Linear.prototype={areaStart:function areaStart(){this._line=0},areaEnd:function areaEnd(){this._line=NaN},lineStart:function lineStart(){this._point=0},lineEnd:function lineEnd(){(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function point(n,r){switch(n=+n,r=+r,this._point){case 0:this._point=1,this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 1:this._point=2;default:this._context.lineTo(n,r)}}};var curve_linear=function(n){return new Linear(n)};function point_x(n){return n[0]}function point_y(n){return n[1]}var src_line=function(){var n=point_x,r=point_y,a=d3_shape_src_constant(!0),u=null,s=curve_linear,l=null;function line(h){var d,m,v,y=h.length,w=!1;for(null==u&&(l=s(v=xe())),d=0;d<=y;++d)!(d<y&&a(m=h[d],d,h))===w&&((w=!w)?l.lineStart():l.lineEnd()),w&&l.point(+n(m,d,h),+r(m,d,h));if(v)return l=null,v+""||null}return line.x=function(r){return arguments.length?(n="function"==typeof r?r:d3_shape_src_constant(+r),line):n},line.y=function(n){return arguments.length?(r="function"==typeof n?n:d3_shape_src_constant(+n),line):r},line.defined=function(n){return arguments.length?(a="function"==typeof n?n:d3_shape_src_constant(!!n),line):a},line.curve=function(n){return arguments.length?(s=n,null!=u&&(l=s(u)),line):s},line.context=function(n){return arguments.length?(null==n?u=l=null:l=s(u=n),line):u},line};function monotone_sign(n){return n<0?-1:1}function slope3(n,r,a){var u=n._x1-n._x0,s=r-n._x1,l=(n._y1-n._y0)/(u||s<0&&-0),h=(a-n._y1)/(s||u<0&&-0),d=(l*s+h*u)/(u+s);return(monotone_sign(l)+monotone_sign(h))*Math.min(Math.abs(l),Math.abs(h),.5*Math.abs(d))||0}function slope2(n,r){var a=n._x1-n._x0;return a?(3*(n._y1-n._y0)/a-r)/2:r}function _point(n,r,a){var u=n._x0,s=n._y0,l=n._x1,h=n._y1,d=(l-u)/3;n._context.bezierCurveTo(u+d,s+d*r,l-d,h-d*a,l,h)}function MonotoneX(n){this._context=n}function MonotoneY(n){this._context=new ReflectContext(n)}function ReflectContext(n){this._context=n}function monotoneX(n){return new MonotoneX(n)}MonotoneX.prototype={areaStart:function areaStart(){this._line=0},areaEnd:function areaEnd(){this._line=NaN},lineStart:function lineStart(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function lineEnd(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:_point(this,this._t0,slope2(this,this._t0))}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function point(n,r){var a=NaN;if(r=+r,(n=+n)!==this._x1||r!==this._y1){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 1:this._point=2;break;case 2:this._point=3,_point(this,slope2(this,a=slope3(this,n,r)),a);break;default:_point(this,this._t0,a=slope3(this,n,r))}this._x0=this._x1,this._x1=n,this._y0=this._y1,this._y1=r,this._t0=a}}},(MonotoneY.prototype=Object.create(MonotoneX.prototype)).point=function(n,r){MonotoneX.prototype.point.call(this,r,n)},ReflectContext.prototype={moveTo:function moveTo(n,r){this._context.moveTo(r,n)},closePath:function closePath(){this._context.closePath()},lineTo:function lineTo(n,r){this._context.lineTo(r,n)},bezierCurveTo:function bezierCurveTo(n,r,a,u,s,l){this._context.bezierCurveTo(r,n,u,a,l,s)}}},268:function(n,r,a){"use strict";var u=function(){function TrackArticleMetrics(n,r,a){this.container=n,this.selector=r,this.data=a,this.eventType="",this.widgetName="",this.doi="",this.timeHorizon="",this.metricId="",this.shareTarget=""}return TrackArticleMetrics.prototype.init=function(n,r,a,u,s){"toolbar-metrics"===this.selector?this.toolbarCaptureEvents(n,r,a):"numeric-metrics"===this.selector?this.numericCaptureEvents(n,r,a,u,s):"sidebar-metric"===this.selector&&this.sidebarCaptureEvents(n,r,a,u)},TrackArticleMetrics.prototype.toolbarCaptureEvents=function(n,r,a){this.widgetName="toolbar",this.doi=a||this.data.doi,this.metricId=r;this.defineEventType({close:"EVENT_TOOLBAR_PANEL_CLOSE",open:"EVENT_TOOLBAR_PANEL_OPEN","full-page":"EVENT_TOOLBAR_GOTO_FULL_PAGE"},n)},TrackArticleMetrics.prototype.numericCaptureEvents=function(n,r,a,u,s){this.widgetName="full page",this.doi=a||this.data.doi,this.metricId=r;this.setTimeHorizon(u),this.setShareTarget(s),this.defineEventType({select:"EVENT_NUMERIC_SELECT",deselect:"EVENT_NUMERIC_DESELECT","point-hover":"EVENT_NUMERIC_DATA_POINT_HOVER","chart-time":"EVENT_NUMERIC_CHANGE_CHART_TIME_HORIZON",download:"EVENT_NUMERIC_CLICK_ON_DOWNLOAD",share:"EVENT_NUMERIC_CLICK_ON_SHARE"},n)},TrackArticleMetrics.prototype.sidebarCaptureEvents=function(n,r,a,u){this.widgetName="sidebar",this.doi=a||this.data.doi,this.metricId=r;this.setTimeHorizon(u),this.defineEventType({select:"EVENT_SIDEBAR_SELECT",deselect:"EVENT_SIDEBAR_DESELECT","point-hover":"EVENT_SIDEBAR_DATA_POINT_HOVER","chart-time":"EVENT_SIDEBAR_CHANGE_CHART_TIME_HORIZON","full-page":"EVENT_SIDEBAR_GOTO_FULL_PAGE"},n)},TrackArticleMetrics.prototype.setShareTarget=function(n){this.shareTarget="",n&&(this.shareTarget="&shareTarget="+{facebook:"SHARE_TARGET_FACEBOOK",twitter:"SHARE_TARGET_TWITTER",linkedin:"SHARE_TARGET_LINKEDIN"}[n])},TrackArticleMetrics.prototype.setTimeHorizon=function(n){this.timeHorizon="",n&&(this.timeHorizon="&timeHorizon="+{total:"TIME_HORIZON_ALL",last6:"TIME_HORIZON_SIX_MONTHS",last12:"TIME_HORIZON_TWELVE_MONTHS",firstNDays:"TIME_HORIZON_FIRST_30_DAYS"}[n])},TrackArticleMetrics.prototype.defineEventType=function(n,r){this.eventType=n[r],this.sendEvents()},TrackArticleMetrics.prototype.sendEvents=function(){var n="/action/metricsAnalytics?eventType="+this.eventType+"&widgetName="+this.widgetName+"&doi="+this.doi+"&metricId="+this.metricId+this.timeHorizon+this.shareTarget,r=new XMLHttpRequest;r.onload=function(n){4===r.readyState&&200===r.status&&r.responseText},r.open("POST",n,!0),r.setRequestHeader("Content-type","application/x-www-form-urlencoded"),r.send()},TrackArticleMetrics}();r.a=u},269:function(n,r,a){"use strict";var u,s=a(12),l=(u=function(n,r){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(n[a]=r[a])})(n,r)},function(n,r){if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function __(){this.constructor=n}u(n,r),n.prototype=null===r?Object.create(r):(__.prototype=r.prototype,new __)}),__assign=function(){return(__assign=Object.assign||function(n){for(var r,a=1,u=arguments.length;a<u;a++)for(var s in r=arguments[a])Object.prototype.hasOwnProperty.call(r,s)&&(n[s]=r[s]);return n}).apply(this,arguments)},__decorate=function(n,r,a,u){var s,l=arguments.length,h=l<3?r:null===u?u=Object.getOwnPropertyDescriptor(r,a):u;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)h=Reflect.decorate(n,r,a,u);else for(var d=n.length-1;d>=0;d--)(s=n[d])&&(h=(l<3?s(h):l>3?s(r,a,h):s(r,a))||h);return l>3&&h&&Object.defineProperty(r,a,h),h},__metadata=function(n,r){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(n,r)},__awaiter=function(n,r,a,u){return new(a||(a=Promise))((function(s,l){function fulfilled(n){try{step(u.next(n))}catch(n){l(n)}}function rejected(n){try{step(u.throw(n))}catch(n){l(n)}}function step(n){n.done?s(n.value):function adopt(n){return n instanceof a?n:new a((function(r){r(n)}))}(n.value).then(fulfilled,rejected)}step((u=u.apply(n,r||[])).next())}))},__generator=function(n,r){var a,u,s,l,h={label:0,sent:function(){if(1&s[0])throw s[1];return s[1]},trys:[],ops:[]};return l={next:verb(0),throw:verb(1),return:verb(2)},"function"==typeof Symbol&&(l[Symbol.iterator]=function(){return this}),l;function verb(l){return function(d){return function step(l){if(a)throw new TypeError("Generator is already executing.");for(;h;)try{if(a=1,u&&(s=2&l[0]?u.return:l[0]?u.throw||((s=u.return)&&s.call(u),0):u.next)&&!(s=s.call(u,l[1])).done)return s;switch(u=0,s&&(l=[2&l[0],s.value]),l[0]){case 0:case 1:s=l;break;case 4:return h.label++,{value:l[1],done:!1};case 5:h.label++,u=l[1],l=[0];continue;case 7:l=h.ops.pop(),h.trys.pop();continue;default:if(!(s=h.trys,(s=s.length>0&&s[s.length-1])||6!==l[0]&&2!==l[0])){h=0;continue}if(3===l[0]&&(!s||l[1]>s[0]&&l[1]<s[3])){h.label=l[1];break}if(6===l[0]&&h.label<s[1]){h.label=s[1],s=l;break}if(s&&h.label<s[2]){h.label=s[2],h.ops.push(l);break}s[2]&&h.ops.pop(),h.trys.pop();continue}l=r.call(n,h)}catch(n){l=[6,n],u=0}finally{a=s=0}if(5&l[0])throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}([l,d])}}},h=function(n){function Texts(){return null!==n&&n.apply(this,arguments)||this}return l(Texts,n),Texts}(s.e),d=function(n){function ClassList(){return null!==n&&n.apply(this,arguments)||this}return l(ClassList,n),ClassList}(s.e),m=function(n){function Selectors(){return null!==n&&n.apply(this,arguments)||this}return l(Selectors,n),Selectors}(s.g),v=function(n){function Elements(){return null!==n&&n.apply(this,arguments)||this}return l(Elements,n),Elements}(s.c),y=function(){function MetricService(n,r,a,u,s){this.jadeTemplate=n,this.widgetClass=r,this.wrapper=a,this.index=u,this.dataFieldSelector=s,this.translationLabel="articleMetrics"}return MetricService.prototype.initialize=function(){return __awaiter(this,void 0,void 0,(function(){return __generator(this,(function(n){return this.setClassList(),this.setSelectors(),this.elements.initialize(this.wrapper),this.control(),[2]}))}))},MetricService.prototype.setClassList=function(){},MetricService.prototype.setSelectors=function(){this.selectors.dataField=this.dataFieldSelector},MetricService.prototype.renderMetricTemplate=function(n,r,a){void 0===a&&(a=!1);var u=__assign(__assign({},n),{translations:UX.i18n.localizedObject(this.translationLabel)});a?null==r||r.insertAdjacentHTML("afterbegin",this.jadeTemplate(u)):null==r||r.insertAdjacentHTML("afterend",this.jadeTemplate(u)),this.initializeSidebarMetrics(n)},MetricService.prototype.initializeSidebarMetrics=function(n,r){this.widgetClass.init(n)},MetricService.prototype.control=function(){return __awaiter(this,void 0,void 0,(function(){var n;return __generator(this,(function(r){switch(r.label){case 0:return this.wrapper.dataset.index=this.index.toString(),this.elements.dataField?(this.renderMetricTemplate(this.dataSource(),this.elements.dataField),[3,3]):[3,1];case 1:return this.wrapper.classList.contains("data-source")?[4,this.ajaxDataSource()]:[3,3];case 2:n=r.sent(),this.renderMetricTemplate(n,this.wrapper,!0),r.label=3;case 3:return[2]}}))}))},MetricService.prototype.addEventListeners=function(){},MetricService.prototype.dataSource=function(){return JSON.parse(this.elements.dataField.value||"{}")},MetricService.prototype.ajaxDataSource=function(){return __awaiter(this,void 0,void 0,(function(){var n,r;return __generator(this,(function(a){switch(a.label){case 0:n=this.wrapper.dataset.source||"",a.label=1;case 1:return a.trys.push([1,3,,4]),[4,fetch(n)];case 2:return[2,a.sent().json()];case 3:return r=a.sent(),console.error("Failed to fetch data:",r),[2,{}];case 4:return[2]}}))}))},MetricService=__decorate([Object(s.d)(m,v,d,h),__metadata("design:paramtypes",[Object,Object,HTMLElement,Number,s.f])],MetricService)}();r.a=y},291:function(n,r,a){"use strict";a.d(r,"b",(function(){return counter})),a.d(r,"a",(function(){return ajax}));var u=a(266),__assign=function(){return(__assign=Object.assign||function(n){for(var r,a=1,u=arguments.length;a<u;a++)for(var s in r=arguments[a])Object.prototype.hasOwnProperty.call(r,s)&&(n[s]=r[s]);return n}).apply(this,arguments)},s=function(){function t(n,r,a){var u=this;this.target=n,this.endVal=r,this.options=a,this.version="2.0.8",this.defaults={startVal:0,decimalPlaces:0,duration:2,useEasing:!0,useGrouping:!0,smartEasingThreshold:999,smartEasingAmount:333,separator:",",decimal:".",prefix:"",suffix:""},this.finalEndVal=null,this.useEasing=!0,this.countDown=!1,this.error="",this.startVal=0,this.paused=!0,this.count=function(n){u.startTime||(u.startTime=n);var r=n-u.startTime;u.remaining=u.duration-r,u.useEasing?u.countDown?u.frameVal=u.startVal-u.easingFn(r,0,u.startVal-u.endVal,u.duration):u.frameVal=u.easingFn(r,u.startVal,u.endVal-u.startVal,u.duration):u.countDown?u.frameVal=u.startVal-(u.startVal-u.endVal)*(r/u.duration):u.frameVal=u.startVal+(u.endVal-u.startVal)*(r/u.duration),u.countDown?u.frameVal=u.frameVal<u.endVal?u.endVal:u.frameVal:u.frameVal=u.frameVal>u.endVal?u.endVal:u.frameVal,u.frameVal=Number(u.frameVal.toFixed(u.options.decimalPlaces)),u.printValue(u.frameVal),r<u.duration?u.rAF=requestAnimationFrame(u.count):null!==u.finalEndVal?u.update(u.finalEndVal):u.callback&&u.callback()},this.formatNumber=function(n){var r,a,s,l,h=n<0?"-":"";r=Math.abs(n).toFixed(u.options.decimalPlaces);var d=(r+="").split(".");if(a=d[0],s=d.length>1?u.options.decimal+d[1]:"",u.options.useGrouping){l="";for(var m=0,v=a.length;m<v;++m)0!==m&&m%3==0&&(l=u.options.separator+l),l=a[v-m-1]+l;a=l}return u.options.numerals&&u.options.numerals.length&&(a=a.replace(/[0-9]/g,(function(n){return u.options.numerals[+n]})),s=s.replace(/[0-9]/g,(function(n){return u.options.numerals[+n]}))),h+u.options.prefix+a+s+u.options.suffix},this.easeOutExpo=function(n,r,a,u){return a*(1-Math.pow(2,-10*n/u))*1024/1023+r},this.options=__assign(__assign({},this.defaults),a),this.formattingFn=this.options.formattingFn?this.options.formattingFn:this.formatNumber,this.easingFn=this.options.easingFn?this.options.easingFn:this.easeOutExpo,this.startVal=this.validateValue(this.options.startVal),this.frameVal=this.startVal,this.endVal=this.validateValue(r),this.options.decimalPlaces=Math.max(this.options.decimalPlaces),this.resetDuration(),this.options.separator=String(this.options.separator),this.useEasing=this.options.useEasing,""===this.options.separator&&(this.options.useGrouping=!1),this.el="string"==typeof n?document.getElementById(n):n,this.el?this.printValue(this.startVal):this.error="[CountUp] target is null or undefined"}return t.prototype.determineDirectionAndSmartEasing=function(){var n=this.finalEndVal?this.finalEndVal:this.endVal;this.countDown=this.startVal>n;var r=n-this.startVal;if(Math.abs(r)>this.options.smartEasingThreshold){this.finalEndVal=n;var a=this.countDown?1:-1;this.endVal=n+a*this.options.smartEasingAmount,this.duration=this.duration/2}else this.endVal=n,this.finalEndVal=null;this.finalEndVal?this.useEasing=!1:this.useEasing=this.options.useEasing},t.prototype.start=function(n){this.error||(this.callback=n,this.duration>0?(this.determineDirectionAndSmartEasing(),this.paused=!1,this.rAF=requestAnimationFrame(this.count)):this.printValue(this.endVal))},t.prototype.pauseResume=function(){this.paused?(this.startTime=null,this.duration=this.remaining,this.startVal=this.frameVal,this.determineDirectionAndSmartEasing(),this.rAF=requestAnimationFrame(this.count)):cancelAnimationFrame(this.rAF),this.paused=!this.paused},t.prototype.reset=function(){cancelAnimationFrame(this.rAF),this.paused=!0,this.resetDuration(),this.startVal=this.validateValue(this.options.startVal),this.frameVal=this.startVal,this.printValue(this.startVal)},t.prototype.update=function(n){cancelAnimationFrame(this.rAF),this.startTime=null,this.endVal=this.validateValue(n),this.endVal!==this.frameVal&&(this.startVal=this.frameVal,this.finalEndVal||this.resetDuration(),this.finalEndVal=null,this.determineDirectionAndSmartEasing(),this.rAF=requestAnimationFrame(this.count))},t.prototype.printValue=function(n){var r=this.formattingFn(n);"INPUT"===this.el.tagName?this.el.value=r:"text"===this.el.tagName||"tspan"===this.el.tagName?this.el.textContent=r:this.el.innerHTML=r},t.prototype.ensureNumber=function(n){return"number"==typeof n&&!isNaN(n)},t.prototype.validateValue=function(n){var r=Number(n);return this.ensureNumber(r)?r:(this.error="[CountUp] invalid start or end value: "+n,null)},t.prototype.resetDuration=function(){this.startTime=null,this.duration=1e3*Number(this.options.duration),this.remaining=this.duration},t}();function counter(n,r,a){var l=Number(n.dataset.count);new s(n,l,{useEasing:!0,useGrouping:!0,decimalPlaces:a||0,decimal:".",formattingFn:function(n){return r||""===r?Object(u.f)(r)(n):n.toLocaleString(navigator.language)}}).start()}function ajax(n,r,a){var u=new XMLHttpRequest;u.onload=function(n){if(4===u.readyState&&200===u.status){var r=void 0;try{r=JSON.parse(u.responseText).rows}catch(n){return}a(r)}},u.open("POST",n),u.setRequestHeader("Content-type","application/json;charset=UTF-8"),u.send(JSON.stringify(r))}},391:function(n,r,a){"use strict";r.a=function(n){return function(){return n}}},392:function(n,r,a){"use strict";function extend(n,r){var a=Object.create(n.prototype);for(var u in r)a[u]=r[u];return a}a.d(r,"b",(function(){return extend})),r.a=function(n,r,a){n.prototype=r.prototype=a,a.constructor=n}},393:function(n,r,a){"use strict";a.d(r,"c",(function(){return hue})),a.d(r,"b",(function(){return gamma})),a.d(r,"a",(function(){return nogamma}));var u=a(391);function linear(n,r){return function(a){return n+a*r}}function hue(n,r){var a=r-n;return a?linear(n,a>180||a<-180?a-360*Math.round(a/360):a):Object(u.a)(isNaN(n)?r:n)}function gamma(n){return 1==(n=+n)?nogamma:function(r,a){return a-r?function exponential(n,r,a){return n=Math.pow(n,a),r=Math.pow(r,a)-n,a=1/a,function(u){return Math.pow(n+u*r,a)}}(r,a,n):Object(u.a)(isNaN(r)?a:r)}}function nogamma(n,r){var a=r-n;return a?linear(n,a):Object(u.a)(isNaN(n)?r:n)}},482:function(n,r,a){"use strict";a.d(r,"a",(function(){return Color})),a.d(r,"d",(function(){return s})),a.d(r,"c",(function(){return l})),a.d(r,"e",(function(){return color})),a.d(r,"g",(function(){return rgbConvert})),a.d(r,"f",(function(){return rgb})),a.d(r,"b",(function(){return Rgb}));var u=a(392);function Color(){}var s=.7,l=1/s,h="\\s*([+-]?\\d+)\\s*",d="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*",m="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*",v=/^#([0-9a-f]{3,8})$/,y=new RegExp("^rgb\\("+[h,h,h]+"\\)$"),w=new RegExp("^rgb\\("+[m,m,m]+"\\)$"),M=new RegExp("^rgba\\("+[h,h,h,d]+"\\)$"),T=new RegExp("^rgba\\("+[m,m,m,d]+"\\)$"),S=new RegExp("^hsl\\("+[d,m,m]+"\\)$"),E=new RegExp("^hsla\\("+[d,m,m,d]+"\\)$"),C={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function color_formatHex(){return this.rgb().formatHex()}function color_formatRgb(){return this.rgb().formatRgb()}function color(n){var r,a;return n=(n+"").trim().toLowerCase(),(r=v.exec(n))?(a=r[1].length,r=parseInt(r[1],16),6===a?rgbn(r):3===a?new Rgb(r>>8&15|r>>4&240,r>>4&15|240&r,(15&r)<<4|15&r,1):8===a?rgba(r>>24&255,r>>16&255,r>>8&255,(255&r)/255):4===a?rgba(r>>12&15|r>>8&240,r>>8&15|r>>4&240,r>>4&15|240&r,((15&r)<<4|15&r)/255):null):(r=y.exec(n))?new Rgb(r[1],r[2],r[3],1):(r=w.exec(n))?new Rgb(255*r[1]/100,255*r[2]/100,255*r[3]/100,1):(r=M.exec(n))?rgba(r[1],r[2],r[3],r[4]):(r=T.exec(n))?rgba(255*r[1]/100,255*r[2]/100,255*r[3]/100,r[4]):(r=S.exec(n))?hsla(r[1],r[2]/100,r[3]/100,1):(r=E.exec(n))?hsla(r[1],r[2]/100,r[3]/100,r[4]):C.hasOwnProperty(n)?rgbn(C[n]):"transparent"===n?new Rgb(NaN,NaN,NaN,0):null}function rgbn(n){return new Rgb(n>>16&255,n>>8&255,255&n,1)}function rgba(n,r,a,u){return u<=0&&(n=r=a=NaN),new Rgb(n,r,a,u)}function rgbConvert(n){return n instanceof Color||(n=color(n)),n?new Rgb((n=n.rgb()).r,n.g,n.b,n.opacity):new Rgb}function rgb(n,r,a,u){return 1===arguments.length?rgbConvert(n):new Rgb(n,r,a,null==u?1:u)}function Rgb(n,r,a,u){this.r=+n,this.g=+r,this.b=+a,this.opacity=+u}function rgb_formatHex(){return"#"+hex(this.r)+hex(this.g)+hex(this.b)}function rgb_formatRgb(){var n=this.opacity;return(1===(n=isNaN(n)?1:Math.max(0,Math.min(1,n)))?"rgb(":"rgba(")+Math.max(0,Math.min(255,Math.round(this.r)||0))+", "+Math.max(0,Math.min(255,Math.round(this.g)||0))+", "+Math.max(0,Math.min(255,Math.round(this.b)||0))+(1===n?")":", "+n+")")}function hex(n){return((n=Math.max(0,Math.min(255,Math.round(n)||0)))<16?"0":"")+n.toString(16)}function hsla(n,r,a,u){return u<=0?n=r=a=NaN:a<=0||a>=1?n=r=NaN:r<=0&&(n=NaN),new Hsl(n,r,a,u)}function hslConvert(n){if(n instanceof Hsl)return new Hsl(n.h,n.s,n.l,n.opacity);if(n instanceof Color||(n=color(n)),!n)return new Hsl;if(n instanceof Hsl)return n;var r=(n=n.rgb()).r/255,a=n.g/255,u=n.b/255,s=Math.min(r,a,u),l=Math.max(r,a,u),h=NaN,d=l-s,m=(l+s)/2;return d?(h=r===l?(a-u)/d+6*(a<u):a===l?(u-r)/d+2:(r-a)/d+4,d/=m<.5?l+s:2-l-s,h*=60):d=m>0&&m<1?0:h,new Hsl(h,d,m,n.opacity)}function Hsl(n,r,a,u){this.h=+n,this.s=+r,this.l=+a,this.opacity=+u}function hsl2rgb(n,r,a){return 255*(n<60?r+(a-r)*n/60:n<180?a:n<240?r+(a-r)*(240-n)/60:r)}Object(u.a)(Color,color,{copy:function copy(n){return Object.assign(new this.constructor,this,n)},displayable:function displayable(){return this.rgb().displayable()},hex:color_formatHex,formatHex:color_formatHex,formatHsl:function color_formatHsl(){return hslConvert(this).formatHsl()},formatRgb:color_formatRgb,toString:color_formatRgb}),Object(u.a)(Rgb,rgb,Object(u.b)(Color,{brighter:function brighter(n){return n=null==n?l:Math.pow(l,n),new Rgb(this.r*n,this.g*n,this.b*n,this.opacity)},darker:function darker(n){return n=null==n?s:Math.pow(s,n),new Rgb(this.r*n,this.g*n,this.b*n,this.opacity)},rgb:function rgb(){return this},displayable:function displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:rgb_formatHex,formatHex:rgb_formatHex,formatRgb:rgb_formatRgb,toString:rgb_formatRgb})),Object(u.a)(Hsl,(function hsl(n,r,a,u){return 1===arguments.length?hslConvert(n):new Hsl(n,r,a,null==u?1:u)}),Object(u.b)(Color,{brighter:function brighter(n){return n=null==n?l:Math.pow(l,n),new Hsl(this.h,this.s,this.l*n,this.opacity)},darker:function darker(n){return n=null==n?s:Math.pow(s,n),new Hsl(this.h,this.s,this.l*n,this.opacity)},rgb:function rgb(){var n=this.h%360+360*(this.h<0),r=isNaN(n)||isNaN(this.s)?0:this.s,a=this.l,u=a+(a<.5?a:1-a)*r,s=2*a-u;return new Rgb(hsl2rgb(n>=240?n-240:n+120,s,u),hsl2rgb(n,s,u),hsl2rgb(n<120?n+240:n-120,s,u),this.opacity)},displayable:function displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl:function formatHsl(){var n=this.opacity;return(1===(n=isNaN(n)?1:Math.max(0,Math.min(1,n)))?"hsl(":"hsla(")+(this.h||0)+", "+100*(this.s||0)+"%, "+100*(this.l||0)+"%"+(1===n?")":", "+n+")")}}))},812:function(n,r,a){"use strict";a.d(r,"b",(function(){return l}));var u=a(482);function basis(n,r,a,u,s){var l=n*n,h=l*n;return((1-3*n+3*l-h)*r+(4-6*l+3*h)*a+(1+3*n+3*l-3*h)*u+h*s)/6}var s=a(393);r.a=function rgbGamma(n){var r=Object(s.b)(n);function rgb(n,a){var l=r((n=Object(u.f)(n)).r,(a=Object(u.f)(a)).r),h=r(n.g,a.g),d=r(n.b,a.b),m=Object(s.a)(n.opacity,a.opacity);return function(r){return n.r=l(r),n.g=h(r),n.b=d(r),n.opacity=m(r),n+""}}return rgb.gamma=rgbGamma,rgb}(1);function rgbSpline(n){return function(r){var a,s,l=r.length,h=new Array(l),d=new Array(l),m=new Array(l);for(a=0;a<l;++a)s=Object(u.f)(r[a]),h[a]=s.r||0,d[a]=s.g||0,m[a]=s.b||0;return h=n(h),d=n(d),m=n(m),s.opacity=1,function(n){return s.r=h(n),s.g=d(n),s.b=m(n),s+""}}}var l=rgbSpline((function(n){var r=n.length-1;return function(a){var u=a<=0?a=0:a>=1?(a=1,r-1):Math.floor(a*r),s=n[u],l=n[u+1],h=u>0?n[u-1]:2*s-l,d=u<r-1?n[u+2]:2*l-s;return basis((a-u/r)*r,h,s,l,d)}}));rgbSpline((function(n){var r=n.length;return function(a){var u=Math.floor(((a%=1)<0?++a:a)*r),s=n[(u+r-1)%r],l=n[u%r],h=n[(u+1)%r],d=n[(u+2)%r];return basis((a-u/r)*r,s,l,h,d)}}))}}]);
//# sourceMappingURL=0-e25ca7b135b3c8ab6926.js.map