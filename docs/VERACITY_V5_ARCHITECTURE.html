<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Veracity v5.0 ‚Äî System Architecture Schematic</title>
    <link href="https://fonts.googleapis.com/css2?family=IBM+Plex+Sans:wght@400;500;600;700&family=IBM+Plex+Mono:wght@400;500&display=swap" rel="stylesheet">
    <style>
        :root {
            --bg-primary: #0a0f1a;
            --bg-secondary: #111827;
            --bg-card: #1a2332;
            --text-primary: #e2e8f0;
            --text-secondary: #94a3b8;
            --text-muted: #64748b;
            
            /* Module colors */
            --mod-classifier: #c89146;
            --mod-factoids: #148c73;
            --mod-microdiscovery: #735fa5;
            --mod-contextual: #5573af;
            --mod-animations: #aa5f87;
            --mod-export: #737d87;
            
            /* Track colors */
            --track-a: #c89146;
            --track-b: #735fa5;
            --track-c: #4b91a5;
            --track-working: #148c73;
        }

        * { margin: 0; padding: 0; box-sizing: border-box; }

        body {
            font-family: 'IBM Plex Sans', sans-serif;
            background: var(--bg-primary);
            color: var(--text-primary);
            min-height: 100vh;
            padding: 20px;
        }

        .header {
            text-align: center;
            margin-bottom: 30px;
            padding-bottom: 20px;
            border-bottom: 1px solid #334155;
        }

        .header h1 {
            font-size: 28px;
            font-weight: 600;
            margin-bottom: 8px;
            letter-spacing: 2px;
        }

        .header .subtitle {
            color: var(--text-secondary);
            font-size: 14px;
        }

        .header .version {
            font-family: 'IBM Plex Mono', monospace;
            color: var(--mod-classifier);
            font-size: 12px;
            margin-top: 8px;
        }

        .warning-banner {
            background: linear-gradient(90deg, rgba(239, 68, 68, 0.2), rgba(239, 68, 68, 0.1));
            border: 1px solid rgba(239, 68, 68, 0.4);
            border-radius: 8px;
            padding: 15px 20px;
            margin-bottom: 30px;
            text-align: center;
        }

        .warning-banner h3 {
            color: #ef4444;
            font-size: 14px;
            letter-spacing: 2px;
            margin-bottom: 8px;
        }

        .warning-banner p {
            color: var(--text-secondary);
            font-size: 13px;
            line-height: 1.6;
        }

        .schematic-container {
            display: grid;
            grid-template-columns: 280px 1fr 280px;
            gap: 20px;
            margin-bottom: 40px;
        }

        .column {
            display: flex;
            flex-direction: column;
            gap: 15px;
        }

        .column-header {
            font-size: 12px;
            font-weight: 600;
            letter-spacing: 2px;
            color: var(--text-muted);
            text-align: center;
            padding-bottom: 10px;
            border-bottom: 1px solid #334155;
        }

        .component-card {
            background: var(--bg-card);
            border-radius: 8px;
            padding: 15px;
            border: 1px solid #334155;
            transition: all 0.2s;
        }

        .component-card:hover {
            border-color: #475569;
            transform: translateY(-2px);
        }

        .component-card.ui-element {
            border-left: 3px solid var(--mod-animations);
        }

        .component-card.module {
            border-left: 3px solid var(--mod-classifier);
        }

        .component-card.data {
            border-left: 3px solid var(--mod-factoids);
        }

        .card-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 10px;
        }

        .card-title {
            font-weight: 600;
            font-size: 14px;
        }

        .card-id {
            font-family: 'IBM Plex Mono', monospace;
            font-size: 10px;
            color: var(--text-muted);
            background: var(--bg-secondary);
            padding: 2px 6px;
            border-radius: 4px;
        }

        .card-description {
            font-size: 12px;
            color: var(--text-secondary);
            margin-bottom: 12px;
            line-height: 1.5;
        }

        .dependencies {
            font-size: 11px;
            margin-bottom: 8px;
        }

        .dep-label {
            color: var(--text-muted);
            font-weight: 500;
        }

        .dep-list {
            color: var(--mod-classifier);
            font-family: 'IBM Plex Mono', monospace;
        }

        .affects {
            font-size: 11px;
        }

        .affects-label {
            color: var(--text-muted);
            font-weight: 500;
        }

        .affects-list {
            color: #ef4444;
            font-family: 'IBM Plex Mono', monospace;
        }

        .module-legend {
            display: flex;
            flex-wrap: wrap;
            gap: 15px;
            justify-content: center;
            margin-bottom: 30px;
            padding: 15px;
            background: var(--bg-secondary);
            border-radius: 8px;
        }

        .legend-item {
            display: flex;
            align-items: center;
            gap: 8px;
            font-size: 12px;
        }

        .legend-color {
            width: 12px;
            height: 12px;
            border-radius: 3px;
        }

        /* Flow diagram section */
        .flow-section {
            margin-top: 40px;
        }

        .flow-section h2 {
            font-size: 18px;
            font-weight: 600;
            letter-spacing: 2px;
            margin-bottom: 20px;
            text-align: center;
            color: var(--text-secondary);
        }

        .flow-diagram {
            background: var(--bg-secondary);
            border-radius: 12px;
            padding: 30px;
            overflow-x: auto;
        }

        .flow-row {
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 20px;
            margin-bottom: 20px;
        }

        .flow-box {
            background: var(--bg-card);
            border: 2px solid #475569;
            border-radius: 8px;
            padding: 12px 20px;
            font-size: 13px;
            font-weight: 500;
            text-align: center;
            min-width: 140px;
        }

        .flow-box.input { border-color: var(--mod-classifier); color: var(--mod-classifier); }
        .flow-box.process { border-color: var(--mod-contextual); color: var(--mod-contextual); }
        .flow-box.output { border-color: var(--mod-factoids); color: var(--mod-factoids); }
        .flow-box.decision { border-color: var(--mod-microdiscovery); color: var(--mod-microdiscovery); border-radius: 0; transform: rotate(0deg); }
        .flow-box.track-a { border-color: var(--track-a); color: var(--track-a); }
        .flow-box.track-b { border-color: var(--track-b); color: var(--track-b); }
        .flow-box.track-c { border-color: var(--track-c); color: var(--track-c); }

        .flow-arrow {
            color: var(--text-muted);
            font-size: 20px;
        }

        .flow-arrow.down {
            transform: rotate(90deg);
        }

        /* Button inventory table */
        .inventory-section {
            margin-top: 40px;
        }

        .inventory-section h2 {
            font-size: 18px;
            font-weight: 600;
            letter-spacing: 2px;
            margin-bottom: 20px;
            text-align: center;
            color: var(--text-secondary);
        }

        .inventory-table {
            width: 100%;
            border-collapse: collapse;
            font-size: 13px;
        }

        .inventory-table th {
            background: var(--bg-secondary);
            padding: 12px 15px;
            text-align: left;
            font-weight: 600;
            font-size: 11px;
            letter-spacing: 1px;
            color: var(--text-muted);
            border-bottom: 2px solid #334155;
        }

        .inventory-table td {
            padding: 12px 15px;
            border-bottom: 1px solid #1e293b;
            vertical-align: top;
        }

        .inventory-table tr:hover {
            background: rgba(255,255,255,0.02);
        }

        .btn-id {
            font-family: 'IBM Plex Mono', monospace;
            font-size: 11px;
            color: var(--mod-classifier);
        }

        .state-idle { color: var(--text-muted); }
        .state-active { color: var(--mod-factoids); }

        .module-tag {
            display: inline-block;
            font-family: 'IBM Plex Mono', monospace;
            font-size: 10px;
            padding: 2px 6px;
            border-radius: 4px;
            background: var(--bg-secondary);
            margin: 2px;
        }

        .module-tag.classifier { color: var(--mod-classifier); border: 1px solid var(--mod-classifier); }
        .module-tag.factoids { color: var(--mod-factoids); border: 1px solid var(--mod-factoids); }
        .module-tag.microdiscovery { color: var(--mod-microdiscovery); border: 1px solid var(--mod-microdiscovery); }
        .module-tag.contextual { color: var(--mod-contextual); border: 1px solid var(--mod-contextual); }
        .module-tag.animations { color: var(--mod-animations); border: 1px solid var(--mod-animations); }
        .module-tag.export { color: var(--mod-export); border: 1px solid var(--mod-export); }

        .impact-high { color: #ef4444; font-weight: 600; }
        .impact-medium { color: #f59e0b; }
        .impact-low { color: var(--text-muted); }

        /* Data structures section */
        .data-section {
            margin-top: 40px;
        }

        .data-section h2 {
            font-size: 18px;
            font-weight: 600;
            letter-spacing: 2px;
            margin-bottom: 20px;
            text-align: center;
            color: var(--text-secondary);
        }

        .data-structure {
            background: var(--bg-card);
            border-radius: 8px;
            padding: 20px;
            margin-bottom: 20px;
            border: 1px solid #334155;
        }

        .data-structure h3 {
            font-size: 14px;
            font-weight: 600;
            margin-bottom: 15px;
            color: var(--mod-factoids);
        }

        .code-block {
            background: var(--bg-primary);
            border-radius: 6px;
            padding: 15px;
            font-family: 'IBM Plex Mono', monospace;
            font-size: 12px;
            line-height: 1.6;
            overflow-x: auto;
            color: var(--text-secondary);
        }

        .code-comment { color: var(--text-muted); }
        .code-key { color: var(--mod-classifier); }
        .code-string { color: var(--mod-factoids); }
        .code-number { color: var(--mod-microdiscovery); }

        /* Footer */
        .footer {
            margin-top: 50px;
            padding-top: 20px;
            border-top: 1px solid #334155;
            text-align: center;
            color: var(--text-muted);
            font-size: 12px;
        }

        .footer .timestamp {
            font-family: 'IBM Plex Mono', monospace;
            margin-top: 8px;
        }
    </style>
</head>
<body>

    <div class="header">
        <h1>VERACITY v5.0 SYSTEM ARCHITECTURE</h1>
        <div class="subtitle">Clarity Companion ‚Äî Component Schematic & Dependency Map</div>
        <div class="version">DOCUMENT VERSION: 1.5.0 | SCHEMA: IMMUTABLE UNTIL CHANGE PROTOCOL EXECUTED</div>
    </div>

    <div class="warning-banner">
        <h3>‚ö†Ô∏è CONFIGURATION MANAGEMENT NOTICE</h3>
        <p>
            This document is the <strong>source of truth</strong> for all Veracity v5.0 components.<br>
            NO CODE CHANGES may be made without first consulting this schematic to understand full impact.<br>
            All modifications require: (1) Impact analysis, (2) Agreement on scope, (3) Surgical implementation, (4) Schema update.
        </p>
    </div>

    <div class="module-legend">
        <div class="legend-item">
            <div class="legend-color" style="background: var(--mod-classifier);"></div>
            <span>classifier.js</span>
        </div>
        <div class="legend-item">
            <div class="legend-color" style="background: var(--mod-factoids);"></div>
            <span>factoids.js</span>
        </div>
        <div class="legend-item">
            <div class="legend-color" style="background: var(--mod-microdiscovery);"></div>
            <span>microdiscovery.js</span>
        </div>
        <div class="legend-item">
            <div class="legend-color" style="background: var(--mod-contextual);"></div>
            <span>contextual.js</span>
        </div>
        <div class="legend-item">
            <div class="legend-color" style="background: var(--mod-animations);"></div>
            <span>animations.js</span>
        </div>
        <div class="legend-item">
            <div class="legend-color" style="background: var(--mod-export);"></div>
            <span>export.js</span>
        </div>
    </div>

    <!-- BUTTON INVENTORY TABLE -->
    <div class="inventory-section">
        <h2>COMPLETE BUTTON INVENTORY</h2>
        <table class="inventory-table">
            <thead>
                <tr>
                    <th>ELEMENT ID</th>
                    <th>LABEL</th>
                    <th>STATE: IDLE</th>
                    <th>STATE: ACTIVE (post-input)</th>
                    <th>MODULES INVOLVED</th>
                    <th>AFFECTS</th>
                    <th>IMPACT</th>
                </tr>
            </thead>
            <tbody>
                <!-- TRACK BUTTONS -->
                <tr>
                    <td><span class="btn-id">btnTrackA</span></td>
                    <td><strong>ASSESS</strong></td>
                    <td class="state-idle">Dim (50% opacity)</td>
                    <td class="state-active">Solid bright when Track A determined</td>
                    <td>
                        <span class="module-tag classifier">classifier</span>
                        <span class="module-tag animations">animations</span>
                    </td>
                    <td>resultsSection, statusBar</td>
                    <td class="impact-high">HIGH</td>
                </tr>
                <tr>
                    <td><span class="btn-id">btnTrackB</span></td>
                    <td><strong>INTERVIEW</strong></td>
                    <td class="state-idle">Dim (50% opacity)</td>
                    <td class="state-active">Solid bright when Track B determined</td>
                    <td>
                        <span class="module-tag classifier">classifier</span>
                        <span class="module-tag animations">animations</span>
                    </td>
                    <td>resultsSection, statusBar</td>
                    <td class="impact-high">HIGH</td>
                </tr>
                <tr>
                    <td><span class="btn-id">btnTrackC</span></td>
                    <td><strong>NAVIGATE</strong></td>
                    <td class="state-idle">Dim (50% opacity)</td>
                    <td class="state-active">Solid bright when Track C determined</td>
                    <td>
                        <span class="module-tag classifier">classifier</span>
                        <span class="module-tag animations">animations</span>
                    </td>
                    <td>resultsSection, statusBar</td>
                    <td class="impact-high">HIGH</td>
                </tr>
                <tr>
                    <td><span class="btn-id">btnWorking</span></td>
                    <td><strong>WORKING</strong></td>
                    <td class="state-idle">Dim (50% opacity)</td>
                    <td class="state-active">Slow pulse during processing, then off</td>
                    <td>
                        <span class="module-tag animations">animations</span>
                    </td>
                    <td>clockDisplay, statusBar</td>
                    <td class="impact-medium">MEDIUM</td>
                </tr>

                <!-- DISCIPLINE BUTTONS (LEFT COLUMN) -->
                <tr>
                    <td><span class="btn-id">btnHistory</span></td>
                    <td><strong>HISTORY</strong></td>
                    <td class="state-idle">Click ‚Üí Random historical factoid</td>
                    <td class="state-active">Salience glow + contextual relevance info</td>
                    <td>
                        <span class="module-tag factoids">factoids</span>
                        <span class="module-tag contextual">contextual</span>
                        <span class="module-tag classifier">classifier</span>
                    </td>
                    <td>factoidDisplay, numHistory, salience state</td>
                    <td class="impact-medium">MEDIUM</td>
                </tr>
                <tr>
                    <td><span class="btn-id">btnSciences</span></td>
                    <td><strong>SCIENCES</strong></td>
                    <td class="state-idle">Click ‚Üí Random science factoid</td>
                    <td class="state-active">Salience glow + contextual relevance info</td>
                    <td>
                        <span class="module-tag factoids">factoids</span>
                        <span class="module-tag contextual">contextual</span>
                        <span class="module-tag classifier">classifier</span>
                    </td>
                    <td>factoidDisplay, numSciences, salience state</td>
                    <td class="impact-medium">MEDIUM</td>
                </tr>
                <tr>
                    <td><span class="btn-id">btnPhilosophy</span></td>
                    <td><strong>PHILOSOPHY</strong></td>
                    <td class="state-idle">Click ‚Üí Random philosophy factoid</td>
                    <td class="state-active">Salience glow + contextual relevance info</td>
                    <td>
                        <span class="module-tag factoids">factoids</span>
                        <span class="module-tag contextual">contextual</span>
                        <span class="module-tag classifier">classifier</span>
                    </td>
                    <td>factoidDisplay, numPhilosophy, salience state</td>
                    <td class="impact-medium">MEDIUM</td>
                </tr>
                <tr>
                    <td><span class="btn-id">btnLogic</span></td>
                    <td><strong>LOGIC</strong></td>
                    <td class="state-idle">Click ‚Üí Random logic factoid</td>
                    <td class="state-active">Salience glow + contextual relevance info</td>
                    <td>
                        <span class="module-tag factoids">factoids</span>
                        <span class="module-tag contextual">contextual</span>
                        <span class="module-tag classifier">classifier</span>
                    </td>
                    <td>factoidDisplay, numLogic, salience state</td>
                    <td class="impact-medium">MEDIUM</td>
                </tr>
                <tr>
                    <td><span class="btn-id">btnRhetoric</span></td>
                    <td><strong>RHETORIC</strong></td>
                    <td class="state-idle">Click ‚Üí Random rhetoric factoid</td>
                    <td class="state-active">Salience glow + contextual relevance info</td>
                    <td>
                        <span class="module-tag factoids">factoids</span>
                        <span class="module-tag contextual">contextual</span>
                        <span class="module-tag classifier">classifier</span>
                    </td>
                    <td>factoidDisplay, numRhetoric, salience state</td>
                    <td class="impact-medium">MEDIUM</td>
                </tr>
                <tr>
                    <td><span class="btn-id">btnMedia</span></td>
                    <td><strong>MEDIA</strong></td>
                    <td class="state-idle">Click ‚Üí Random media literacy factoid</td>
                    <td class="state-active">Salience glow + contextual relevance info</td>
                    <td>
                        <span class="module-tag factoids">factoids</span>
                        <span class="module-tag contextual">contextual</span>
                        <span class="module-tag classifier">classifier</span>
                    </td>
                    <td>factoidDisplay, numMedia, salience state</td>
                    <td class="impact-medium">MEDIUM</td>
                </tr>
                <tr>
                    <td><span class="btn-id">btnPsychology</span></td>
                    <td><strong>PSYCHOLOGY</strong></td>
                    <td class="state-idle">Click ‚Üí Random psychology factoid</td>
                    <td class="state-active">Salience glow + contextual relevance info</td>
                    <td>
                        <span class="module-tag factoids">factoids</span>
                        <span class="module-tag contextual">contextual</span>
                        <span class="module-tag classifier">classifier</span>
                    </td>
                    <td>factoidDisplay, numPsychology, salience state</td>
                    <td class="impact-medium">MEDIUM</td>
                </tr>
                <tr>
                    <td><span class="btn-id">btnStatistics</span></td>
                    <td><strong>STATISTICS</strong></td>
                    <td class="state-idle">Click ‚Üí Random statistics factoid</td>
                    <td class="state-active">Salience glow + contextual relevance info</td>
                    <td>
                        <span class="module-tag factoids">factoids</span>
                        <span class="module-tag contextual">contextual</span>
                        <span class="module-tag classifier">classifier</span>
                    </td>
                    <td>factoidDisplay, numStatistics, salience state</td>
                    <td class="impact-medium">MEDIUM</td>
                </tr>
                <tr>
                    <td><span class="btn-id">btnSources</span></td>
                    <td><strong>SOURCES</strong></td>
                    <td class="state-idle">Click ‚Üí Random source evaluation factoid</td>
                    <td class="state-active">Salience glow + contextual relevance info</td>
                    <td>
                        <span class="module-tag factoids">factoids</span>
                        <span class="module-tag contextual">contextual</span>
                        <span class="module-tag classifier">classifier</span>
                    </td>
                    <td>factoidDisplay, numSources, salience state</td>
                    <td class="impact-medium">MEDIUM</td>
                </tr>
                <tr>
                    <td><span class="btn-id">btnExport</span></td>
                    <td><strong>EXPORT</strong></td>
                    <td class="state-idle">Number shows random (042 ‚Üí "Douglas Adams")</td>
                    <td class="state-active">Number counts up; pulses when transcript ready</td>
                    <td>
                        <span class="module-tag export">export</span>
                        <span class="module-tag animations">animations</span>
                    </td>
                    <td>numExport, exportModal, sessionState</td>
                    <td class="impact-high">HIGH</td>
                </tr>

                <!-- SUB-FUNCTION BUTTONS (RIGHT COLUMN) -->
                <tr>
                    <td><span class="btn-id">btnArchives</span></td>
                    <td><strong>ARCHIVES</strong></td>
                    <td class="state-idle">Decorative</td>
                    <td class="state-active">Links to historical research, primary sources</td>
                    <td>
                        <span class="module-tag contextual">contextual</span>
                    </td>
                    <td>resourcePanel</td>
                    <td class="impact-low">LOW</td>
                </tr>
                <tr>
                    <td><span class="btn-id">btnResearch</span></td>
                    <td><strong>RESEARCH</strong></td>
                    <td class="state-idle">Decorative</td>
                    <td class="state-active">Links to peer-reviewed studies, journals</td>
                    <td>
                        <span class="module-tag contextual">contextual</span>
                    </td>
                    <td>resourcePanel</td>
                    <td class="impact-low">LOW</td>
                </tr>
                <tr>
                    <td><span class="btn-id">btnEthics</span></td>
                    <td><strong>ETHICS</strong></td>
                    <td class="state-idle">Decorative</td>
                    <td class="state-active">Links to ethics frameworks</td>
                    <td>
                        <span class="module-tag contextual">contextual</span>
                    </td>
                    <td>resourcePanel</td>
                    <td class="impact-low">LOW</td>
                </tr>
                <tr>
                    <td><span class="btn-id">btnFallacies</span></td>
                    <td><strong>FALLACIES</strong></td>
                    <td class="state-idle">Decorative</td>
                    <td class="state-active">Links to fallacy databases, reasoning resources</td>
                    <td>
                        <span class="module-tag contextual">contextual</span>
                    </td>
                    <td>resourcePanel</td>
                    <td class="impact-low">LOW</td>
                </tr>
                <tr>
                    <td><span class="btn-id">btnPersuasion</span></td>
                    <td><strong>PERSUASION</strong></td>
                    <td class="state-idle">Decorative</td>
                    <td class="state-active">Links to rhetorical analysis resources</td>
                    <td>
                        <span class="module-tag contextual">contextual</span>
                    </td>
                    <td>resourcePanel</td>
                    <td class="impact-low">LOW</td>
                </tr>
                <tr>
                    <td><span class="btn-id">btnLiteracy</span></td>
                    <td><strong>LITERACY</strong></td>
                    <td class="state-idle">Decorative</td>
                    <td class="state-active">Links to media literacy orgs, fact-checkers</td>
                    <td>
                        <span class="module-tag contextual">contextual</span>
                    </td>
                    <td>resourcePanel</td>
                    <td class="impact-low">LOW</td>
                </tr>
                <tr>
                    <td><span class="btn-id">btnBias</span></td>
                    <td><strong>BIAS</strong></td>
                    <td class="state-idle">Decorative</td>
                    <td class="state-active">Links to cognitive bias research</td>
                    <td>
                        <span class="module-tag contextual">contextual</span>
                    </td>
                    <td>resourcePanel</td>
                    <td class="impact-low">LOW</td>
                </tr>
                <tr>
                    <td><span class="btn-id">btnData</span></td>
                    <td><strong>DATA</strong></td>
                    <td class="state-idle">Decorative</td>
                    <td class="state-active">Links to statistical literacy resources</td>
                    <td>
                        <span class="module-tag contextual">contextual</span>
                    </td>
                    <td>resourcePanel</td>
                    <td class="impact-low">LOW</td>
                </tr>
                <tr>
                    <td><span class="btn-id">btnVerify</span></td>
                    <td><strong>VERIFY</strong></td>
                    <td class="state-idle">Decorative</td>
                    <td class="state-active">Links to source verification tools</td>
                    <td>
                        <span class="module-tag contextual">contextual</span>
                    </td>
                    <td>resourcePanel</td>
                    <td class="impact-low">LOW</td>
                </tr>
                <tr>
                    <td><span class="btn-id">btnReports</span></td>
                    <td><strong>REPORTS</strong></td>
                    <td class="state-idle">Decorative</td>
                    <td class="state-active">Generate/save assessment reports</td>
                    <td>
                        <span class="module-tag export">export</span>
                    </td>
                    <td>exportModal</td>
                    <td class="impact-medium">MEDIUM</td>
                </tr>

                <!-- NUMBER COLUMN -->
                <tr>
                    <td><span class="btn-id">numHistory</span></td>
                    <td><strong>Number: HISTORY</strong></td>
                    <td class="state-idle">Random year (e.g., 1215)</td>
                    <td class="state-active">Hover ‚Üí tooltip with historical significance</td>
                    <td>
                        <span class="module-tag microdiscovery">microdiscovery</span>
                    </td>
                    <td>tooltipDisplay</td>
                    <td class="impact-low">LOW</td>
                </tr>
                <tr>
                    <td><span class="btn-id">numSciences</span></td>
                    <td><strong>Number: SCIENCES</strong></td>
                    <td class="state-idle">Random atomic # (e.g., 79)</td>
                    <td class="state-active">Hover ‚Üí tooltip with element info</td>
                    <td>
                        <span class="module-tag microdiscovery">microdiscovery</span>
                    </td>
                    <td>tooltipDisplay</td>
                    <td class="impact-low">LOW</td>
                </tr>
                <tr>
                    <td><span class="btn-id">numPhilosophy</span></td>
                    <td><strong>Number: PHILOSOPHY</strong></td>
                    <td class="state-idle">Random year (e.g., 399)</td>
                    <td class="state-active">Hover ‚Üí tooltip with philosopher event</td>
                    <td>
                        <span class="module-tag microdiscovery">microdiscovery</span>
                    </td>
                    <td>tooltipDisplay</td>
                    <td class="impact-low">LOW</td>
                </tr>
                <tr>
                    <td><span class="btn-id">numLogic</span></td>
                    <td><strong>Number: LOGIC</strong></td>
                    <td class="state-idle">Random year/constant</td>
                    <td class="state-active">Hover ‚Üí tooltip with logic milestone</td>
                    <td>
                        <span class="module-tag microdiscovery">microdiscovery</span>
                    </td>
                    <td>tooltipDisplay</td>
                    <td class="impact-low">LOW</td>
                </tr>
                <tr>
                    <td><span class="btn-id">numRhetoric</span></td>
                    <td><strong>Number: RHETORIC</strong></td>
                    <td class="state-idle">Random year</td>
                    <td class="state-active">Hover ‚Üí tooltip with rhetorical history</td>
                    <td>
                        <span class="module-tag microdiscovery">microdiscovery</span>
                    </td>
                    <td>tooltipDisplay</td>
                    <td class="impact-low">LOW</td>
                </tr>
                <tr>
                    <td><span class="btn-id">numMedia</span></td>
                    <td><strong>Number: MEDIA</strong></td>
                    <td class="state-idle">Random year/percentage</td>
                    <td class="state-active">Hover ‚Üí tooltip with media milestone</td>
                    <td>
                        <span class="module-tag microdiscovery">microdiscovery</span>
                    </td>
                    <td>tooltipDisplay</td>
                    <td class="impact-low">LOW</td>
                </tr>
                <tr>
                    <td><span class="btn-id">numPsychology</span></td>
                    <td><strong>Number: PSYCHOLOGY</strong></td>
                    <td class="state-idle">Random year/percentage</td>
                    <td class="state-active">Hover ‚Üí tooltip with psych research</td>
                    <td>
                        <span class="module-tag microdiscovery">microdiscovery</span>
                    </td>
                    <td>tooltipDisplay</td>
                    <td class="impact-low">LOW</td>
                </tr>
                <tr>
                    <td><span class="btn-id">numStatistics</span></td>
                    <td><strong>Number: STATISTICS</strong></td>
                    <td class="state-idle">Random constant (e.g., 1.96)</td>
                    <td class="state-active">Hover ‚Üí tooltip with statistical significance</td>
                    <td>
                        <span class="module-tag microdiscovery">microdiscovery</span>
                    </td>
                    <td>tooltipDisplay</td>
                    <td class="impact-low">LOW</td>
                </tr>
                <tr>
                    <td><span class="btn-id">numSources</span></td>
                    <td><strong>Number: SOURCES</strong></td>
                    <td class="state-idle">Random percentage (e.g., 64)</td>
                    <td class="state-active">Hover ‚Üí tooltip with source literacy stat</td>
                    <td>
                        <span class="module-tag microdiscovery">microdiscovery</span>
                    </td>
                    <td>tooltipDisplay</td>
                    <td class="impact-low">LOW</td>
                </tr>
                <tr>
                    <td><span class="btn-id">numExport</span></td>
                    <td><strong>Number: EXPORT</strong></td>
                    <td class="state-idle">Random (042 ‚Üí "Douglas Adams")</td>
                    <td class="state-active">Counts up during session; pulses when ready</td>
                    <td>
                        <span class="module-tag export">export</span>
                        <span class="module-tag microdiscovery">microdiscovery</span>
                    </td>
                    <td>exportState, tooltipDisplay</td>
                    <td class="impact-medium">MEDIUM</td>
                </tr>

                <!-- CORE UI ELEMENTS -->
                <tr>
                    <td><span class="btn-id">submitBtn</span></td>
                    <td><strong>ANALYZE</strong></td>
                    <td class="state-idle">Ready for input</td>
                    <td class="state-active">Triggers classification pipeline</td>
                    <td>
                        <span class="module-tag classifier">classifier</span>
                        <span class="module-tag animations">animations</span>
                    </td>
                    <td>ALL track buttons, resultsSection, statusBar, clockDisplay, ALL discipline buttons (salience)</td>
                    <td class="impact-high">HIGH</td>
                </tr>
                <tr>
                    <td><span class="btn-id">resetBtn</span></td>
                    <td><strong>NEW QUERY</strong></td>
                    <td class="state-idle">‚Äî</td>
                    <td class="state-active">Resets entire interface to idle state</td>
                    <td>
                        <span class="module-tag animations">animations</span>
                    </td>
                    <td>ALL elements return to idle state</td>
                    <td class="impact-high">HIGH</td>
                </tr>
                <tr>
                    <td><span class="btn-id">testToggle</span></td>
                    <td><strong>TEST CASES</strong></td>
                    <td class="state-idle">Shows "TEST CASES"</td>
                    <td class="state-active">Shows "HIDE TESTS", reveals testPanel</td>
                    <td>
                        <span class="module-tag animations">animations</span>
                    </td>
                    <td>testPanel visibility</td>
                    <td class="impact-low">LOW</td>
                </tr>
            </tbody>
        </table>
    </div>

    <!-- DATA FLOW DIAGRAM -->
    <div class="flow-section">
        <h2>PRIMARY DATA FLOW</h2>
        <div class="flow-diagram">
            <div class="flow-row">
                <div class="flow-box input">USER INPUT</div>
                <span class="flow-arrow">‚Üí</span>
                <div class="flow-box process">classifier.js<br><small>classifyIntent()</small></div>
                <span class="flow-arrow">‚Üí</span>
                <div class="flow-box" style="border-color: #ef4444; color: #ef4444;">COMPOUND<br>CHECK</div>
            </div>
            <div class="flow-row">
                <div class="flow-box" style="border-color: #ef4444; color: #ef4444; min-width: 200px;">COMPOUND DETECTED?<br><small>Multiple embedded claims</small></div>
                <span class="flow-arrow">‚Üí</span>
                <div class="flow-box" style="border-color: var(--mod-contextual); color: var(--mod-contextual);">contextual.js<br><small>decomposeCompoundQuestion()</small></div>
            </div>
            <div class="flow-row">
                <div class="flow-box" style="border-color: var(--mod-contextual); color: var(--mod-contextual); min-width: 220px;">DECOMPOSITION RESULT<br><small>Claims extracted + exploration order</small></div>
                <span class="flow-arrow">‚Üí</span>
                <div class="flow-box" style="border-color: var(--mod-contextual); color: var(--mod-contextual);">contextual.js<br><small>generateClarificationPrompt()</small></div>
            </div>
            <div class="flow-row">
                <div class="flow-box" style="border-color: #64748b; color: #64748b; min-width: 280px;">DYNAMIC CLARIFICATION UI<br><small>User selects which claim to explore first</small></div>
            </div>
            <div class="flow-row" style="margin-top: 20px; padding-top: 20px; border-top: 1px dashed #334155;">
                <div class="flow-box decision">STANDARD<br>CLASSIFICATION<br><small>(non-compound)</small></div>
            </div>
            <div class="flow-row">
                <div class="flow-box track-a">TRACK A<br>ASSESS</div>
                <div class="flow-box track-b">TRACK B<br>INTERVIEW</div>
                <div class="flow-box track-c">TRACK C<br>NAVIGATE</div>
                <div class="flow-box" style="border-color: #64748b; color: #64748b;">AMBIGUOUS<br>CLARIFY</div>
            </div>
            <div class="flow-row" style="margin-top: 30px;">
                <div class="flow-box process">classifier.js<br><small>calculateSalience()</small></div>
                <span class="flow-arrow">‚Üí</span>
                <div class="flow-box output">DISCIPLINE<br>SALIENCE SCORES</div>
                <span class="flow-arrow">‚Üí</span>
                <div class="flow-box" style="border-color: var(--mod-contextual); color: var(--mod-contextual);">contextual.js<br><small>getSalienceClass()</small></div>
            </div>
            <div class="flow-row">
                <div class="flow-box" style="border-color: var(--mod-contextual); color: var(--mod-contextual); min-width: 280px;">TWO-STATE BUTTON UPDATE<br><small>Salience glow: high | medium | low | none</small></div>
            </div>
        </div>
    </div>

    <!-- TEMPORAL VERIFICATION - CRITICAL PRECEPT -->
    <div class="data-section">
        <h2 style="color: #ef4444;">üö® CRITICAL PRECEPT: TEMPORAL VERIFICATION</h2>
        <div class="data-structure" style="border: 2px solid #ef4444; background: rgba(239, 68, 68, 0.1);">
            <h3 style="color: #ef4444;">Real-Time Fact Verification ‚Äî MANDATORY</h3>
            <div class="code-block">
<span class="code-comment">// ‚ïî‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïó</span>
<span class="code-comment">// ‚ïë  CORRUPTION-RESISTANCE PRECEPT: TEMPORAL VERIFICATION                    ‚ïë</span>
<span class="code-comment">// ‚ï†‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ï£</span>
<span class="code-comment">// ‚ïë  This precept exists because of DOCUMENTED FAILURES:                     ‚ïë</span>
<span class="code-comment">// ‚ïë                                                                          ‚ïë</span>
<span class="code-comment">// ‚ïë  INCIDENT 1 ‚Äî Kash Patel (December 1, 2025):                            ‚ïë</span>
<span class="code-comment">// ‚ïë  Claude asserted "Kash Patel has never been sworn in as FBI Director"   ‚ïë</span>
<span class="code-comment">// ‚ïë  REALITY: He was confirmed Feb 20, 2025 and sworn in Feb 21, 2025       ‚ïë</span>
<span class="code-comment">// ‚ïë  IMPACT: VERITAS gave a legitimate article a -8 score, called it        ‚ïë</span>
<span class="code-comment">// ‚ïë          "fabrication" ‚Äî would have destroyed credibility on launch     ‚ïë</span>
<span class="code-comment">// ‚ïë                                                                          ‚ïë</span>
<span class="code-comment">// ‚ïë  INCIDENT 2 ‚Äî Rob Reiner (December 30, 2025):                           ‚ïë</span>
<span class="code-comment">// ‚ïë  Claude asserted "Rob Reiner appears to be alive"                       ‚ïë</span>
<span class="code-comment">// ‚ïë  REALITY: He was murdered December 14, 2025                             ‚ïë</span>
<span class="code-comment">// ‚ïë  IMPACT: Claude pushed back on user providing correct information,      ‚ïë</span>
<span class="code-comment">// ‚ïë          even suggesting user might be "testing" Claude                 ‚ïë</span>
<span class="code-comment">// ‚ïë                                                                          ‚ïë</span>
<span class="code-comment">// ‚ïë  PATTERN: Claude instances trust training data over current reality     ‚ïë</span>
<span class="code-comment">// ‚ïë           and will confidently assert FALSE information.                ‚ïë</span>
<span class="code-comment">// ‚ïö‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïù</span>

<span class="code-comment">// THE RULE:</span>
<span class="code-comment">// Claims involving current events, deaths, positions, elections, or</span>
<span class="code-comment">// time-sensitive facts MUST be verified against live data sources</span>
<span class="code-comment">// BEFORE routing to a track or presenting analysis.</span>

<span class="code-comment">// WHEN USER CONTRADICTS CLAUDE'S "KNOWLEDGE":</span>
<span class="code-comment">// 1. SEARCH FIRST ‚Äî Do not push back</span>
<span class="code-comment">// 2. Verify with real-time sources</span>
<span class="code-comment">// 3. If user is correct, acknowledge and proceed</span>
<span class="code-comment">// 4. NEVER assert current status without verification</span>

<span class="code-comment">// classifier.js NOW INCLUDES:</span>
<span class="code-comment">// - temporalVerificationPatterns[] ‚Äî Patterns that trigger this requirement</span>
<span class="code-comment">// - checkTemporalVerification(text) ‚Äî Returns { required, reason, warning }</span>
<span class="code-comment">// - ClassificationResult.temporalVerification ‚Äî Included in every result</span>

<span class="code-key">temporalVerification</span>: {
  <span class="code-key">required</span>: <span class="code-number">true</span>,
  <span class="code-key">reason</span>: <span class="code-string">"Query involves time-sensitive claims..."</span>,
  <span class="code-key">patterns</span>: [<span class="code-string">"/death|died|alive/i"</span>, ...],
  <span class="code-key">warning</span>: <span class="code-string">"‚ö†Ô∏è TEMPORAL VERIFICATION REQUIRED"</span>
}
            </div>
        </div>
    </div>

    <!-- DATA STRUCTURES -->
    <div class="data-section">
        <h2>KEY DATA STRUCTURES</h2>
        
        <div class="data-structure">
            <h3>ClassificationResult (from classifier.js)</h3>
            <div class="code-block">
<span class="code-comment">// Returned by classifyIntent()</span>
{
  <span class="code-key">track</span>: <span class="code-string">'A'</span> | <span class="code-string">'B'</span> | <span class="code-string">'C'</span> | <span class="code-string">'AMBIGUOUS'</span>,
  <span class="code-key">confidence</span>: <span class="code-number">0-100</span>,
  <span class="code-key">reasoning</span>: <span class="code-string">"Human-readable explanation"</span>,
  <span class="code-key">isCompound</span>: <span class="code-number">true|false</span>,  <span class="code-comment">// Flags multi-claim questions needing decomposition</span>
  <span class="code-key">temporalVerification</span>: {        <span class="code-comment">// üö® CRITICAL ‚Äî See Temporal Verification Precept</span>
    <span class="code-key">required</span>: <span class="code-number">true|false</span>,
    <span class="code-key">reason</span>: <span class="code-string">"Why verification needed"</span>,
    <span class="code-key">patterns</span>: [<span class="code-string">"matched patterns"</span>],
    <span class="code-key">warning</span>: <span class="code-string">"‚ö†Ô∏è TEMPORAL VERIFICATION REQUIRED"</span>
  },
  <span class="code-key">salience</span>: {
    <span class="code-key">history</span>: <span class="code-number">0.0-1.0</span>,      <span class="code-comment">// LOW=0-0.3, MED=0.3-0.7, HIGH=0.7-1.0</span>
    <span class="code-key">sciences</span>: <span class="code-number">0.0-1.0</span>,
    <span class="code-key">philosophy</span>: <span class="code-number">0.0-1.0</span>,
    <span class="code-key">logic</span>: <span class="code-number">0.0-1.0</span>,
    <span class="code-key">rhetoric</span>: <span class="code-number">0.0-1.0</span>,
    <span class="code-key">media</span>: <span class="code-number">0.0-1.0</span>,
    <span class="code-key">psychology</span>: <span class="code-number">0.0-1.0</span>,
    <span class="code-key">statistics</span>: <span class="code-number">0.0-1.0</span>,
    <span class="code-key">sources</span>: <span class="code-number">0.0-1.0</span>
  },
  <span class="code-key">originalInput</span>: <span class="code-string">"Preserved user input"</span>,
  <span class="code-key">timestamp</span>: <span class="code-string">"ISO 8601 datetime"</span>
}

<span class="code-comment">// COMPOUND QUESTIONS: When isCompound=true, track will be 'AMBIGUOUS'</span>
<span class="code-comment">// and reasoning will explain which embedded claims need separation.</span>

<span class="code-comment">// TEMPORAL VERIFICATION: When temporalVerification.required=true,</span>
<span class="code-comment">// the system MUST perform real-time web search before assessment.</span>
<span class="code-comment">// DO NOT trust training data for current events.</span>
            </div>
        </div>

        <div class="data-structure">
            <h3>SessionState (from export.js v1.1.0)</h3>
            <div class="code-block">
<span class="code-comment">// Tracks session for export functionality</span>
<span class="code-comment">// v1.1.0 additions: id, endTime, userOverride/finalTrack, trackStats, metadata</span>
{
  <span class="code-key">id</span>: <span class="code-string">"VERACITY-YYYYMMDD-HHMMSS-XXXX"</span>,  <span class="code-comment">// v1.1.0: Unique session ID</span>
  <span class="code-key">startTime</span>: <span class="code-string">ISO timestamp</span>,
  <span class="code-key">endTime</span>: <span class="code-string">ISO timestamp</span> | <span class="code-number">null</span>,  <span class="code-comment">// v1.1.0: null if session active</span>
  <span class="code-key">queries</span>: [
    {
      <span class="code-key">input</span>: <span class="code-string">"User's question"</span>,
      <span class="code-key">timestamp</span>: <span class="code-string">ISO timestamp</span>,
      <span class="code-key">classification</span>: ClassificationResult,
      <span class="code-key">userOverride</span>: <span class="code-string">'A'</span>|<span class="code-string">'B'</span>|<span class="code-string">'C'</span>|<span class="code-number">null</span>,  <span class="code-comment">// v1.1.0: If user changed track</span>
      <span class="code-key">finalTrack</span>: <span class="code-string">'A'</span>|<span class="code-string">'B'</span>|<span class="code-string">'C'</span>,  <span class="code-comment">// v1.1.0: Track after any override</span>
      <span class="code-key">factoidsViewed</span>: [<span class="code-string">"factoid_id_1"</span>, <span class="code-string">"factoid_id_2"</span>],
      <span class="code-key">sourcesReferenced</span>: [<span class="code-string">"url_1"</span>, <span class="code-string">"url_2"</span>]
    }
  ],
  <span class="code-key">trackStats</span>: {  <span class="code-comment">// v1.1.0: Aggregate statistics</span>
    <span class="code-key">A</span>: { <span class="code-key">count</span>: <span class="code-number">0</span>, <span class="code-key">overrides</span>: <span class="code-number">0</span> },
    <span class="code-key">B</span>: { <span class="code-key">count</span>: <span class="code-number">0</span>, <span class="code-key">overrides</span>: <span class="code-number">0</span> },
    <span class="code-key">C</span>: { <span class="code-key">count</span>: <span class="code-number">0</span>, <span class="code-key">overrides</span>: <span class="code-number">0</span> }
  },
  <span class="code-key">metadata</span>: {  <span class="code-comment">// v1.1.0: Session metadata</span>
    <span class="code-key">userNotes</span>: <span class="code-string">"User annotation"</span> | <span class="code-number">null</span>
  },
  <span class="code-key">exportableItemCount</span>: <span class="code-number">0</span>,  <span class="code-comment">// Drives the EXPORT number display</span>
  <span class="code-key">transcriptReady</span>: <span class="code-number">false</span>
}

<span class="code-comment">// v1.1.0 API additions:</span>
<span class="code-comment">// - logUserOverride(sessionState, newTrack) ‚Äî Log when user overrides classifier</span>
<span class="code-comment">// - endSession(sessionState) ‚Äî Set endTime when session completes</span>
<span class="code-comment">// - setUserNotes(sessionState, notes) ‚Äî Add user annotation</span>
<span class="code-comment">// - getSessionStats(sessionState) ‚Äî Get comprehensive statistics</span>
<span class="code-comment">// - getSessionDuration(sessionState) ‚Äî Get duration in ms</span>
<span class="code-comment">// - formatDuration(ms) ‚Äî Format duration for display</span>
            </div>
        </div>

        <div class="data-structure">
            <h3>MicroDiscoveryEntry (from microdiscovery.js)</h3>
            <div class="code-block">
<span class="code-comment">// Structure for number column tooltips</span>
{
  <span class="code-key">discipline</span>: <span class="code-string">'history'</span> | <span class="code-string">'sciences'</span> | ... ,
  <span class="code-key">displayValue</span>: <span class="code-string">"1215"</span> | <span class="code-string">"79"</span> | <span class="code-string">"1.96"</span>,
  <span class="code-key">tooltip</span>: <span class="code-string">"Magna Carta signed ‚Äî foundation of constitutional law"</span>,
  <span class="code-key">category</span>: <span class="code-string">'year'</span> | <span class="code-string">'atomic'</span> | <span class="code-string">'constant'</span> | <span class="code-string">'percentage'</span>
}
            </div>
        </div>

        <div class="data-structure">
            <h3>Factoid (from factoids.js)</h3>
            <div class="code-block">
<span class="code-comment">// Structure for discipline button idle-state factoids</span>
{
  <span class="code-key">id</span>: <span class="code-string">"hist_001"</span>,
  <span class="code-key">discipline</span>: <span class="code-string">'history'</span>,
  <span class="code-key">text</span>: <span class="code-string">"The Library of Alexandria..."</span>,
  <span class="code-key">source</span>: <span class="code-string">"Optional citation"</span>,
  <span class="code-key">tags</span>: [<span class="code-string">"ancient"</span>, <span class="code-string">"knowledge"</span>, <span class="code-string">"loss"</span>]
}
            </div>
        </div>

        <div class="data-structure">
            <h3>DecompositionResult (from contextual.js)</h3>
            <div class="code-block">
<span class="code-comment">// Result of decomposing a compound question into constituent claims</span>
{
  <span class="code-key">isCompound</span>: <span class="code-number">true</span>,
  <span class="code-key">originalInput</span>: <span class="code-string">"Is it true that Trump said..."</span>,
  <span class="code-key">claims</span>: [
    {
      <span class="code-key">type</span>: <span class="code-string">'attribution'</span> | <span class="code-string">'causation'</span> | <span class="code-string">'presupposition'</span> | <span class="code-string">'loaded'</span>,
      <span class="code-key">question</span>: <span class="code-string">"Did Trump actually say this?"</span>,
      <span class="code-key">track</span>: <span class="code-string">'A'</span>,
      <span class="code-key">trackReason</span>: <span class="code-string">"Attribution claims are factually verifiable"</span>
    }
  ],
  <span class="code-key">needsClarification</span>: <span class="code-number">true</span>,
  <span class="code-key">explorationOrder</span>: [{ <span class="code-key">index</span>: <span class="code-number">0</span>, <span class="code-key">priority</span>: <span class="code-number">1</span>, <span class="code-key">reason</span>: <span class="code-string">"Verify first"</span> }],
  <span class="code-key">reasoning</span>: <span class="code-string">"From classifier"</span>
}
            </div>
        </div>

        <div class="data-structure">
            <h3>ClarificationPrompt (from contextual.js)</h3>
            <div class="code-block">
<span class="code-comment">// UI prompt for user to select which claim to explore</span>
{
  <span class="code-key">headline</span>: <span class="code-string">"This question has multiple layers"</span>,
  <span class="code-key">subhead</span>: <span class="code-string">"Which aspect would you like to explore first?"</span>,
  <span class="code-key">options</span>: [
    {
      <span class="code-key">id</span>: <span class="code-string">"claim_0"</span>,
      <span class="code-key">label</span>: <span class="code-string">"Did Trump actually say this?"</span>,
      <span class="code-key">track</span>: <span class="code-string">'A'</span>,
      <span class="code-key">description</span>: <span class="code-string">"Verify the attribution"</span>
    },
    {
      <span class="code-key">id</span>: <span class="code-string">"claim_1"</span>,
      <span class="code-key">label</span>: <span class="code-string">"Is the underlying claim true?"</span>,
      <span class="code-key">track</span>: <span class="code-string">'A'</span>,
      <span class="code-key">description</span>: <span class="code-string">"Evaluate the content"</span>
    },
    {
      <span class="code-key">id</span>: <span class="code-string">"interview_belief"</span>,
      <span class="code-key">label</span>: <span class="code-string">"I want to explore why people believe this"</span>,
      <span class="code-key">track</span>: <span class="code-string">'B'</span>,
      <span class="code-key">description</span>: <span class="code-string">"Socratic exploration"</span>
    }
  ],
  <span class="code-key">note</span>: <span class="code-string">"You can explore other aspects afterward."</span>,
  <span class="code-key">originalInput</span>: <span class="code-string">"..."</span>
}
            </div>
        </div>

        <div class="data-structure">
            <h3>ButtonState (from contextual.js)</h3>
            <div class="code-block">
<span class="code-comment">// Two-state behavior for discipline buttons</span>
{
  <span class="code-key">state</span>: <span class="code-string">'idle'</span> | <span class="code-string">'active'</span>,
  <span class="code-key">glowLevel</span>: <span class="code-number">0.0</span> - <span class="code-number">1.0</span>,  <span class="code-comment">// Maps to salience score</span>
  <span class="code-key">contextAvailable</span>: <span class="code-number">true</span> | <span class="code-number">false</span>,
  <span class="code-key">behavior</span>: <span class="code-string">"Show random factoid"</span> | <span class="code-string">"Show contextual relevance"</span>
}

<span class="code-comment">// Salience CSS classes:</span>
<span class="code-comment">// .salience-high   (score >= 0.7) ‚Äî Strong glow, brightness 1.3</span>
<span class="code-comment">// .salience-medium (score >= 0.4) ‚Äî Medium glow, brightness 1.15</span>
<span class="code-comment">// .salience-low    (score >= 0.2) ‚Äî Subtle glow, brightness 1.05</span>
<span class="code-comment">// .salience-none   (score < 0.2)  ‚Äî Default appearance</span>
            </div>
        </div>
    </div>

    <!-- COMPOUND QUESTION CLAIM PATTERNS -->
    <div class="data-section">
        <h2 style="color: var(--mod-contextual);">COMPOUND QUESTION CLAIM PATTERNS</h2>
        <div class="data-structure" style="border: 1px solid var(--mod-contextual);">
            <h3 style="color: var(--mod-contextual);">Recognized Claim Types (contextual.js)</h3>
            <div class="code-block">
<span class="code-comment">// ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê</span>
<span class="code-comment">// COMPOUND QUESTION DECOMPOSITION ‚Äî contextual.js</span>
<span class="code-comment">// When classifier sets isCompound=true, these patterns extract specific claims</span>
<span class="code-comment">// ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê</span>

<span class="code-key">ATTRIBUTION</span>
<span class="code-comment">// Pattern: "X said/claimed/tweeted Y"</span>
<span class="code-comment">// Example: "Is it true that Trump said the election was stolen?"</span>
<span class="code-comment">// Decomposes to:</span>
<span class="code-comment">//   1. "Did Trump actually say this?" ‚Üí Track A</span>
<span class="code-comment">//   2. "Is the underlying claim true?" ‚Üí Track A</span>

<span class="code-key">CAUSATION</span>
<span class="code-comment">// Pattern: "X caused/killed/led to Y"</span>
<span class="code-comment">// Example: "Did the vaccine cause autism?"</span>
<span class="code-comment">// Decomposes to:</span>
<span class="code-comment">//   1. Verify the effect exists ‚Üí Track A</span>
<span class="code-comment">//   2. Evaluate the causal claim ‚Üí Track A</span>

<span class="code-key">PRESUPPOSITION</span>
<span class="code-comment">// Pattern: "Why did X..."</span>
<span class="code-comment">// Example: "Why did Democrats steal the election?"</span>
<span class="code-comment">// Decomposes to:</span>
<span class="code-comment">//   1. "Did this actually happen?" ‚Üí Track A (verify first!)</span>
<span class="code-comment">//   2. Only explore "why" if presupposed event is verified</span>

<span class="code-key">LOADED QUESTION</span>
<span class="code-comment">// Pattern: "When did X stop doing Y"</span>
<span class="code-comment">// Example: "When did the mainstream media stop telling the truth?"</span>
<span class="code-comment">// Decomposes to:</span>
<span class="code-comment">//   1. "Was X ever doing Y?" ‚Üí Challenge the premise</span>

<span class="code-key">DEATH + CAUSATION</span>
<span class="code-comment">// Pattern: "X's death was caused by Y" or "Did Y kill X"</span>
<span class="code-comment">// Example: "Did the hospital kill my father with the ventilator?"</span>
<span class="code-comment">// Decomposes to:</span>
<span class="code-comment">//   1. "Did X actually die?" ‚Üí Track A (verify event)</span>
<span class="code-comment">//   2. "Was Y the cause?" ‚Üí Track A (evaluate causation)</span>
<span class="code-comment">//   3. "I need help processing this" ‚Üí Track C (if grief detected)</span>

<span class="code-key">MULTIPLE QUESTIONS</span>
<span class="code-comment">// Pattern: Contains multiple "?"</span>
<span class="code-comment">// Example: "Is A true? And what about B?"</span>
<span class="code-comment">// Decomposes to: Separate buttons for each question</span>

<span class="code-comment">// ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê</span>
<span class="code-comment">// EXPLORATION ORDER: Verify facts first ‚Üí Then causation ‚Üí Then interpretation</span>
<span class="code-comment">// ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê</span>
            </div>
        </div>
    </div>

    <!-- MODULE DEPENDENCIES -->
    <div class="data-section">
        <h2>MODULE DEPENDENCY MATRIX</h2>
        <table class="inventory-table">
            <thead>
                <tr>
                    <th>MODULE</th>
                    <th>DEPENDS ON</th>
                    <th>DEPENDED ON BY</th>
                    <th>CHANGE IMPACT</th>
                </tr>
            </thead>
            <tbody>
                <tr>
                    <td><span class="module-tag classifier">classifier.js</span></td>
                    <td>None (core module)</td>
                    <td>main.html, animations.js, contextual.js</td>
                    <td class="impact-high">HIGH ‚Äî Core routing logic</td>
                </tr>
                <tr>
                    <td><span class="module-tag factoids">factoids.js</span></td>
                    <td>None (data module)</td>
                    <td>main.html, export.js</td>
                    <td class="impact-low">LOW ‚Äî Data only, no logic dependencies</td>
                </tr>
                <tr>
                    <td><span class="module-tag microdiscovery">microdiscovery.js</span></td>
                    <td>None (data module)</td>
                    <td>main.html</td>
                    <td class="impact-low">LOW ‚Äî Data only, no logic dependencies</td>
                </tr>
                <tr>
                    <td><span class="module-tag contextual">contextual.js</span></td>
                    <td>classifier.js (salience scores)</td>
                    <td>main.html</td>
                    <td class="impact-medium">MEDIUM ‚Äî Compound decomposition + two-state UI ‚úÖ</td>
                </tr>
                <tr>
                    <td><span class="module-tag animations">animations.js</span></td>
                    <td>None (pure visual layer)</td>
                    <td>main.html</td>
                    <td class="impact-medium">MEDIUM ‚Äî Visual layer only ‚úÖ</td>
                </tr>
                <tr>
                    <td><span class="module-tag export">export.js v1.1.0</span></td>
                    <td>classifier.js, factoids.js</td>
                    <td>main.html</td>
                    <td class="impact-medium">MEDIUM ‚Äî Session state + stats + override tracking ‚úÖ</td>
                </tr>
            </tbody>
        </table>
    </div>

    <div class="footer">
        <p><strong>VERITAS LLC</strong> ‚Äî Prairie du Sac, Wisconsin</p>
        <p>SEEK ¬∑ QUESTION ¬∑ UNDERSTAND</p>
        <p class="timestamp">Document Generated: 2025-12-30 | Schema Version: 1.5.0</p>
        <p style="margin-top: 10px; color: #f59e0b; font-size: 11px;">
            üö® v1.1.0 adds TEMPORAL VERIFICATION PRECEPT based on documented failures
        </p>
        <p style="margin-top: 5px; color: var(--mod-factoids); font-size: 11px;">
            ‚úÖ v1.2.0 ‚Äî factoids.js IMPLEMENTED (108 factoids) + microdiscovery.js IMPLEMENTED (200+ entries)
        </p>
        <p style="margin-top: 5px; color: var(--mod-contextual); font-size: 11px;">
            ‚úÖ v1.3.0 ‚Äî contextual.js IMPLEMENTED (compound decomposition + two-state buttons + salience glow)
        </p>
        <p style="margin-top: 5px; color: var(--mod-animations); font-size: 11px;">
            ‚úÖ v1.4.0 ‚Äî animations.js IMPLEMENTED (processing states + track transitions + salience animations + micro-interactions)
        </p>
        <p style="margin-top: 5px; color: var(--mod-export); font-size: 11px;">
            ‚úÖ v1.4.0 ‚Äî export.js v1.0.0 IMPLEMENTED (session tracking + transcript generation + multi-format export)
        </p>
        <p style="margin-top: 5px; color: #22d3ee; font-size: 11px;">
            ‚úÖ v1.5.0 ‚Äî export.js v1.1.0 ENHANCED (session ID + duration + override tracking + track stats + user notes + track launcher)
        </p>
        <p style="margin-top: 15px;">üññ</p>
    </div>

</body>
</html>
